import{a as _e}from"https://app.framerstatic.com/chunk-IHOAENGB.mjs";import{r as xe}from"https://app.framerstatic.com/chunk-OE3UH73D.mjs";import{a as Y}from"https://app.framerstatic.com/chunk-X7PME7OH.mjs";import{a as $e}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{a as ze}from"https://app.framerstatic.com/chunk-YOFBDBTL.mjs";import{$e as Ve,Ce as Me,De,Ge as We,He as Se,Oe as Le,Pe as Be,Xe as Ne,Ye as Fe,_e as He,af as Ke,kg as ie,lg as Ae,mg as se}from"https://app.framerstatic.com/chunk-2GS7YNG7.mjs";import{a as k}from"https://app.framerstatic.com/chunk-QFU6OGL3.mjs";import{B as ge,ga as Ie,hr as oe,ir as ne,jr as F}from"https://app.framerstatic.com/chunk-L7L7BWTW.mjs";import{i as Ce}from"https://app.framerstatic.com/chunk-LFB3N7NP.mjs";import{d as re}from"https://app.framerstatic.com/chunk-R3NZHMAQ.mjs";import{b as $,d as y,e as ke,i as Oe,k as te}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as L,b as R,ce as Ee,i as he}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{g as Te}from"https://app.framerstatic.com/chunk-PI2QROPJ.mjs";import{e as g,j as s,k as P,l as ve,m as ee}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var W=g(L());var ae=g(L());function yt(o){try{return $(o)?JSON.parse(o):null}catch{return null}}function Pe(o,t){let e=localStorage.getItem(o),n=yt(e);return t(n)?n:null}function Jt(o,t){let[e]=(0,ae.useState)(()=>Pe(o,t)),n=(0,ae.useCallback)(r=>{let a=JSON.stringify(r);localStorage.setItem(o,a)},[o]);return[e,n]}var V=g(L());var je="windowBarCursor_wuk326o",Ue="noPointerEvents_n283lgw",Xe="pointerEvents_pue1ity";var O=g(R()),Ye=.1,H=Ce.panelPadding,we=9999999999999;function Tt(o,t){let r=t.width-o.width,a=t.height-o.height;return{minX:0,minY:0,maxX:r,maxY:a}}function Ge(o){let t=o.trim(),e=parseInt(t);return y(e)?t.endsWith("%")?{value:e,unit:"%"}:t.endsWith("px")?{value:e,unit:"px"}:null:null}var G=class extends V.default.Component{constructor(){super(...arguments);s(this,"containerRef",V.default.createRef());s(this,"contentWrapperRef",V.default.createRef());s(this,"setContainerRefs",e=>{this.containerRef.current=e;let{containerRef:n}=this.props;n&&(n.current=e)});s(this,"setContentWrapperRefs",e=>{this.contentWrapperRef.current=e;let{contentWrapperRef:n}=this.props;n&&(n.current=e)});s(this,"hasMoved",!1);s(this,"dragStartRect",null);s(this,"getConstraintsRect",()=>{let e=this.containerRef.current;return e?e.getBoundingClientRect():null});s(this,"getWindowRect",()=>{let e=this.getConstraintsRect();if(!e)return null;let n=this.contentWrapperRef.current;if(!n)return null;let r=n.getBoundingClientRect();return{x:r.left-e.x,y:r.top-e.y,width:r.width,height:r.height}});s(this,"onDragStart",e=>{this.dragStartRect=this.getWindowRect(),this.hasMoved=!1});s(this,"onDrag",e=>{if(!this.dragStartRect)return;let n=this.getWindowRect();if(!n)return;let{width:r,height:a}=n;!this.hasMoved&&e.offset.x===0&&e.offset.y===0||(this.hasMoved=!0,this.setRect({...ge.add(e.offset,this.dragStartRect),width:r,height:a},{rubberBandingEnabled:!0,snapToEdges:!0,fixedTop:!1}))});s(this,"onDragEnd",e=>{this.dragStartRect&&(this.dragStartRect=null,this.hasMoved&&(this.setFloatingWindowProperties({x:0,y:0,transition:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"}),this.props.onDragEnd?.()))});s(this,"persistCurrentTopOffset",()=>{let e=this.getWindowRect();e&&this.setFloatingWindowProperties({fixedTop:e.y,top:1,bottom:0})});s(this,"hasPersistedTopOffset",()=>{let e=this.containerRef.current?.style.getPropertyValue("--floating-window-fixed-top"),n=parseInt(e||"");return y(n)&&n!==we})}componentDidMount(){let{restorationKey:e}=this.props;if(!e)return;let n=Pe(e,Ze);n&&this.setFloatingWindowProperties(n)}render(){let{initialTopOffset:e,initialLeftOffset:n,visible:r,className:a,zIndex:i,constraintBy:d}=this.props,u=we,p=0,l=1,m=0,c=1;if($(e)){let f=Ge(e);f&&(f.unit==="%"?(p=he(0,100,f.value),l=100-f.value):f.unit==="px"?(u=f.value,p=1,l=0):(f.unit,void 0))}if($(n)){let f=Ge(n);f?.unit==="%"&&(m=he(0,100,f.value),c=100-f.value)}let h=`calc(${u}px - var(--framerInternalUI-chromeMarginTop) - ${H}px)`;return(0,O.jsxs)("div",{ref:this.setContainerRefs,className:k(Ue,a),style:{position:"absolute",top:`calc(var(--framerInternalUI-chromeMarginTop) + ${H}px)`,left:d==="app"?`${H}px`:`calc(var(--framerInternalUI-chromeMarginLeft) + ${H}px)`,right:d==="app"?`${H}px`:`calc(var(--framerInternalUI-chromeMarginRight) + ${H}px)`,bottom:`calc(var(--framerInternalUI-chromeMarginBottom) + ${H}px)`,display:"flex",visibility:r?"visible":"hidden",flexDirection:"row",zIndex:i},children:[(0,O.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-left, ${m})`}}),(0,O.jsxs)("div",{style:{width:"auto",display:"flex",flexDirection:"column"},children:[(0,O.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-top, ${p})`,maxHeight:`var(--floating-window-fixed-top, ${h})`}}),(0,O.jsx)("div",{ref:this.setContentWrapperRefs,onPointerDownCapture:this.props.onPointerDownCapture,draggable:!1,className:k(Xe,xe),style:{position:"relative",height:"auto",width:"auto",maxHeight:"100%",flexShrink:0,transform:"translate(var(--floating-window-x, 0px), var(--floating-window-y, 0px))",transition:"var(--floating-window-transform)"},children:(0,O.jsx)(qe.Provider,{value:this,children:this.props.children})}),(0,O.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-bottom, ${l})`}})]}),(0,O.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-right, ${c})`}})]})}setPosition(e,{snapToEdges:n}){let r=this.getConstraintsRect(),a=this.getWindowRect();if(!a||!r)return;let i=ge.subtract(e,r);this.setRect({...i,width:a.width,height:a.height},{rubberBandingEnabled:!1,fixedTop:!0,snapToEdges:n})}setRect(e,{rubberBandingEnabled:n,snapToEdges:r,fixedTop:a}){let i=this.getConstraintsRect();if(!i)return;let{minX:d,minY:u,maxX:p,maxY:l}=Tt(e,i),m=e.x,c=e.y;if(r){let S=Math.abs(m-d),C=Math.abs(m-p),w=Math.abs(c-u),z=Math.abs(c-l);S<16?m=d:C<16&&(m=p),w<16?c=u:z<16&&(c=l)}let h=0,f=0;m<=d?(m=0,h=e.x-d):m>=p&&(h=e.x-p),c<u?(c=u,f=e.y-u):c>=l&&(f=e.y-l);let x=0,v=0;n&&(x=h*Ye,v=f*Ye);let I=St({...e,x:m,y:c},i);this.setFloatingWindowProperties({top:a?1:I.top,bottom:a?0:I.bottom,fixedTop:a?I.top:void 0,right:I.right,left:I.left,x,y:v,transition:""})}setResizeRect({top:e,right:n,bottom:r,left:a}){this.setFloatingWindowProperties({top:e,right:n,bottom:r,left:a,fixedTop:void 0,x:0,y:0,transition:""})}setFloatingWindowProperties(e){let n=this.containerRef.current;if(!n)return;let r={};y(e.top)&&(r["--floating-window-top"]=e.top.toString()),y(e.right)&&(r["--floating-window-right"]=e.right.toString()),y(e.bottom)&&(r["--floating-window-bottom"]=e.bottom.toString()),y(e.left)&&(r["--floating-window-left"]=e.left.toString()),y(e.fixedTop)?r["--floating-window-fixed-top"]=`${e.fixedTop}px`:r["--floating-window-fixed-top"]=`${we}px`,y(e.x)&&(r["--floating-window-x"]=`${e.x}px`),y(e.y)&&(r["--floating-window-y"]=`${e.y}px`),$(e.transition)&&(r["--floating-window-transform"]=e.transition);let a=Object.keys(r);for(let d of a){let u=r[d];n.style.setProperty(d,u)}let{restorationKey:i}=this.props;if(i&&Ze(e,{strict:!1})){let d={top:e.top,bottom:e.bottom,left:e.left,right:e.right,fixedTop:e.fixedTop},u=JSON.stringify(d);localStorage.setItem(i,u)}}};s(G,"defaultProps",{visible:!0,constraintBy:"canvas"});var It="top",kt="right",Ot="bottom",Et="left",Ct="fixedTop",Mt="x",Dt="y",Wt="transition";function Ze(o,{strict:t}={strict:!0}){if(!ke(o)||t&&(Mt in o||Dt in o||Wt in o)||!y(o[It])||!y(o[kt])||!y(o[Ot])||!y(o[Et]))return!1;let e=o[Ct];return y(e)||Oe(e)}var qe=V.default.createContext(null),Je=V.default.forwardRef(function(t,e){let n=V.default.useContext(qe);return(0,O.jsx)(ie,{ref:e,...t,className:k(t.className,je,xe),onDragStart:n?.onDragStart,onDrag:n?.onDrag||$e,onDragEnd:n?.onDragEnd,cursor:"-webkit-grabbing"})});function St(o,t){let e=o.y,n=e+o.height,r=o.x,a=r+o.width,i=e,d=r,u=t.height-n,p=t.width-a;return{top:i,bottom:u,left:d,right:p}}var M=g(L());var b=g(L()),tt=g(R()),be=(0,b.createContext)(()=>()=>{});function ho(o,t){let e=(0,b.useContext)(be),[n,r]=(0,b.useState)(!1);return(0,b.useLayoutEffect)(()=>e(a=>{r(()=>o?o.some(i=>a.variantOverrideKeys.has(i)):t?t.some(i=>a.variantOverrideTraitTypes.has(i)):!1)}),[o,t,e]),n}function Qe(){let o=(0,b.useContext)(be),[t,e]=(0,b.useState)({variantOverrideKeys:new Set,variantOverrideTraitTypes:new Set});return(0,b.useLayoutEffect)(()=>o(n=>{e(n)}),[o,e]),t}function et({children:o,variantOverrideTraitTypes:t,variantOverrideKeys:e}){let n=(0,b.useRef)(),r=(0,b.useMemo)(()=>{let a=new Set;return{listeners:a,addListener:i=>{a.add(i);let d=n.current;return d&&i(d),()=>{a.delete(i)}}}},[]);return(0,b.useLayoutEffect)(()=>{let a={variantOverrideTraitTypes:t,variantOverrideKeys:e};n.current=a,r.listeners.forEach(i=>i(a))},[r,e,t]),(0,tt.jsx)(be.Provider,{value:r.addListener,children:o})}var ot="popoutButton_pvjhuxd",nt="popoutButtonDisabled_pcpv5lz",rt="popoutButtonLarge_p1awmd8";var it=g(L()),ue=(0,it.createContext)(null);var B=g(L());function ye(o){switch(o){case"DeprecatedDrafts":case"ImageCrop":case"ImageFocalPoint":case"QuickActions":case"UpsellEnterprise":return!0;default:return!1}}function Io(o){return ye(o)?25:22}var at=g(R());function st({children:o}){let t=Le(),e=Ft();return(0,at.jsx)(Be,{mode:e?"darkOnDarkModal":t,children:o})}function Bt(){let t=ne().stores.chromeStore.useState(e=>e.mainView);return _e(t)}function Nt(){return!1}var Ft=re?Nt:Bt;var E,T,_=class{constructor({triggerRender:t,willOpen:e,willPush:n,willPop:r}){ve(this,E,[]);ve(this,T,-1);s(this,"triggerRender");s(this,"willOpen");s(this,"willPush");s(this,"willPop");s(this,"present",(t,e,{parent:n,triggerRef:r,displayDivider:a,title:i,className:d,onDismiss:u,onPresent:p,educationTooltipId:l,educationText:m,onClickEducation:c,enterAnimationDisabled:h,toolbarAction:f,autoFocusInside:x})=>{if(t&&this.isPresenting(t,{atIndex:0})){P(this,T)===0?this.close():(this.setStackIndex(0),this.willOpen?.(r?.current));return}if(n){let v=this.indexForItem(n);if(v===-1)return null;ee(this,E,P(this,E).slice(0,v+1)),p?.(),this.willPush?.()}else this.setStackIndex(-1),p?.(),this.willOpen?.(r?.current);P(this,E).push({id:t,timestamp:Date.now(),element:e,triggerRef:r,displayDivider:a,title:i,className:d,onDismiss:u,onPresent:p,dismissed:!1,educationTooltipId:l,educationText:m,onClickEducation:c,enterAnimationDisabled:h,toolbarAction:f,autoFocusInside:x}),this.setStackIndex(P(this,T)+1)});s(this,"updatePopout",(t,e,n,r)=>{if(this.isClosed())return;let a=this.indexForItem(t);if(a===-1)return;let i=P(this,E)[a];if(!i)return;let d=i.element,u=i.title,p=i.autoFocusInside;d===e&&u===n&&p===r||(i.element=e,i.title=n,i.autoFocusInside=r,a<=P(this,T)&&requestAnimationFrame(this.triggerRender))});s(this,"isPresenting",(t,e)=>{if(this.isClosed())return!1;let n=this.indexForItem(t);return!(n<0||n>P(this,T)||e&&e.atIndex!==n)});s(this,"isOpen",()=>P(this,T)>-1);s(this,"isClosed",()=>!this.isOpen());s(this,"close",()=>{this.setStackIndex(-1)});s(this,"dismiss",t=>{let e=this.indexForItem(t);e!==-1&&P(this,T)>=e&&(this.willPop?.(),this.setStackIndex(e-1))});s(this,"goBack",(t=!1)=>{let e=this.stack[0];if(this.willPop?.(),this.setStackIndex(P(this,T)-1),t&&this.currentStackIndex===-1){let n=e?.triggerRef?.current;n instanceof HTMLElement&&n.focus()}});s(this,"indexForItem",t=>P(this,E).findIndex(e=>e.id===t));s(this,"setStackIndex",t=>{let e=Math.max(-1,t);P(this,T)!==e&&(P(this,E).forEach((n,r)=>{r<=t||n.dismissed||(n.dismissed=!0,n.onDismiss?.())}),ee(this,T,e),e<0&&ee(this,E,[]),this.triggerRender(),this.listeners.forEach(n=>n()))});s(this,"listeners",new Set);s(this,"registeredPopouts",{});s(this,"shouldPresentPopoutId",null);s(this,"shouldPresentPopoutIdTimer");s(this,"registerPopout",(t,e,n)=>{this.registeredPopouts[t]=n,this.shouldPresentPopoutId===t&&n()});s(this,"deregisterPopout",t=>{delete this.registeredPopouts[t];let e=this.indexForItem(t);e===-1||P(this,T)<e||this.setStackIndex(e-1)});s(this,"popoutIsRegistered",t=>t in this.registeredPopouts);s(this,"presentPopout",t=>{if(this.isPresenting(t,{atIndex:0}))return;let e=this.registeredPopouts[t];te(e)?e():this.presentPopoutOnRegistration(t)});s(this,"presentPopoutOnRegistration",t=>{clearTimeout(this.shouldPresentPopoutIdTimer),this.shouldPresentPopoutId=t,this.shouldPresentPopoutIdTimer=setTimeout(()=>{this.shouldPresentPopoutId=null},100)});this.triggerRender=t,this.willOpen=e,this.willPush=n,this.willPop=r}get stack(){return P(this,E)}get currentStackIndex(){return P(this,T)}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}};E=new WeakMap,T=new WeakMap;var ut="popover_pjkind9",ct="contentClip_c1l0qpj8";var K=g(R()),Vt={x:10,y:0};function dt({navigationRef:o,anchorRef:t,children:e,attachTo:n="right",offset:r=Vt,onKeydown:a,onCopy:i,fallbackToModalAppearance:d}){let u=oe(),p=B.default.useRef(a);p.current=a;let l=$t(),[,m]=B.default.useState(0),[c]=B.default.useState(()=>new _({triggerRender:()=>m(v=>v+1)})),h=c.isOpen(),f=B.default.useCallback(v=>{F(u)&&u.stores.mouseStore.setModifiers(v.nativeEvent),v.key==="Escape"&&(c.goBack(!0),v.stopPropagation()),p.current?.(v)},[c]),x=B.default.useCallback(v=>{F(u)&&u.stores.mouseStore.setModifiers(v.nativeEvent)},[]);return B.default.useEffect(()=>{if(o)return te(o)?(o(c),()=>{o(null)}):(o.current=c,()=>{o.current=null})},[c,o]),B.default.useEffect(()=>{if(!(!h||!i))return document.addEventListener("copy",i),document.addEventListener("cut",i),()=>{document.removeEventListener("copy",i),document.removeEventListener("cut",i)}},[h,i]),(0,K.jsxs)(ue.Provider,{value:c,children:[e,h&&(0,K.jsx)(st,{children:(0,K.jsx)(He,{anchor:t.current,alignSelf:"center",attachTo:n,offset:r,onClose:c.close,className:ut,onKeyDown:f,onKeyUp:x,focusTrapEnabled:!l,arrow:{anchor:t.current},fallbackToModalAppearance:d,children:(0,K.jsx)("div",{className:k(ct),children:(0,K.jsx)(se,{stack:c.stack,currentIndex:c.currentStackIndex,onBack:c.goBack,onClose:c.close})})})})]})}function Kt(){let o=ne(),t=o.stores.pluginStore.useState(n=>n.activePlugin?n.activePlugin.modeHandlers.mode!=="canvas":!1),e=o.stores.modalStore.useState(n=>ye(n.active.type));return t||e}function At(){return!1}var $t=re?At:Kt;var D=g(R()),ft="data-is-popout-button",mt=`[${ft}]`;function _t({popout:o,navigationTitle:t,navigationClassName:e,id:n,enabled:r=!0,displayDivider:a,onBeforePresent:i=()=>!0,onPresent:d=()=>{},onDismiss:u=()=>{},ref:p,educationTooltipId:l,educationText:m,onClickEducation:c,enterAnimationDisabled:h=!1,autoFocusInside:f,displayInPopover:x}){let v=jt(n),I=M.default.useRef(null),S=p??I,C=M.default.useContext(Ae),w=M.default.useContext(ue),[z,ce]=M.default.useState(!1),de=Se(),le=Ke(),j=Qe(),q=Fe(x),J=lt((0,D.jsx)(Ne.Provider,{value:q,children:(0,D.jsx)(Ve.Provider,{value:le,children:(0,D.jsx)(We.Provider,{value:de,children:(0,D.jsx)(et,{variantOverrideKeys:j.variantOverrideKeys,variantOverrideTraitTypes:j.variantOverrideTraitTypes,children:o})})})})),U=lt(t);w?.updatePopout(v,J,U,f);let pe=Y(u),fe=Y(d),A=Y(()=>{if(w){if(!r||!i()){w.close();return}w.present(v,J,{parent:C,triggerRef:S,displayDivider:a,title:U,className:e,onDismiss:pe,onPresent:fe,educationTooltipId:l,educationText:m,onClickEducation:c,enterAnimationDisabled:h,autoFocusInside:f})}}),Q=Y(()=>{w?.dismiss(v)});return M.default.useEffect(()=>{if(!r||!w)return;let X=()=>{Te.isTest||ce(w.isPresenting(v))};return w.addListener(X),w.registerPopout(v,C,A),()=>{w.removeListener(X),w.deregisterPopout(v)}},[v,C,A,r,w]),{present:A,dismiss:Q,isPresenting:z,ref:S}}function lt(o){let t=M.default.useRef(o);return Ie(o,t.current)||(t.current=o),t.current}function rn({popoverNavigationRef:o,displayInPopover:t,popoverAttachmentEdge:e,fallbackToModalAppearance:n,popoverOffset:r,onPopoverKeydown:a,onPopoverCopy:i,...d}){let u=M.default.useRef(null),p=(0,D.jsx)(zt,{displayInPopover:t,...d,ref:u});return t?(0,D.jsx)(dt,{navigationRef:o,anchorRef:u,attachTo:e,onKeydown:a,onCopy:i,offset:r,fallbackToModalAppearance:n,children:p}):p}var zt=M.default.forwardRef(function({id:t,large:e,popout:n,displayDivider:r,navigationTitle:a,navigationClassName:i,className:d,onKeyDown:u,onClick:p,tabIndex:l=0,enabled:m=!0,useFrescoButton:c=!1,withoutStyles:h=!1,frescoButtonProps:f={},onBeforePresent:x,onPresent:v,onDismiss:I,educationTooltipId:S,educationText:C,onClickEducation:w,autoFocusInside:z,togglePopoutEnabled:ce=!1,displayInPopover:de,...le},j){let{present:q,dismiss:J,isPresenting:U}=_t({popout:n,id:t,displayDivider:r,navigationTitle:a,navigationClassName:i,enabled:m,onBeforePresent:x,onPresent:v,onDismiss:I,ref:j,educationTooltipId:S,educationText:C,onClickEducation:w,autoFocusInside:z,displayInPopover:de}),pe=me=>{switch(me.key){case"Enter":case" ":q(),me.preventDefault();break;case"Escape":me.currentTarget.blur(),J();break}},fe=Me(l),A=m===!1,Q={role:"button",ref:j,tabIndex:A?void 0:fe,"aria-selected":U?"true":"false",className:k(d,!c&&!h&&k(ot,A&&nt,e&&rt)),onKeyDown:pt(pe,u),[ft]:!0,...le},X=ce&&U?p:pt(q,p);return c?(0,D.jsx)(De,{enabled:m,...f,...Q,onClick:X}):(0,D.jsx)("div",{id:t,...Q,onClick:X})});function vt(o){return o instanceof HTMLElement?!!o.closest(mt):!1}function sn(o){return o.querySelector(mt)}function an(o){return document.getElementById(o)}function jt(o){let t=M.default.useRef(o);return o&&t.current!==o?t.current=o:t.current||(t.current=Ee()),t.current}function pt(o,t){return t?e=>{o(e),t(e)}:o}var gt="window_wrgelve";var N=g(L()),wt=g(R()),xt="resize-zone",fn=N.default.memo(({side:o,minSize:t,defaultSize:e,maxSize:n,getSize:r,setSize:a,onResizeStart:i,onResizeEnd:d})=>{let[u,p]=N.default.useState("ew-resize");N.default.useEffect(()=>{requestAnimationFrame(()=>{let f=typeof n=="function"?n():n,x=ht(r(),t,f,o);u!==x&&p(x)})},[]);let l=N.default.useRef(),m=N.default.useCallback(()=>{l.current=r(),i&&i()},[r,i]),c=N.default.useCallback(f=>{if(l.current===void 0)return;let x=o==="left"?-1:1,v=o==="top"?f.offset.y:f.offset.x,I=l.current+v*x;Math.abs(I-e)<10&&(I=e),a(I);let S=typeof n=="function"?n():n,C=ht(r(),t,S,o);u!==C&&p(C)},[e,t,n,o,a,r,u,p]),h=N.default.useCallback(()=>{l.current=void 0,d&&d()},[d]);return(0,wt.jsx)(ie,{onDragStart:m,onDrag:c,onDragEnd:h,cursor:u,className:xt,style:{cursor:u,position:"absolute",top:Xt(o),bottom:0,right:Gt(o),left:Yt(o),width:o==="top"?void 0:6,height:o==="top"?6:void 0,zIndex:26,transform:"translate3d(0, 0, 0)",opacity:.5}})});function Xt(o){switch(o){case"top":return-3;default:return 0}}function Yt(o){switch(o){case"left":return-3;case"top":return 0}}function Gt(o){switch(o){case"right":return-3;case"top":return 0}}function Pt(o){return o instanceof HTMLDivElement&&o.classList.contains(xt)}function ht(o,t,e,n){if(n==="top")switch(o){case t:return"s-resize";case e:return"n-resize";default:return"ns-resize"}switch(o){case t:return n==="right"?"e-resize":"w-resize";case e:return n==="right"?"w-resize":"e-resize";default:return"ew-resize"}}var Z=g(R()),bt="data-is-popover-window",Tn=`[${bt}="true"]`,Re=class{constructor(){s(this,"navigation");s(this,"floatingWindowRef",W.default.createRef());s(this,"initialWindowTopOffset","0px");s(this,"initialWindowLeftOffset","100%");s(this,"positionWindowNearElement",t=>{if(!(t instanceof HTMLElement))return;let e=this.floatingWindowRef.current,n=t.getBoundingClientRect(),r=n.top-9;e?e.setPosition({x:n.left,y:r},{snapToEdges:!1}):(this.initialWindowTopOffset=`${r}px`,this.initialWindowLeftOffset=n.left<window.innerWidth-n.right?"0%":"100%")});s(this,"persistCurrentTopOffset",()=>{let t=this.floatingWindowRef.current;t&&(t.hasPersistedTopOffset()||t.persistCurrentTopOffset())});s(this,"isOpen",()=>this.navigation.isOpen());s(this,"close",()=>{this.navigation.close()});s(this,"_rerender");s(this,"rerender",()=>this._rerender?.());s(this,"navigationBarWrapper",t=>(0,Z.jsx)(Je,{children:t}));s(this,"Component",W.default.memo(({zIndex:t,visible:e,onPointerDownCapture:n})=>{let r=oe(),a=ze();(0,W.useEffect)(()=>(this._rerender=a,()=>{this._rerender=void 0}),[a]);let i=this.navigation.isOpen();W.default.useEffect(()=>{if(!i)return;let l=!1,m=()=>{l=!0},c=h=>{l&&this.closeIfClickedOutside(h)};return document.addEventListener("mousedown",m,{capture:!0}),document.addEventListener("click",c),()=>{document.removeEventListener("mousedown",m,{capture:!0}),document.removeEventListener("click",c)}},[i]);let d=(0,W.useCallback)(l=>{F(r)&&r.stores.mouseStore.setModifiers(l.nativeEvent),!l.defaultPrevented&&l.key==="Escape"&&(this.navigation.goBack(!0),l.stopPropagation())},[]),u=(0,W.useCallback)(l=>{F(r)&&r.stores.mouseStore.setModifiers(l.nativeEvent)},[]);return!i||!this.navigation.stack[this.navigation.currentStackIndex]?null:(0,Z.jsx)(G,{ref:this.floatingWindowRef,zIndex:t,visible:e,onPointerDownCapture:n,initialTopOffset:this.initialWindowTopOffset,initialLeftOffset:this.initialWindowLeftOffset,children:(0,Z.jsx)("div",{className:k(gt,this.navigation.stack[this.navigation.currentStackIndex]?.className),onKeyDown:d,onKeyUp:u,onMouseUp:l=>{F(r)&&r.stores.canvasMouseTarget.handleMouseUp(l)},tabIndex:0,[bt]:!0,children:(0,Z.jsx)(se,{stack:this.navigation.stack,currentIndex:this.navigation.currentStackIndex,onBack:this.navigation.goBack,onClose:this.navigation.close,renderNavigationBarWrapper:this.navigationBarWrapper})})})}));s(this,"closeIfClickedOutside",({target:t})=>{Pt(t)||vt(t)||Zt(t)&&this.navigation.close()});this.navigation=new _({triggerRender:this.rerender,willOpen:this.positionWindowNearElement,willPush:this.persistCurrentTopOffset,willPop:this.persistCurrentTopOffset})}};function Zt(o){return o instanceof HTMLElement?!!o.closest("[data-is-right-panel]")||!!o.closest("[data-is-analytics]"):!1}var In=new Re;export{Jt as a,G as b,Je as c,ho as d,et as e,ot as f,ue as g,Io as h,st as i,_ as j,Vt as k,ft as l,_t as m,rn as n,sn as o,an as p,fn as q,Tn as r,In as s};
//# sourceMappingURL=https://app.framerstatic.com/chunk-NR6E7FK3.mjs.map
