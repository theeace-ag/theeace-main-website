import{e as y,g as l}from"https://app.framerstatic.com/chunk-DHNXI6EU.mjs";import{Ib as f,Qe as S,Te as d,Ve as g,We as u,ad as p}from"https://app.framerstatic.com/chunk-L7L7BWTW.mjs";import{g as c}from"https://app.framerstatic.com/chunk-PI2QROPJ.mjs";import{a as P}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";function h(e){return e.userIsViewer?l:c.isAutomation||c.isTest?y:e.acl.find(o=>o.user.id===e.userId)?.permissions??l}var m=class{constructor(n){this.aclPermissions=n}get canDesign(){return this.aclPermissions.canDesign==="on"}get canEditContent(){return this.aclPermissions.canEditContent==="on"}get canPublish(){return this.aclPermissions.canPublish==="on"}get canEditSiteSettings(){return this.canDesign&&this.canEditContent&&this.canPublish}get canPublishToStaging(){return this.canDesign||this.canEditContent||this.canPublish}get canInviteCollaborators(){return this.canDesign||this.canEditContent||this.canPublish}get canEditVariables(){return this.canDesign}get canAddCollections(){return this.canDesign}get canEditAnalytics(){return this.canDesign||this.canEditContent}get canEditLocales(){return this.canDesign}get canEditLocalizedValues(){return this.canEditContent}get canSendDiffs(){return this.canDesign||this.canEditContent}},T=p({canDesign:"Design",canEditContent:"Content",canPublish:"Deploy",canEditSiteSettings:"Design and Content and Deploy",canPublishToStaging:"Design or Content or Deploy",canInviteCollaborators:"Design or Content or Deploy",canEditVariables:"Design",canAddCollections:"Design",canEditAnalytics:"Design or Content",canEditLocales:"Design",canEditLocalizedValues:"Content",canSendDiffs:"Design or Content"});function I(e){let n=h(e);return new m(n)}var b=e=>[e.chromeStore,e.projectStore,e.sessionStore],C=([e,n,o])=>({userIsViewer:e.userIsViewer,acl:n.acl,userId:o.user.id});function V(e,n,o,{signal:r}){let i=b(e),s=C(i),a=n.changes.observe(...i,()=>{let t=C(i);f(s,t)||(s=t,o(t))});r.addEventListener("abort",()=>{n.changes.removeObserver(a)},{once:!0})}function k(e,n){let o,r,i,s;for(let t of e)d(t,!0)?(n===t.id&&(o=o??t),t.dataIdentifier?i=i??t:r=r??t):u(t,!0)&&(s=s??t);let a=o??r??i??s;return P(a,"getFirstCanvasPageOrWebPageNode: Tree must contain at least one Canvas Page or Web Page"),a}function F(e){for(let n of e)if(g(n,!0))return n}function O(e){return e?d(e,!0)||u(e,!0)||S(e,!0)||g(e,!0):!1}export{h as a,m as b,T as c,I as d,b as e,C as f,V as g,k as h,F as i,O as j};
//# sourceMappingURL=https://app.framerstatic.com/chunk-2AHBAQI3.mjs.map
