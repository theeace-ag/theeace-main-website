import{$f as h,P,ag as O,bg as w,cg as M}from"https://app.framerstatic.com/chunk-NBGN6U2B.mjs";import{E as v}from"https://app.framerstatic.com/chunk-Z44G2RQ4.mjs";import{I as N}from"https://app.framerstatic.com/chunk-L7L7BWTW.mjs";import{v as F}from"https://app.framerstatic.com/chunk-PNIOO2GU.mjs";import{a as C}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";function x(n,e){return e.map(t=>{if(!t)return null;let o=t["Average Time (ns)"];if(!o)return t;if(t["Task Name"]==="baseline")t.Faster="-";else{let a=o/1e6;t.Faster=(n/a).toFixed(2)}return delete t.Margin,delete t["Average Time (ns)"],t["Average Time (s)"]=(o/1e9).toFixed(3),t})}async function Y(n){let{default:e}=await import("https://app.framerstatic.com/dist-UWDUEHRE.mjs"),t=new e;t.add("baseline",()=>P.generics.valueFromNode(n)),t.add("new",()=>M(n)),await t.warmup(),await t.run();let o=x(t.results[0]?.mean??0,t.table()),a=[...n.walk()].length;console.log(`Results for serializing ${n.__class} with ${a} nodes`),console.table(o)}async function S(n){let{default:e}=await import("https://app.framerstatic.com/dist-UWDUEHRE.mjs"),t=n.root.toJS(),o=t;function a(){o=JSON.parse(JSON.stringify(t))}let s=new e;s.add("baseline",()=>P.generics.nodeFromValue(o),{beforeEach:a}),s.add("new",()=>h(o),{beforeEach:a}),await s.warmup(),await s.run();let i=x(s.results[0]?.mean??0,s.table()),r=n.size();console.log(`Results for parsing ${r} nodes`),console.table(i)}async function V(n){let{default:e}=await import("https://app.framerstatic.com/dist-UWDUEHRE.mjs"),t=new e({iterations:5});t.add("baseline",()=>n.clone(),{beforeAll:()=>w()}),t.add("new",()=>n.clone(),{beforeAll:()=>O()}),await t.warmup(),await t.run();let o=x(t.results[0]?.mean??0,t.table()),a=[...n.walk()].length;console.log(`Results for cloning ${a} nodes`),console.table(o)}async function A(n,e){let{loadPartialDocument:t,loadOneRootChild:o,TreeAssembler:a}=await import("https://app.framerstatic.com/partialDocument-Z5OQAXZ5.mjs"),{VekterEngine:s}=await import("https://app.framerstatic.com/VekterEngine-JFQEC7WM.mjs"),{DocumentParser:i,serializeDocument:r}=await import("https://app.framerstatic.com/src-PKHX33O2.mjs"),{default:d}=await import("https://app.framerstatic.com/dist-UWDUEHRE.mjs"),c=r(n.toJS()),l=new i(c),m=()=>{let y=t(l,e),b=new Map;for(;!o(l,b););let g=new a(new s,y,b);for(;!g.assembleOnePage(););g.buildCompleteTree()};if(!sessionStorage.getItem("bench")){console.log("Running once, call with sessionStorage.bench = 1 to use benchmark."),console.time("assemblePages"),m(),console.timeEnd("assemblePages");return}let u=new d({});u.add("baseline",m),console.log("warmup"),await u.warmup(),console.log("run"),await u.run();let f=x(u.results[0]?.mean??0,u.table());console.table(f)}var p=F("layout-measuring/projection");function R(n){return{x:n.x/n.w,y:n.y/n.w}}function T(n,e){let t=0,o=0;for(let i=1;i<e.length;i++){let r=e[i];r.x<e[t].x&&(t=i),r.y<e[o].y&&(o=i)}let a=n[t],s=n[o];return C(a!==void 0&&s!==void 0,"minX, minY points must be defined",t,o,n),{minX:new DOMPoint(a.x,a.y),minY:new DOMPoint(s.x,s.y)}}function K(n,e,t,o){let a=n.multiply(e),s=o.map(m=>R(a.transformPoint(m))),{x:i,y:r}=D(n,e,t,T(o,s)),d=n.translate(i,r).multiplySelf(e),c=o.map(m=>R(d.transformPoint(m)));if(!N.anyPointsOutsideRect(t,c))return{x:i,y:r,matrix:d};let l=D(n,e,t,T(o,c));return{x:l.x,y:l.y,matrix:n.translate(l.x,l.y).multiplySelf(e)}}function Q(n,e,t){let o=new DOMPoint(e.x,e.y);return D(n,v.identity(),t,{minX:o,minY:o})}function D(n,e,t,{minX:o,minY:a}){let s=n,i=e,r=t,{a:d,b:c,c:l}=k(s,i,o,r.x,1),{a:m,b:u,c:f}=k(s,i,a,r.y,2),y=(c*f-u*l)/(m*c-d*u),b=(d*f-m*l)/(d*u-m*c);return m*c===d*u?(p.error("Unsolvable coordinates:",{parentMatrix:n,matrix:e,target2dPoint:t,minxp:o,minyp:a}),{x:0,y:0}):{x:y,y:b}}function k(n,e,t,o,a){let s=n["m1"+a],i=e.m14*s*t.x+e.m24*s*t.y+e.m44*s,r=n["m2"+a],d=e.m14*r*t.x+e.m24*r*t.y+e.m44*r,c=n["m3"+a],l=n["m4"+a],m=(e.m11*s+e.m12*r+e.m13*c+e.m14*l)*t.x+(e.m21*s+e.m22*r+e.m23*c+e.m24*l)*t.y+e.m41*s+e.m42*r+e.m43*c+e.m44*l,u=e.m14*n.m14*t.x+e.m24*n.m14*t.y+e.m44*n.m14,f=e.m14*n.m24*t.x+e.m24*n.m24*t.y+e.m44*n.m24,y=(e.m11*n.m14+e.m12*n.m24+e.m13*n.m34+e.m14*n.m44)*t.x+(e.m21*n.m14+e.m22*n.m24+e.m23*n.m34+e.m24*n.m44)*t.y+e.m41*n.m14+e.m42*n.m24+e.m43*n.m34+e.m44*n.m44,b=i-o*u,g=d-o*f,X=o*y-m;return{a:b,b:g,c:X}}export{K as a,Q as b,Y as c,S as d,V as e,A as f};
//# sourceMappingURL=https://app.framerstatic.com/chunk-MMCJFMN5.mjs.map
