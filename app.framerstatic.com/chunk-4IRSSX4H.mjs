import{D as ke,Fa as $,Ib as q,Ma as we,Ua as Ie,Vb as Te,qd as Re,rd as Me}from"https://app.framerstatic.com/chunk-WL7J7OJU.mjs";import{a as De}from"https://app.framerstatic.com/chunk-XBQR3TLW.mjs";import{c as _}from"https://app.framerstatic.com/chunk-PWXLCZ2T.mjs";import{s as O}from"https://app.framerstatic.com/chunk-NR6E7FK3.mjs";import{a as ie}from"https://app.framerstatic.com/chunk-OE3UH73D.mjs";import{nb as U}from"https://app.framerstatic.com/chunk-KXST4KGG.mjs";import{M as ve}from"https://app.framerstatic.com/chunk-DHNXI6EU.mjs";import{Vc as ye,W as Ve,X as Pe,sg as Z,tg as he}from"https://app.framerstatic.com/chunk-2GS7YNG7.mjs";import{Ac as w,Cc as pe,Dc as ue,Fc as de,Kb as v,Lb as L,Nc as ce,Te as me,Wl as Q,fl as fe,hl as ge,hr as G,jr as Ce,kr as be,l as ae,qc as le,tc as A,xc as f,yb as N}from"https://app.framerstatic.com/chunk-L7L7BWTW.mjs";import{g as X}from"https://app.framerstatic.com/chunk-LFB3N7NP.mjs";import{a as P,b as W,i as se}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as J,b as H}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{A as j,z as ne}from"https://app.framerstatic.com/chunk-PNIOO2GU.mjs";import{e as h}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var S=h(J());var k=h(H()),K="boolean";function We(n){return`boolean-input-row-popout-${n}`}function Co({nodeIds:n,controlProp:r,control:t,controlKey:l,onChange:C,onContextMenu:c,sortable:p,traitTypeKeys:y,supportsVariables:b=!1,supportsComputedValues:D=!1,supportsFetchDataValues:I=!1}){let T=G(),{value:o}=r,R=p?void 0:t.title||v(l),u=P(t.defaultValue)?t.defaultValue:void 0,i=We(l),e=(0,S.useCallback)(a=>{C({type:t.type,value:a},l)},[l,t,C]),d=(0,S.useCallback)(()=>{P(u)&&e(u)},[u,e]),M=_(a=>{let V=t.title||v(l),F=P(r.value)?r.value:!0,z=U({engine:T,scopeId:a,type:K,name:V,initialValue:F});z&&e(z)},[e,l,t,r]),x=(0,S.useCallback)(a=>{e(a),O.navigation.presentPopout(i)},[e,i]),Y=(0,S.useCallback)(()=>{let a=N({type:"boolean",value:P(o)?o:!1}),V=A("boolean",a,[]);return x(V),V},[x,o]),E=_(()=>{if(f(o))if(L(o)){let a=be(T,o),V=P(a)?a:!0;e(V)}else le(o)?e(P(u)?u:!0):void 0},[e,u,o]);return(0,k.jsx)($,{title:R,onContextMenu:c,onResetToDefault:p?void 0:d,resetToDefaultEnabled:P(u)&&u!==o,traitTypeKeys:y,withReorderControl:p,supportsVariables:b,supportsComputedValues:D,variableType:K,dynamicValue:f(o)?o:null,onSelectVariable:e,onCreateVariable:M,onSelectComputedValue:x,onRemoveDynamicValue:E,computedValuePopoutId:i,supportsFetchDataValues:I,onSelectFetchDataValue:Y,children:f(o)?(0,k.jsx)(q,{title:R,value:o,outputControl:t,expectedType:K,onRemove:E,onChangeDynamicValue:e,popoutId:i,supportsComputedValues:b,supportsFetchDataValues:I,nodeIds:n}):(0,k.jsxs)(he,{style:p?void 0:De,children:[(0,k.jsx)(Z,{identifier:!0,title:t.enabledTitle||"Yes",selected:o===!0,onSelect:e}),(0,k.jsx)(Z,{identifier:!1,title:t.disabledTitle||"No",selected:o===!1,onSelect:e})]})})}var xe=h(J()),Ne={type:"add",variant:"info",icon:"color-wheel",action:{title:"Install",onClick:ve},text:"To sample colors, please use the new desktop app",key:"install-desktop-app",duration:5e3};function yo({channel:n,toast:r}){(0,xe.useEffect)(()=>{if(!n)return;let t={async sampleColor(){return window.EyeDropper?{color:(await new window.EyeDropper().open().catch(c=>{if(c?.name==="AbortError")return{sRGBHex:void 0};throw c})).sRGBHex}:(r(Ne),{})}};return ie.on(n).register(t)},[n,r])}var B=h(J());var g=h(H()),Le="link";function ee(n){return`computed-link-${n}`}var ot=B.default.memo(function({control:r,controlKey:t,controlProp:l,onChange:C,onContextMenu:c,sortable:p,traitTypeKeys:y,supportsVariables:b=!1,supportsComputedValues:D=!1,supportsFetchDataValues:I=!1,nodeIds:T}){let o=G(),R=(0,B.useMemo)(()=>T??[],[T]),u=(0,B.useMemo)(()=>Te(t||ce()),[t]),{value:i}=l,e=f(i)||w(i)?i:ne,d=s=>{C(t,m=>({...m,value:s}),R),ke(e,s)},M=s=>{let{defaultValue:m}=r;return W(m)?m:s},x=()=>{let s=M();se(s)&&d(s)},Y=()=>{d(void 0)},E=o.scheduler.wrapHandler(s=>{let m=r.title||v(t),Fe=W(e)?e:M("");o.beginUndoGroup();let re=U({engine:o,scopeId:s,type:Le,name:m,initialValue:Fe});re&&d(re),o.endUndoGroup()}),a=o.scheduler.wrapHandler(()=>{f(e)&&d(void 0)}),V=o.scheduler.wrapHandler(()=>{let s=N({type:"link",value:w(i)?i:void 0}),m=A("link",s,[]);return F(m),m}),F=o.scheduler.wrapHandler(s=>{d(s),O.navigation.presentPopout(ee(t))}),z=p?void 0:r.title||v(t),oe=M(),te=!L(e)&&!w(e),Se=Re(o,e),Be=Ge(o,e),Ee=W(oe)&&w(i)&&!de(i,ue({url:oe}));return(0,g.jsx)($,{title:z,onContextMenu:c,onResetToDefault:x,resetToDefaultEnabled:Ee,variableType:Le,onCreateVariable:E,onRemoveDynamicValue:a,dynamicValue:f(i)?i:null,onSelectVariable:d,traitTypeKeys:y,withReorderControl:p,reorderColumnCount:2,supportsVariables:b,supportsComputedValues:D,computedValuePopoutId:ee(t),onSelectComputedValue:F,supportsFetchDataValues:I,onSelectFetchDataValue:V,children:f(e)?(0,g.jsx)(q,{title:r.title||v(t),value:e,outputControl:r,expectedType:"link",popoutId:ee(t),onRemove:a,onChangeDynamicValue:d,nodeIds:R,supportsComputedValues:D,supportsFetchDataValues:I,controlReferenceInfo:void 0}):(0,g.jsx)(Ie,{id:u,popout:(0,g.jsx)(Me,{link:j(e)?void 0:e,onChange:d,supportsVariables:b,supportsPageLinks:Ae(o),supportsSlugVariables:b}),navigationTitle:"Link",displayDivider:!0,title:j(e)?"Add\u2026":Se,preview:(0,g.jsx)(we,{background:te?X.swatchBackgroundPlaceholderForLink:void 0,children:Be??(0,g.jsx)(ye,{})}),onDelete:w(e)?Y:void 0,titleColor:te?X.inputLabel:void 0})})});function Ae(n){if(!Ce(n))return!0;let{scopeType:r}=n.stores.scopeStore;switch(r){case"CanvasPage":case"DesignPage":return!1;default:return!0}}function Ge(n,r){if(!pe(r))return;let{webPageId:t,pathVariables:l}=r;if(!l)return;let C=n.tree.getNodeWithTrait(t,me);if(!C)return;let c=ae.dataForIdentifier(C.dataIdentifier);if(!c)return;let p=c.annotations?.framerSlug;if(!p)return;let y=l[p];if(!L(y))return;let b=Q(fe,p);if(y.id===b)return(0,g.jsx)(Pe,{});let D=Q(ge,p);if(y.id===D)return(0,g.jsx)(Ve,{})}export{Co as a,yo as b,ot as c};
//# sourceMappingURL=https://app.framerstatic.com/chunk-4IRSSX4H.mjs.map
