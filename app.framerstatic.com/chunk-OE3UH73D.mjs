import{Ad as Ds,Bd as Zg,Bf as uy,Cd as ey,Cf as my,Da as Pg,Dd as ty,Df as Ps,E as wg,Ed as ry,Eg as vy,F as Rg,Fd as oy,Gf as $n,Hd as ny,Jg as qo,Lg as Ty,Mg as Ls,N as Mg,Ng as Ey,Og as Ay,Pb as Ag,Pf as Hn,Re as dy,Sg as By,Ub as Bg,ca as Vg,cc as Og,da as Dg,dg as py,eg as fy,gd as zg,la as kg,mg as hy,og as Gn,pa as Ec,pd as To,qd as Rs,qe as Mi,rb as ws,rd as Gg,sd as Ug,td as jg,ud as _g,ug as gy,vd as Jg,ve as Bc,wd as Xg,we as Wn,wg as yy,xd as Ms,xe as ks,yb as Lg,zd as wt}from"https://app.framerstatic.com/chunk-KXST4KGG.mjs";import{E as ky,a as Wg,c as $g,d as Hg,g as Ri}from"https://app.framerstatic.com/chunk-UVZ7CNUM.mjs";import{k as Ac}from"https://app.framerstatic.com/chunk-EDICM4ZE.mjs";import{i as cy}from"https://app.framerstatic.com/chunk-YE4QPCYK.mjs";import{b as Cr}from"https://app.framerstatic.com/chunk-5O3SN7LN.mjs";import{L as xg}from"https://app.framerstatic.com/chunk-DHNXI6EU.mjs";import{a as $c,b as Dy}from"https://app.framerstatic.com/chunk-G3FBIMTO.mjs";import{q as ay}from"https://app.framerstatic.com/chunk-GCKJANXF.mjs";import{a as sy,c as Ny,d as xy,e as wy,f as Ry,g as Wc,i as My,l as Vy,o as Ly}from"https://app.framerstatic.com/chunk-UYDBOT4S.mjs";import{a as Sy,b as Oc,c as Cy,e as zc}from"https://app.framerstatic.com/chunk-VHY5GXEM.mjs";import{d as Eg,f as Vs,g as qg,h as Kg,i as Yg,j as Qg,l as iy,m as ly}from"https://app.framerstatic.com/chunk-WW7ZRIP2.mjs";import{a as Fs}from"https://app.framerstatic.com/chunk-PABHF7FN.mjs";import{a as Fg}from"https://app.framerstatic.com/chunk-FEKBOCM3.mjs";import{$ as Dp,$b as Eh,$e as ig,Ac as $h,Af as vg,Cc as gs,Cf as bg,Cg as Ts,Db as wh,Dc as Hh,Ef as Fc,Fb as hs,Gd as vs,Ge as zn,Gg as Ns,Hb as Rh,Hc as Gh,Hd as bs,He as rg,Hg as Ig,Ib as Mh,Ja as Xr,Jb as Vh,Je as og,Ka as gh,Kb as St,Kg as Tg,Lb as Bn,Lc as ys,Mb as Dh,Nb as On,Oc as Uh,Oe as ng,Pb as kh,Pc as jh,Pd as Xh,Qb as Ph,Qd as qh,Rb as Fh,Rc as _h,Rd as Kh,Sd as Pc,T as Et,U as vp,W as Ip,Wa as Ch,Y as Mp,Ya as ps,Z as Vp,a as up,ac as Ah,ae as Yh,af as ag,bc as Bh,bf as sg,da as Fp,ea as Lp,ed as Jh,ga as Vn,gb as vh,ge as Qh,h as mp,hb as bh,hf as lg,ib as Ih,ie as Zh,if as cg,ja as _a,jf as dg,lb as Th,mb as Nh,nb as Io,ob as st,pb as fs,pc as Oh,pf as ug,qe as eg,qf as mg,re as tg,rf as pg,sf as fg,td as Ss,tf as hg,ud as Cs,wb as kc,wc as zh,wf as gg,xf as yg,xg as Is,yb as Xo,yc as Wh,yf as Sg,zb as xh,zf as Cg}from"https://app.framerstatic.com/chunk-NBGN6U2B.mjs";import{e as yt,k as Jo,m as Sh,v as Lh}from"https://app.framerstatic.com/chunk-MVKO2TKJ.mjs";import{f as Ht}from"https://app.framerstatic.com/chunk-DXTSFT7O.mjs";import{b as Fy,d as Hc}from"https://app.framerstatic.com/chunk-6GUIIDJM.mjs";import{Je as xs,Tg as wi}from"https://app.framerstatic.com/chunk-2GS7YNG7.mjs";import{a as Py}from"https://app.framerstatic.com/chunk-THMUYYUS.mjs";import{e as by,i as Iy,j as qr}from"https://app.framerstatic.com/chunk-WIMTHTQW.mjs";import{$e as mf,$f as vf,$g as Ff,$h as Zf,Ag as as,Ai as bo,Bd as qp,Bg as xf,Bh as Bf,Bi as yh,C as ja,Cf as wc,Dh as Of,E as yr,Ed as Kp,Eg as wf,Fc as Ja,Gd as Ni,Gf as rs,Gh as Vc,Hh as zf,If as yf,Ig as Rf,Ih as Wf,Jb as Ap,Je as tf,Jg as Mf,Jh as Dc,Ke as rf,Kh as $f,La as bp,Lg as vo,Lh as Hf,Mc as Xa,Mg as ss,Ne as of,Ng as En,Nh as Gf,Oe as nf,Og as An,Oh as Uf,Pg as ls,Ph as jf,Qe as af,Qf as Sf,Qg as Vf,Qh as _f,R as hp,Rc as _r,Re as jo,Sa as Tp,Sc as zp,Sg as Df,T as gp,Ta as J,Tc as So,Tg as kf,Ua as Np,Uc as Jr,Uh as Jf,V as yp,Vc as Wp,Ve as sf,Vf as Cf,Vh as Xf,Wa as O,Wc as $p,We as lf,Wf as Rc,Wg as Pf,Xa as _e,Xg as Sr,Xh as qf,Ya as Uo,Yh as Kf,Ze as cf,Zf as Mc,Zh as Yf,_h as Qf,ab as xp,ad as qa,ae as Tc,ai as eh,bb as wp,be as Nc,bi as th,cb as Rp,cd as Up,ce as Yp,cf as pf,cg as xi,ci as rh,db as kp,dd as Ka,dg as Fn,di as oh,ed as jp,ei as nh,f as pp,fb as Pp,fd as Pn,fi as ih,gd as Ic,gi as ah,hd as _p,hf as ts,hg as bf,ic as Dn,ii as sh,je as Qp,jf as ff,jg as If,ji as lh,k as wn,kb as Mn,ke as Zp,kf as hf,kh as us,ki as ch,ld as Ya,n as $a,nd as Jp,ne as ef,ng as Tf,ni as dh,o as nr,od as Xp,oi as uh,p as Go,pi as mh,qg as x,qh as ms,r as Rn,rd as Qa,rg as _o,rh as Lf,s as Ha,sg as os,si as ph,t as Ga,tb as Ep,tg as Dr,u as fp,ua as Sp,ub as at,uh as Ef,ve as xc,vg as Ln,vh as Af,vi as fh,wg as Nf,xf as gf,y as Ua,ye as Za,yg as ns,yi as hh,zg as is}from"https://app.framerstatic.com/chunk-Z44G2RQ4.mjs";import{b as Cp,c as xt,d as Hp,e as Gp,i as kn,n as es,o as Co,p as df,q as uf}from"https://app.framerstatic.com/chunk-GHX7JDAA.mjs";import{$d as ui,$e as Ve,Af as zo,Al as yn,Am as hm,An as Pa,Ao as bm,B as He,Bc as hr,Bl as Sn,Bo as Im,Bu as np,Cc as Ca,Cm as ka,Cu as Lt,Dc as va,Dd as tc,Di as Ku,Dj as om,Dt as Xm,Ec as Oo,Ei as Yu,Ek as dm,Fc as ec,Fg as oc,Fk as fi,Fm as gm,G as Yl,Gm as po,Go as Tm,Gq as be,H as ht,Hg as Hu,Hq as Lm,I as rt,Ib as Tu,Ie as rr,Ig as xa,Im as ym,Iq as Em,Jc as Du,Je as or,Jg as wa,Jj as nm,Jt as qm,Jv as cp,Kc as ku,Kg as Gu,Kj as im,Lb as ue,Lf as co,Lj as Ma,Ll as Tt,Mb as pn,Mf as Na,Mq as Ur,Mr as Oa,Nb as xu,Ne as Gr,Ng as Uu,Nk as um,Nq as ho,Nt as Km,Oa as vu,Oc as Pu,Oe as Ia,Ok as mm,Or as Ii,Pd as Lu,Pe as Le,Pi as Qu,Pl as lc,Pp as Mm,Pr as Nn,Pu as go,Qe as Ue,Qp as Vm,Qs as hc,Re as pe,Rf as rc,Rs as gc,Se as Re,Sh as Wo,Sk as pm,Sn as vi,Ss as $m,Te as $,To as Nm,Tr as Mr,Ts as Hm,Ua as mn,Ue as Bu,Uk as nc,Ur as zm,V as hu,Va as ga,Ve as Me,Vn as Cm,Vv as Wa,W as Ql,We as Te,Wk as ic,Wu as ip,Wv as dp,Xa as ya,Xd as Eu,Xe as Ou,Xg as ju,Xq as Am,Xs as je,Xt as Vr,Yd as Au,Ye as zu,Yj as Va,Yq as Ea,Z as gu,Zc as Fu,Ze as qe,Zf as gn,Zt as Ym,Zu as ap,_e as U,_j as sm,_q as pt,_t as Qm,_u as yo,af as Ta,ao as Ft,bf as it,bj as Zu,bl as fm,bv as Ti,ce as mi,cf as so,cj as em,cu as Zm,df as hn,di as Ra,dm as Da,dn as Si,do as xr,dr as Bm,ej as uo,en as cc,et as Gm,fd as io,fj as Nr,fl as hi,fp as xm,ft as Um,fu as jr,ga as pr,gi as Ju,gn as dc,gp as wr,hj as mo,hl as gi,hp as wm,ht as $t,ip as fo,j as ql,je as mt,jh as _u,jj as tm,jk as lm,jr as bi,jv as vc,kd as Ge,ki as Xu,kl as ac,kt as za,l as P,ld as ut,lj as rm,lo as De,lp as Rm,mb as Sa,md as fn,ml as sc,mp as $o,mu as ep,no as vn,nr as Aa,nt as yc,nu as Sc,ol as Y,oo as mc,or as Ho,ot as jm,pl as v,pn as uc,pr as Om,pt as ct,pv as bc,qc as kt,qf as Wu,qk as cm,ql as It,qn as Sm,qr as Ba,qu as tp,qv as sp,rc as wu,re as pi,ri as qu,rl as B,rq as Dm,sa as yu,sl as yi,sm as Ke,ta as Su,te as ba,tl as re,tu as rp,tv as xn,uc as Ru,ue as ao,ul as u,um as gt,uo as vm,uv as lp,vc as Mu,ve as Hr,vl as he,vt as _m,w as au,wc as Vu,we as Pt,wn as Ci,wu as Cc,xa as Cu,xc as k,xl as ce,xp as Fa,xu as op,y as fu,yf as Tr,yg as $u,yp as La,yv as Nt,zf as lo,zn as Cn,zr as pc,zt as Jm}from"https://app.framerstatic.com/chunk-L7L7BWTW.mjs";import{a as Wm,b as fc}from"https://app.framerstatic.com/chunk-6C6VSETA.mjs";import{c as bn,g as In,i as km,r as Tn,u as qt,v as Pm,w as Rr,y as gr,z as Fm}from"https://app.framerstatic.com/chunk-KYPY4QS7.mjs";import{K as Bo,L as mT,O as Nu,d as lu,e as ma,f as Kl,g as cu,m as du,p as uu,q as mu,s as pu}from"https://app.framerstatic.com/chunk-INOXWMPK.mjs";import{a as Ao,b as Dt}from"https://app.framerstatic.com/chunk-4AQCMAAQ.mjs";import{b as cs,c as ds}from"https://app.framerstatic.com/chunk-YZMKOCQQ.mjs";import{I as su}from"https://app.framerstatic.com/chunk-YYHHSCRK.mjs";import{g as At,i as Lc,m as Ng}from"https://app.framerstatic.com/chunk-LFB3N7NP.mjs";import{a as Bp,d as Op}from"https://app.framerstatic.com/chunk-R3NZHMAQ.mjs";import{b as iu}from"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{p as lt}from"https://app.framerstatic.com/chunk-65XKJBP2.mjs";import{a as fr,b as A,d as G,e as ot,f as tr,h as bu,i as N,j as fa,k as Iu,l as nt,n as Zl,o as ha}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{Ia as pa,Xd as am,a as uT,b as un}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{g as ua}from"https://app.framerstatic.com/chunk-PI2QROPJ.mjs";import{b as ru,d as Xl,e as ou,g as nu}from"https://app.framerstatic.com/chunk-AGVZOAU6.mjs";import{A as ft,C as Ir,D as Vt,E as Se,G as Jl,H as eu,I as Fe,K as dt,L as Z,Y as $r,da as tu,ea as ca,ha as Xt,i as Zd,ja as da,l as Ne,p as we,v as fe,z as ae}from"https://app.framerstatic.com/chunk-PNIOO2GU.mjs";import{a as g,b as W}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{c as di,d as dT,e as Wr,j as w,k as C,l as H,m as se,n as tt}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var ki=di(No=>{"use strict";No.removeLeadingAndTrailingHTTPWhitespace=e=>e.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,"");No.removeTrailingHTTPWhitespace=e=>e.replace(/[ \t\n\r]+$/u,"");No.isHTTPWhitespaceChar=e=>e===" "||e==="	"||e===`
`||e==="\r";No.solelyContainsHTTPTokenCodePoints=e=>/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(e);No.soleyContainsHTTPQuotedStringTokenCodePoints=e=>/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(e);No.asciiLowercase=e=>e.replace(/[A-Z]/ug,t=>t.toLowerCase());No.collectAnHTTPQuotedString=(e,t)=>{let r="";for(t++;;){for(;t<e.length&&e[t]!=='"'&&e[t]!=="\\";)r+=e[t],++t;if(t>=e.length)break;let o=e[t];if(++t,o==="\\"){if(t>=e.length){r+="\\";break}r+=e[t],++t}else break}return[r,t]}});var qS=di((JL,XS)=>{"use strict";var{asciiLowercase:Os,solelyContainsHTTPTokenCodePoints:AN,soleyContainsHTTPQuotedStringTokenCodePoints:BN}=ki();XS.exports=class{constructor(t){this._map=t}get size(){return this._map.size}get(t){return t=Os(String(t)),this._map.get(t)}has(t){return t=Os(String(t)),this._map.has(t)}set(t,r){if(t=Os(String(t)),r=String(r),!AN(t))throw new Error(`Invalid MIME type parameter name "${t}": only HTTP token code points are valid.`);if(!BN(r))throw new Error(`Invalid MIME type parameter value "${r}": only HTTP quoted-string token code points are valid.`);return this._map.set(t,r)}clear(){this._map.clear()}delete(t){return t=Os(String(t)),this._map.delete(t)}forEach(t,r){this._map.forEach(t,r)}keys(){return this._map.keys()}values(){return this._map.values()}entries(){return this._map.entries()}[Symbol.iterator](){return this._map[Symbol.iterator]()}}});var QS=di((XL,YS)=>{"use strict";var{removeLeadingAndTrailingHTTPWhitespace:ON,removeTrailingHTTPWhitespace:KS,isHTTPWhitespaceChar:zN,solelyContainsHTTPTokenCodePoints:Qc,soleyContainsHTTPQuotedStringTokenCodePoints:WN,asciiLowercase:Zc,collectAnHTTPQuotedString:$N}=ki();YS.exports=e=>{e=ON(e);let t=0,r="";for(;t<e.length&&e[t]!=="/";)r+=e[t],++t;if(r.length===0||!Qc(r)||t>=e.length)return null;++t;let o="";for(;t<e.length&&e[t]!==";";)o+=e[t],++t;if(o=KS(o),o.length===0||!Qc(o))return null;let n={type:Zc(r),subtype:Zc(o),parameters:new Map};for(;t<e.length;){for(++t;zN(e[t]);)++t;let i="";for(;t<e.length&&e[t]!==";"&&e[t]!=="=";)i+=e[t],++t;if(i=Zc(i),t<e.length){if(e[t]===";")continue;++t}let a=null;if(e[t]==='"')for([a,t]=$N(e,t);t<e.length&&e[t]!==";";)++t;else{for(a="";t<e.length&&e[t]!==";";)a+=e[t],++t;if(a=KS(a),a==="")continue}i.length>0&&Qc(i)&&WN(a)&&!n.parameters.has(i)&&n.parameters.set(i,a)}return n}});var eC=di((qL,ZS)=>{"use strict";var{solelyContainsHTTPTokenCodePoints:HN}=ki();ZS.exports=e=>{let t=`${e.type}/${e.subtype}`;if(e.parameters.size===0)return t;for(let[r,o]of e.parameters)t+=";",t+=r,t+="=",(!HN(o)||o.length===0)&&(o=o.replace(/(["\\])/ug,"\\$1"),o=`"${o}"`),t+=o;return t}});var nC=di((YL,oC)=>{"use strict";var GN=qS(),UN=QS(),jN=eC(),{asciiLowercase:tC,solelyContainsHTTPTokenCodePoints:rC}=ki();oC.exports=class{constructor(t){t=String(t);let r=UN(t);if(r===null)throw new Error(`Could not parse MIME type string "${t}"`);this._type=r.type,this._subtype=r.subtype,this._parameters=new GN(r.parameters)}static parse(t){try{return new this(t)}catch{return null}}get essence(){return`${this.type}/${this.subtype}`}get type(){return this._type}set type(t){if(t=tC(String(t)),t.length===0)throw new Error("Invalid type: must be a non-empty string");if(!rC(t))throw new Error(`Invalid type ${t}: must contain only HTTP token code points`);this._type=t}get subtype(){return this._subtype}set subtype(t){if(t=tC(String(t)),t.length===0)throw new Error("Invalid subtype: must be a non-empty string");if(!rC(t))throw new Error(`Invalid subtype ${t}: must contain only HTTP token code points`);this._subtype=t}get parameters(){return this._parameters}toString(){return jN(this)}isJavaScript({prohibitParameters:t=!1}={}){switch(this._type){case"text":switch(this._subtype){case"ecmascript":case"javascript":case"javascript1.0":case"javascript1.1":case"javascript1.2":case"javascript1.3":case"javascript1.4":case"javascript1.5":case"jscript":case"livescript":case"x-ecmascript":case"x-javascript":return!t||this._parameters.size===0;default:return!1}case"application":switch(this._subtype){case"ecmascript":case"javascript":case"x-ecmascript":case"x-javascript":return!t||this._parameters.size===0;default:return!1}default:return!1}}isXML(){return this._subtype==="xml"&&(this._type==="text"||this._type==="application")||this._subtype.endsWith("+xml")}isHTML(){return this._subtype==="html"&&this._type==="text"}}});var Vi=new Gu(async()=>{let e=await Promise.all([import("https://app.framerstatic.com/dist-QQ2LXD6V.mjs"),import("https://app.framerstatic.com/dist-EZVESS7Y.mjs"),import("https://app.framerstatic.com/dist-Z5YLEBXY.mjs"),import("https://app.framerstatic.com/dist-7WM25YWQ.mjs"),import("https://app.framerstatic.com/dist-Z2BXEQZM.mjs"),import("https://app.framerstatic.com/dist-GBVMIGFI.mjs"),import("https://app.framerstatic.com/dist-NBGG27WF.mjs"),import("https://app.framerstatic.com/dist-YL6PRWQE.mjs"),import("https://app.framerstatic.com/prosemirror-suggest-CHVOCZVK.mjs")]);return Object.assign({},...e)});function ak(){let e=Vi.preload();e&&e.catch(Ne)}async function sk(){let e=Vi.preload();return e&&await e,Vi.read()}function lk(){let e=Vi.preload();if(e)throw e;return Vi.read()}var{onewayMethodTemplate:Ik,voidMethodTemplate:Tk,valueMethodTemplate:pT,streamMethodTemplate:Nk}=nu,Gc;(t=>t.service={id:"__ColorSampler__",fingerprint:"2f07b191423077f3239a93a5dec7e417",methods:{sampleColor:{}},newOutgoingWrapper:r=>({sampleColor:pT.bind(-1,"sampleColor",!1,r)})})(Gc||={});var Uc;(o=>{o.service=Gc.service;function t(n){let i=Xl.shared();return{expect:()=>i.expectWithoutDiscovery(o.service,n),discover:a=>i.discover(o.service,n,a),register:a=>i.register({channel:n,service:o.service,implementation:a})}}o.on=t;async function r(n){Xl.shared().unregister(n)}o.unregister=r})(Uc||={});var fT=fe("update-tree-cache-for-vekter");function hT(e,t){return t?bu(t)?t.has(e):t===e:!0}var jc=[];Object.freeze(jc);var _c=[];Object.freeze(_c);function gT(e,t,r,o){return Nt(e)?Ve(e)?o??r??yr.identity():!r||!t?yr.identity():yr.boundingRectMatrix(r,t):r??yr.identity()}function yT(e,t,r,o,n,i,a,s){let l=e.root,c=l.cache,m=l.getLocale(i);c.visible=!0,c.lockedByParent=!1,c.renderId=l.id,As(c);let d=l.children;for(let p of d)if(!(s&&!hT(p.id,s))){if(yt(p)){if(!p.isLoaded())continue;ST(e,p,l,t,r,o,n,m,a)}else Jc(e,p,l,!1,!0,!1,new Map,new Map,!1,null,null,null,null,null,null,jc,_c,void 0,void 0,t,r,o,n,m,void 0,void 0,!1,a,void 0);Un(l,p)}return e}function oP(e,t){return yT(e.treeStore.tree,e.layoutCache,e.treeStore.sandboxCollectionData,e.treeStore.sandboxVisibility,P.activeBundleHash,e.chromeStore.canvasLocaleId,e.effectStore.getState(),t)}function ST(e,t,r,o,n,i,a,s,l){let c=t.cache;c.visible=!0,c.lockedByParent=!1,c.renderId=t.id,c.parentRenderId=r.id,As(c);let m=t.children,{combinedVariableValueMap:d,combinedVariableControlMap:p}=t.combineVariableValueAndControlMaps(e,void 0,void 0,P,n,a,s),f=$(t);for(let h of m)Jc(e,h,t,!1,!0,!1,new Map,new Map,!1,null,null,null,null,null,null,jc,_c,d,p,o,n,i,a,s,void 0,void 0,!1,l,f),Un(t,h)}function Jc(e,t,r,o,n,i,a,s,l,c,m,d,p,f,h,y,b,S,I,T,R,M,L,F,j,z,ee,oe,ve){let D=t.cache,ne=D.activeVekterLocale;D.activeVekterLocale=F;let{combinedVariableValueMap:Q,combinedVariableControlMap:de,combinedVariableMapsAreEqual:me}=t.combineVariableValueAndControlMaps(e,S,I,P,R,L,F),Ie=Le(t),Je=Ie?R.isEmpty(t.id):!1,[K,E]=TT(e,t,r,a,s,T,R,M);D.groundNodeAncestorId=j?.groundNodeId,D.masterAncestorId=c,D.replicaAncestorId=m,D.overlayAncestorId=d,D.formContainerAncestorId=f,D.tickerAncestorId=h;let ie=n&&!!K,xe=!j||yr.equals(D.groundNodeMatrix,j.groundNodeMatrix),Xe=!pi(t)||D.layout===t.layout,zt=ne===D.activeVekterLocale,et=bc(t,j),Ae=!!oe?.nodes.has(t.id),Wt=Ae===D.isEffectPreview&&pr(oe?.effectIds??null,D.effectIds)&&(oe?.type??null)===D.effectType&&D.webPageEffect===ve,cr=vc(t)||rt.equals(D.viewportRect,et);o||=Ft(t);let br=Xe&&zt&&cr&&Wt&&me&&D.insideVariant===o&&D.visible===ie&&D.collectionIsEmpty===Je&&D.lockedByParent===i&&D.lastUpdate===t.update&&D.parentDirected===z&&D.parentDirectedRowHeightFitContent===ee&&Hy(t.cache.getRenderInstance(t.id),K)&&IT(t.cache.secondaryRenderInstances,E)&&Rm(e,t)===D.usesLayoutTemplateRectForModuleIdentifier;if(br&&xe)return;D.isEffectPreview=Ae,D.effectIds=oe?.effectIds??null,D.effectType=oe?.type??null,D.webPageEffect=ve,D.ancestorRepeaterIds=y,D.repeatedAncestorRepeaterIds=b;let ze=!1;ze&&ze.cacheUpdated(),br?D.canvasRect=void 0:(ze&&ze.cacheReset(),D.reset(),D.groundNodeAncestorId=j?.groundNodeId,D.masterAncestorId=c,D.replicaAncestorId=m,D.overlayAncestorId=d,D.slotPropertyAncestorId=p,D.formContainerAncestorId=f,D.tickerAncestorId=h,D.activeVekterLocale=F,D.visible=ie,D.collectionIsEmpty=Je,D.insideVariant=o,D.lockedByParent=i,D.lastUpdate=t.update,D.parentDirected=z,D.parentDirectedRowHeightFitContent=ee,D.viewportRect=et,D.layout=pi(t)?t.layout:void 0,D.ancestorRepeaterIds=y,D.repeatedAncestorRepeaterIds=b,D.usesLayoutTemplateRectForModuleIdentifier=fo(t)?t.usesLayoutTemplateRectForModuleIdentifier():void 0,K&&(D.renderId=t.id,Object.assign(D,K)),D.secondaryRenderInstances=E);let{parentRectByRenderIdForChildren:te,parentMatrixByRenderIdForChildren:le,parentUsesDOMRectForChildren:We,groundNodeContextForChildren:dr}=$y(e,t,l,j,T),ur=t.children;if(!ur)return;let no=ao(t)?t.layout:void 0,mr=Pt(t)&&t.gridRowHeightType==="fit",Jt=c;!Jt&&Eu(t)&&(Jt=t.id);let $e=m;!$e&&ui(t)&&($e=t.id);let Mt=Es(t,y);for(let zr of ur){if(!Xe)for(let[,cT]of zr.cache.iterateRenderInstances())cT.parentRect=void 0;let Eo=Ie&&kn(e,zr,t),sT=Eo&&Je,Qd=Ie&&!Eo,lT=lt.isOn("visibilityFromSandbox")?ie:Eo?!sT&&ie:ie;Jc(e,zr,t,o,lT,hf(t),te,le,We,Jt,$e,Nt(t)?t.id:d,Na(t)?t.id:p,Vr(t)?t.id:f,go(t)?t.id:h,Mt,Eo?Es(t,b):b,Qd?S:Q,Qd?I:de,T,R,M,L,F,dr,no,mr,oe,ve),Un(t,zr)}}function nP(e,t,r){let o=CT(e,r),n=e.root,i=n.cache;i.visible=!0,i.renderId=n.id,As(i);let a=n.children;for(let s of a){if(yt(s)){if(!s.isLoaded())continue;vT(e,s,n,t,o)}else Xc(e,s,n,new Map,new Map,!1,t,o,void 0,!1,void 0);Un(n,s)}return o}function CT(e,t){let r=new Set,o=new Set;function n(a){o.has(a.id)||(r.add(a.id),o.add(a.id),a.children&&a.children.forEach(n))}function i(a){let s=a.id;for(;s&&!r.has(s);)r.add(s),s=e.getNode(s)?.parentid}for(let a of t){let s=e.getNode(a);s&&(i(s),s.children&&s.children.forEach(n))}return r}function Es(e,t){return Le(e)?t.length===0?[e.id]:[...t,e.id]:t}function vT(e,t,r,o,n){let i=t.cache;i.visible=!0,i.renderId=t.id,i.parentRenderId=r.id,As(i);let a=t.children;for(let s of a)Xc(e,s,t,new Map,new Map,!1,o,n,void 0,!1,void 0),Un(t,s)}function Xc(e,t,r,o,n,i,a,s,l,c,m){if(!s.has(t.id))return;let d=t.cache;if(d.parentDirected=l,d.parentDirectedRowHeightFitContent=c,d.viewportRect=bc(t,m),!d.visible)return;for(let[T,R]of d.iterateRenderInstances()){let M=R.parentRenderId;g(M,"Missing `parentRenderId`"),R.parentRect=o.get(M),R.parentMatrix=n.get(M),R.parentDirectedRect=Gy(t,T,r,a)}let{parentRectByRenderIdForChildren:p,parentMatrixByRenderIdForChildren:f,parentUsesDOMRectForChildren:h,groundNodeContextForChildren:y}=$y(e,t,i,m,a),b=t.children;if(!b)return;let S=ao(t)?t.layout:void 0,I=Pt(t)&&t.gridRowHeightType==="fit";for(let T of b)Xc(e,T,t,p,f,h,a,s,S,I,y),Un(t,T)}function bT(e,t){if(!t||!gt(e)||!De(e))return;let r=new Map;for(let[o,n]of t){let i=n.originX??wc*n.width,a=n.originY??wc*n.height,s=yr.identity();Op||(s=s.translate(e.left??0,e.top??0));let l=s.translate(i,a).multiplySelf(yr.identity().translate(n.x,n.y).multiplySelf(n.matrix)).translateSelf(-i,-a),c=yr.convertPointsWithClipping(l,rt.pointsAtOrigin({width:n.width,height:n.height}));r.set(o,{domRect:n,canvasCorners:c,canvasRect:rt.boundingRectFromPoints(c)})}return r}function $y(e,t,r,o,n){let i=t.cache,a=n.getRects(t.id);a&&(i.domRects=new Map(a));let s=fo(t)&&!!i.usesLayoutTemplateRectForModuleIdentifier;s&&(i.layoutTemplateRects=bT(t,n.getLayoutTemplateRects(t.id))),i.groundNodeMatrix=o?.groundNodeMatrix??null;let l=fo(t)&&t.usesDOMRectCached(),c=!(l||r),m=!!i.viewportRect||!vc(t),d,p=new Map,f=new Map;for(let[h,y]of i.iterateRenderInstances()){let{parentRect:b,parentMatrix:S,parentDirectedRect:I}=y,T=e.getParentSizeInfo(t,void 0,c,m,h),R=I??t.rect(T,c,void 0,h);p.set(h,R);let M=t.originAdjustedMatrix(T,R,h),L=gT(t,b,S,o?.groundNodeMatrix),F;try{F=L.multiply(M)}catch(oe){fT.reportErrorOncePerMinute(oe,{parentRect:b,frame:R,parentMatrix:L,transformMatrix:M}),F=new DOMMatrix}let j=gf(t)?F:yr.flatProjectionMatrix(F);f.set(h,j),y.matrix=F;let z=e.convertCornerPointsToCanvas(t,!1,void 0,h);y.cornerPoints=z;let ee=rt.boundingRectFromPoints(z);if(y.canvasRect=ee,ja(t)&&wf(t)&&t.strokeEnabled){let oe=t.resolveValue("strokeWidth")??0;ee=rt.inflate(ee,oe/2)}s?Wy(y,i.getLayoutTemplateContainerRect()?.canvasRect??ee):Wy(y,ee),Sy(h)&&(d=o??sp(t,R,{groundNodeId:t.id,groundNodeMatrix:j}))}return{parentRectByRenderIdForChildren:p,parentMatrixByRenderIdForChildren:f,parentUsesDOMRectForChildren:l,groundNodeContextForChildren:d}}function Oy(e,t,r){if(lt.isOn("visibilityFromSandbox"))return r.getVisible(t);let o=Nt(e)&&!e.cache.overlayVisible;return e.isVisible()&&!Au(e)&&!o}function Hy(e,t){return!e&&!t?!0:!e||!t?!1:rt.equals(e.parentRect??null,t.parentRect??null)&&yr.equals(e.parentMatrix??null,t.parentMatrix??null)&&rt.equals(e.parentDirectedRect??null,t.parentDirectedRect??null)&&Tu(e.collectionItemIds,t.collectionItemIds)&&e.collectionItemId===t.collectionItemId}function IT(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;for(let[r,o]of t){let n=e.get(r);if(!Hy(o,n))return!1}return!0}function zy(e,t,r,o,n,i,a,s,l){return{parentRenderId:o,parentRect:i.get(o),parentMatrix:a.get(o),parentDirectedRect:Gy(e,t,r,s),matrix:void 0,canvasRect:void 0,cornerPoints:void 0,collectionItemIds:l.getItemIds(t),collectionItemId:n,minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0}}function TT(e,t,r,o,n,i,a,s){let l=new Map;if(Le(r)&&kn(e,t,r))for(let[d,p]of r.cache.iterateRenderInstances()){let f=p.collectionItemIds;if(f)for(let h=0;h<f.length;h++){let y=f[h];if(!y)continue;let b=Cy(d,r.id,y,h),S=Oc(b,t.id);Oy(t,S,s)&&l.set(S,zy(t,S,r,d,y??p.collectionItemId,o,n,i,a))}}else for(let[d,p]of r.cache.iterateRenderInstances()){let f=Oc(d,t.id);Oy(t,f,s)&&l.set(f,zy(t,f,r,d,p.collectionItemId,o,n,i,a))}let c=l.get(t.id);l.delete(t.id);let m=l.size>0?l:void 0;return[c,m]}function As(e){e.minX=1/0,e.maxX=-1/0,e.minY=1/0,e.maxY=-1/0}function Wy(e,t){e.minX=t.x,e.maxX=t.x+t.width,e.minY=t.y,e.maxY=t.y+t.height}function NT(e,t){e.minX>t.minX&&(e.minX=t.minX),e.maxX<t.maxX&&(e.maxX=t.maxX),e.minY>t.minY&&(e.minY=t.minY),e.maxY<t.maxY&&(e.maxY=t.maxY)}function Un(e,t){for(let[,r]of t.cache.iterateRenderInstances()){let o=r.parentRenderId;g(o,"Missing `parentRenderId`");let n=e.cache.getRenderInstance(o);g(n,"Missing `renderInstance`"),NT(n,r)}}function Gy(e,t,r,o){if(ao(r)&&Rn(e,r))return o.getRect(t)}var Uy="https://app.framerstatic.com/cursor-add-6XAMN4WT.png";var jy="https://app.framerstatic.com/cursor-add@2x-2LFPOUCY.png";var _y="https://app.framerstatic.com/cursor-disconnect-ZKL7EWFU.png";var Jy="https://app.framerstatic.com/cursor-disconnect@2x-OE3AENSJ.png";var Xy="https://app.framerstatic.com/cursor-feedback-BOBWQH3Z.png";var qy="https://app.framerstatic.com/cursor-feedback@2x-6D4B4MBW.png";var Ky="https://app.framerstatic.com/cursor-grab-FRV55RHP.png";var Yy="https://app.framerstatic.com/cursor-grab@2x-GIY2VUEH.png";var Qy="https://app.framerstatic.com/cursor-grabbing-OKC4B74I.png";var Zy="https://app.framerstatic.com/cursor-grabbing@2x-WE42DW3I.png";var eS="https://app.framerstatic.com/cursor-insert-6UGIJVAR.png";var tS="https://app.framerstatic.com/cursor-insert@2x-ZOKYLV6L.png";var rS="https://app.framerstatic.com/cursor-remove-Q4ORWDOQ.png";var oS="https://app.framerstatic.com/cursor-remove@2x-QZ7R5XN6.png";var nS="https://app.framerstatic.com/cursor-swap-2VDBHJ6M.png";var iS="https://app.framerstatic.com/cursor-swap@2x-BAI7OT3Z.png";var aS="https://app.framerstatic.com/cursor-vector-add-L3563YFF.png";var sS="https://app.framerstatic.com/cursor-vector-add@2x-24A2HJDM.png";var lS="https://app.framerstatic.com/cursor-vector-point-6OWAA3FG.png";var cS="https://app.framerstatic.com/cursor-vector-point@2x-4OEKRKH6.png";var dS="https://app.framerstatic.com/cursor-vector-OLHKU4LP.png";var uS="https://app.framerstatic.com/cursor-vector@2x-YFL4EEVU.png";var mS="https://app.framerstatic.com/cursor-zoom-in-2YKQ3Z67.png";var pS="https://app.framerstatic.com/cursor-zoom-in@2x-ZUXRFEB6.png";var fS="https://app.framerstatic.com/cursor-zoom-out-IWSRWDMJ.png";var hS="https://app.framerstatic.com/cursor-zoom-out@2x-EW4OYJ5J.png";var gS="https://app.framerstatic.com/resize-east-west-ANAPBU4H.png";var yS="https://app.framerstatic.com/resize-east-west@2x-HS4NZ3H2.png";var SS="https://app.framerstatic.com/resize-east-XHHFSY6J.png";var CS="https://app.framerstatic.com/resize-east@2x-3TA77JQ5.png";var vS="https://app.framerstatic.com/resize-nesw-GL7KYSRE.png";var bS="https://app.framerstatic.com/resize-nesw@2x-7OD4PILK.png";var IS="https://app.framerstatic.com/resize-north-east-OYDCT3XA.png";var TS="https://app.framerstatic.com/resize-north-east@2x-GB4FBRV3.png";var NS="https://app.framerstatic.com/resize-north-south-JYDNIYWS.png";var xS="https://app.framerstatic.com/resize-north-south@2x-IHAJOLEA.png";var wS="https://app.framerstatic.com/resize-north-west-WOGBMCQ7.png";var RS="https://app.framerstatic.com/resize-north-west@2x-CGE2AJ7O.png";var MS="https://app.framerstatic.com/resize-north-TOADQ3IJ.png";var VS="https://app.framerstatic.com/resize-north@2x-U6CXDTI2.png";var DS="https://app.framerstatic.com/resize-nwse-CTXL5YSS.png";var kS="https://app.framerstatic.com/resize-nwse@2x-H5TFIU4Y.png";var PS="https://app.framerstatic.com/resize-south-east-7BL2E7ZY.png";var FS="https://app.framerstatic.com/resize-south-east@2x-YOYUZV36.png";var LS="https://app.framerstatic.com/resize-south-west-EZHHVQZN.png";var ES="https://app.framerstatic.com/resize-south-west@2x-XZTWVP5E.png";var AS="https://app.framerstatic.com/resize-south-MEM66EWG.png";var BS="https://app.framerstatic.com/resize-south@2x-KMVPTHAA.png";var OS="https://app.framerstatic.com/resize-west-GRT5XBDQ.png";var zS="https://app.framerstatic.com/resize-west@2x-DBCUQ6K5.png";var WS="https://app.framerstatic.com/touch-active-CQT44XON.png";var $S="https://app.framerstatic.com/touch-active@2x-N44WHZVB.png";var HS="https://app.framerstatic.com/touch-K4JGV3WE.png";var GS="https://app.framerstatic.com/touch@2x-M3Y2EBTW.png";var US={"cursor-add":[Uy,jy],"cursor-disconnect":[_y,Jy],"cursor-feedback":[Xy,qy],"cursor-grab":[Ky,Yy],"cursor-grabbing":[Qy,Zy],"cursor-insert":[eS,tS],"cursor-remove":[rS,oS],"cursor-swap":[nS,iS],"cursor-vector-add":[aS,sS],"cursor-vector-point":[lS,cS],"cursor-vector":[dS,uS],"cursor-zoom-in":[mS,pS],"cursor-zoom-out":[fS,hS],"resize-nesw":[vS,bS],"resize-nwse":[DS,kS],"resize-north-east":[IS,TS],"resize-north-west":[wS,RS],"resize-south-east":[PS,FS],"resize-south-west":[LS,ES],"resize-east-west":[gS,yS],"resize-west":[OS,zS],"resize-east":[SS,CS],"resize-north-south":[NS,xS],"resize-north":[MS,VS],"resize-south":[AS,BS],"touch-active":[WS,$S],touch:[HS,GS]};var xN=su.isFirefox(),ir=(e,t=12)=>{let r=G(t)?t:t.x,o=G(t)?t:t.y,[n,i]=US[e];return xN?`url(${n}) ${r} ${o}, auto`:`-webkit-image-set(url(${n}) 1x, url(${i}) 2x) ${r} ${o}, default`},Kc={x:6,y:2},yL=ir("cursor-vector",Kc),SL=ir("cursor-vector-add",Kc),CL=ir("cursor-vector-point",Kc),vL=ir("cursor-disconnect",10),bL=ir("cursor-add",10),IL=ir("cursor-remove",10),TL=ir("cursor-swap",{x:3,y:3}),NL=ir("cursor-feedback",{x:16,y:16}),Bs={x:15,y:15},xL=ir("cursor-insert",Bs),wL=ir("cursor-zoom-in",Bs),RL=ir("cursor-zoom-out",Bs),ML=ir("cursor-grabbing",Bs),wN=(e,t)=>{switch(e){case 0:{if(t.x&&t.y)return 8;if(t.x)return 6;if(t.y)return 2;break}case 1:{if(t.x)return 7;break}case 2:{if(t.x&&t.y)return 6;if(t.x)return 8;if(t.y)return 0;break}case 3:{if(t.y)return 5;break}case 5:{if(t.y)return 3;break}case 6:{if(t.x&&t.y)return 2;if(t.x)return 0;if(t.y)return 8;break}case 7:{if(t.x)return 1;break}case 8:{if(t.x&&t.y)return 0;if(t.x)return 2;if(t.y)return 6;break}default:break}return e},RN=e=>8-e,MN=(e,t,r)=>{let{fx:o,fy:n}=e,i=t.findIndex(m=>m.fx===o&&m.fy===n),a=wN(i,r),s=t[a];g(s,"handle must be defined",s,t);let l=RN(a),c=t[l];return g(c,"handle must be defined",c,t),He.angleFromX(c,s)},VN=e=>{switch(e){case 0:return 15;case 1:return 8;case 2:return 9;case 3:return 14;case 5:return 10;case 6:return 13;case 7:return 12;case 8:return 11}},jn=e=>`url("data:image/svg+xml,<svg width='24' height='24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><filter x='-21.7%' y='-28.3%' width='143.5%' height='158.4%' filterUnits='objectBoundingBox' id='a'><feOffset in='SourceAlpha' result='shadowOffsetOuter1'/><feGaussianBlur stdDeviation='.5' in='shadowOffsetOuter1' result='shadowBlurOuter1'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/></filter><filter x='-21.7%' y='-28.3%' width='143.5%' height='158.4%' filterUnits='objectBoundingBox' id='c'><feMorphology radius='.25' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter2'/><feOffset in='shadowSpreadOuter2' result='shadowOffsetOuter2'/><feGaussianBlur stdDeviation='.75' in='shadowOffsetOuter2' result='shadowBlurOuter2'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0' in='shadowBlurOuter2' result='shadowMatrixOuter2'/></filter><path d='M5 10.25v3.5c0 .138.112.25.25.25H13v2.7a.25.25 0 0 0 .415.187l5.37-4.699a.25.25 0 0 0 0-.376l-5.37-4.7a.25.25 0 0 0-.415.189V10H5.25a.25.25 0 0 0-.25.25Z' id='b'/></defs><g fill='none' fill-rule='evenodd'><use fill='%23000' filter='url(%23a)' xlink:href='%23b' transform='translate(0, 0.75) rotate(${e} 0 0)' transform-origin='center center'/><use fill='%23000' filter='url(%23c)' xlink:href='%23b' transform='translate(0, 1) rotate(${e} 0 0)' transform-origin='center center'/><g transform='rotate(${e} 0 0)' transform-origin='center center'><use fill='%23FFF' xlink:href='%23b'/><path fill='%23000' d='M6 11h8V9l3.5 3-3.5 3v-2H6z'/></g></g></svg>") 12 12, pointer`,DN=e=>`url("data:image/svg+xml,<svg width='24' height='24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><filter x='-17%' y='-30.1%' width='133.9%' height='160.3%' filterUnits='objectBoundingBox' id='a'><feOffset in='SourceAlpha' result='shadowOffsetOuter1'/><feGaussianBlur stdDeviation='.5' in='shadowOffsetOuter1' result='shadowBlurOuter1'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/></filter><filter x='-17%' y='-30.1%' width='133.9%' height='160.3%' filterUnits='objectBoundingBox' id='c'><feMorphology radius='.25' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter2'/><feOffset in='shadowSpreadOuter2' result='shadowOffsetOuter2'/><feGaussianBlur stdDeviation='.75' in='shadowOffsetOuter2' result='shadowBlurOuter2'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0' in='shadowBlurOuter2' result='shadowMatrixOuter2'/></filter><path d='M9 13.98v2.72a.25.25 0 0 1-.415.187l-5.37-4.699a.25.25 0 0 1 0-.376l5.37-4.7A.25.25 0 0 1 9 7.302V10l6 .02V7.3a.25.25 0 0 1 .415-.187l5.37 4.699a.25.25 0 0 1 0 .376l-5.37 4.7a.25.25 0 0 1-.415-.189V14l-6-.02Z' id='b'/></defs><g fill='none' fill-rule='evenodd'><use fill='%23000' filter='url(%23a)' xlink:href='%23b' transform='translate(0, 0.75) rotate(${e} 0 0)' transform-origin='center center'/><use fill='%23000' filter='url(%23c)' xlink:href='%23b' transform='translate(0, 1) rotate(${e} 0 0)' transform-origin='center center'/><g transform='rotate(${e} 0 0)' transform-origin='center center'><use fill='%23FFF' xlink:href='%23b'/><path fill='%23000' d='M16 13v2l3.5-3L16 9v2H8V9l-3.5 3L8 15v-2z'/></g></g></svg>") 12 12, pointer`,qc=e=>e+180,kN=(e,t,r)=>{if(t){let o=t.x.max&&t.x.min,n=t.y.max&&t.y.min,i=VN(e),a=i===8||i===12,s=i===14||i===10;if(a&&n||s&&o)return;if(s&&t.x.max)return jn(qc(r));if(s&&t.x.min)return jn(r);if(a&&t.y.max)return jn(qc(r));if(a&&t.y.min)return jn(r);let l=i===15||i===13||i===9||i===11;if(l&&t.x.max&&t.y.max)return jn(qc(r));if(l&&t.x.min&&t.y.min)return jn(r)}return DN(r)},VL=(e,t,r,o={})=>{let n=t.findIndex(i=>i.fx===e.fx&&i.fy===e.fy);if(!(n<-1))return kN(n,r,MN(e,t,o))},PN=e=>{switch(e){case 0:return[6,2];case 2:return[0,8];case 8:return[2,6];case 6:return[8,0];default:return[8,0]}},FN=(e,t)=>{let{fx:r,fy:o}=e,n=t.findIndex(I=>I.fx===r&&I.fy===o),i=t[n];g(i,"handle must be defined",i,t);let[a,s]=PN(n),l=t[a],c=t[s];g(l&&c,"handle must be defined",a,s,t);let m=He.angleFromX(i,l),d=He.angleFromX(i,c),p=Math.abs(m-d),f=(p>180?360-p:p)/2,h=[t[0],t[4],t[2]];return(Hu.isClockwise(h)?m:d)+f-180},LN=e=>`url("data:image/svg+xml,<svg width='24px' height='24px' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><path d='M10.25,20 C10.1119288,20 10,19.8880712 10,19.75 L10,12.6035534 C10,12.4654822 10.1119288,12.3535534 10.25,12.3535534 C10.3163041,12.3535534 10.3798926,12.3798926 10.4267767,12.4267767 L12.9218922,14.9225703 C13.5940823,14.1362843 14,13.1155457 14,12 C14,10.8844543 13.5940823,9.86371572 12.9218922,9.07742971 L10.4267767,11.5732233 C10.3798926,11.6201074 10.3163041,11.6464466 10.25,11.6464466 C10.1119288,11.6464466 10,11.5345178 10,11.3964466 L10,4.25 C10,4.11192881 10.1119288,4 10.25,4 L17.3964466,4 C17.4627507,4 17.5263392,4.02633921 17.5732233,4.0732233 C17.6708544,4.17085438 17.6708544,4.32914562 17.5732233,4.4267767 L15.7556302,6.24518726 C17.1490803,7.75912242 18,9.78018974 18,12 C18,14.2195857 17.1492525,16.2404687 15.7560531,17.7543533 L17.5732233,19.5732233 C17.6708544,19.6708544 17.6708544,19.8291456 17.5732233,19.9267767 C17.5263392,19.9736608 17.4627507,20 17.3964466,20 L10.25,20 Z' id='b'/><filter x='-38.0%' y='-19.0%' width='178.1%' height='137.9%' filterUnits='objectBoundingBox' id='a'><feOffset in='SourceAlpha' result='shadowOffsetOuter1'/><feGaussianBlur stdDeviation='0.5' in='shadowOffsetOuter1' result='shadowBlurOuter1'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0' in='shadowBlurOuter1' result='shadowMatrixOuter1'/></filter><filter x='-38.0%' y='-19.0%' width='178.1%' height='137.9%' filterUnits='objectBoundingBox' id='c'><feMorphology radius='0.25' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter2'/><feOffset in='shadowSpreadOuter2' result='shadowOffsetOuter2'/><feGaussianBlur stdDeviation='0.75' in='shadowOffsetOuter2' result='shadowBlurOuter2'/><feColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0' in='shadowBlurOuter2' result='shadowMatrixOuter2'/></filter></defs><g fill='none' fill-rule='evenodd'><g transform='translate(0, 0.75) rotate(${e} 12 12)'><use fill='%23000' filter='url(%23a)' xlink:href='%23b'/></g><g transform='translate(0, 1) rotate(${e} 12 12)'><use fill='%23000' filter='url(%23c)' xlink:href='%23b'/></g><g transform='rotate(${e} 12 12)'><use fill='%23FFF' xlink:href='%23b'/><path d='M11,19 L11,14.5 L12.8568184,16.3571474 C14.160342,15.3514059 15,13.7737593 15,12 C15,10.2262407 14.160342,8.6485941 12.8568184,7.64285263 L11,9.5 L11,5 L12.193,4.99949654 L15.5,5 L14.2798125,6.22017067 C15.9414235,7.59584189 17,9.67429905 17,12 C17,14.3257233 15.9414031,16.4041981 14.2797646,17.779869 L15.5,19 L11,19 Z' fill='%23000'/></g></g></svg>") 12 12, pointer`,DL=(e,t)=>LN(FN(e,t));var EL="appPointerEvents_arpwu8w",AL="appDisablePointerEvents_a1pulxae";var EN={"3g2":"video/3gpp2","3gp":"video/3gpp","3gpp":"video/3gpp","3mf":"model/3mf",aac:"audio/aac",ac:"application/pkix-attr-cert",adp:"audio/adpcm",adts:"audio/aac",ai:"application/postscript",aml:"application/automationml-aml+xml",amlx:"application/automationml-amlx+zip",amr:"audio/amr",apng:"image/apng",appcache:"text/cache-manifest",appinstaller:"application/appinstaller",appx:"application/appx",appxbundle:"application/appxbundle",asc:"application/pgp-keys",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomdeleted:"application/atomdeleted+xml",atomsvc:"application/atomsvc+xml",au:"audio/basic",avci:"image/avci",avcs:"image/avcs",avif:"image/avif",aw:"application/applixware",bdoc:"application/bdoc",bin:"application/octet-stream",bmp:"image/bmp",bpk:"application/octet-stream",btf:"image/prs.btif",btif:"image/prs.btif",buffer:"application/octet-stream",ccxml:"application/ccxml+xml",cdfx:"application/cdfx+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cer:"application/pkix-cert",cgm:"image/cgm",cjs:"application/node",class:"application/java-vm",coffee:"text/coffeescript",conf:"text/plain",cpl:"application/cpl+xml",cpt:"application/mac-compactpro",crl:"application/pkix-crl",css:"text/css",csv:"text/csv",cu:"application/cu-seeme",cwl:"application/cwl",cww:"application/prs.cww",davmount:"application/davmount+xml",dbk:"application/docbook+xml",deb:"application/octet-stream",def:"text/plain",deploy:"application/octet-stream",dib:"image/bmp","disposition-notification":"message/disposition-notification",dist:"application/octet-stream",distz:"application/octet-stream",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",dot:"application/msword",dpx:"image/dpx",drle:"image/dicom-rle",dsc:"text/prs.lines.tag",dssc:"application/dssc+der",dtd:"application/xml-dtd",dump:"application/octet-stream",dwd:"application/atsc-dwd+xml",ear:"application/java-archive",ecma:"application/ecmascript",elc:"application/octet-stream",emf:"image/emf",eml:"message/rfc822",emma:"application/emma+xml",emotionml:"application/emotionml+xml",eps:"application/postscript",epub:"application/epub+zip",exe:"application/octet-stream",exi:"application/exi",exp:"application/express",exr:"image/aces",ez:"application/andrew-inset",fdf:"application/fdf",fdt:"application/fdt+xml",fits:"image/fits",g3:"image/g3fax",gbr:"application/rpki-ghostbusters",geojson:"application/geo+json",gif:"image/gif",glb:"model/gltf-binary",gltf:"model/gltf+json",gml:"application/gml+xml",gpx:"application/gpx+xml",gram:"application/srgs",grxml:"application/srgs+xml",gxf:"application/gxf",gz:"application/gzip",h261:"video/h261",h263:"video/h263",h264:"video/h264",heic:"image/heic",heics:"image/heic-sequence",heif:"image/heif",heifs:"image/heif-sequence",hej2:"image/hej2k",held:"application/atsc-held+xml",hjson:"application/hjson",hlp:"application/winhlp",hqx:"application/mac-binhex40",hsj2:"image/hsj2",htm:"text/html",html:"text/html",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",img:"application/octet-stream",in:"text/plain",ini:"text/plain",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",iso:"application/octet-stream",its:"application/its+xml",jade:"text/jade",jar:"application/java-archive",jhc:"image/jphc",jls:"image/jls",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpf:"image/jpx",jpg:"image/jpeg",jpg2:"image/jp2",jpgm:"image/jpm",jpgv:"video/jpeg",jph:"image/jph",jpm:"image/jpm",jpx:"image/jpx",js:"text/javascript",json:"application/json",json5:"application/json5",jsonld:"application/ld+json",jsonml:"application/jsonml+json",jsx:"text/jsx",jt:"model/jt",jxl:"image/jxl",jxr:"image/jxr",jxra:"image/jxra",jxrs:"image/jxrs",jxs:"image/jxs",jxsc:"image/jxsc",jxsi:"image/jxsi",jxss:"image/jxss",kar:"audio/midi",ktx:"image/ktx",ktx2:"image/ktx2",less:"text/less",lgr:"application/lgr+xml",list:"text/plain",litcoffee:"text/coffeescript",log:"text/plain",lostxml:"application/lost+xml",lrf:"application/octet-stream",m1v:"video/mpeg",m21:"application/mp21",m2a:"audio/mpeg",m2t:"video/mp2t",m2ts:"video/mp2t",m2v:"video/mpeg",m3a:"audio/mpeg",m4a:"audio/mp4",m4p:"application/mp4",m4s:"video/iso.segment",ma:"application/mathematica",mads:"application/mads+xml",maei:"application/mmt-aei+xml",man:"text/troff",manifest:"text/cache-manifest",map:"application/json",mar:"application/octet-stream",markdown:"text/markdown",mathml:"application/mathml+xml",mb:"application/mathematica",mbox:"application/mbox",md:"text/markdown",mdx:"text/mdx",me:"text/troff",mesh:"model/mesh",meta4:"application/metalink4+xml",metalink:"application/metalink+xml",mets:"application/mets+xml",mft:"application/rpki-manifest",mid:"audio/midi",midi:"audio/midi",mime:"message/rfc822",mj2:"video/mj2",mjp2:"video/mj2",mjs:"text/javascript",mml:"text/mathml",mods:"application/mods+xml",mov:"video/quicktime",mp2:"audio/mpeg",mp21:"application/mp21",mp2a:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mp4a:"audio/mp4",mp4s:"application/mp4",mp4v:"video/mp4",mpd:"application/dash+xml",mpe:"video/mpeg",mpeg:"video/mpeg",mpf:"application/media-policy-dataset+xml",mpg:"video/mpeg",mpg4:"video/mp4",mpga:"audio/mpeg",mpp:"application/dash-patch+xml",mrc:"application/marc",mrcx:"application/marcxml+xml",ms:"text/troff",mscml:"application/mediaservercontrol+xml",msh:"model/mesh",msi:"application/octet-stream",msix:"application/msix",msixbundle:"application/msixbundle",msm:"application/octet-stream",msp:"application/octet-stream",mtl:"model/mtl",mts:"video/mp2t",musd:"application/mmt-usd+xml",mxf:"application/mxf",mxmf:"audio/mobile-xmf",mxml:"application/xv+xml",n3:"text/n3",nb:"application/mathematica",nq:"application/n-quads",nt:"application/n-triples",obj:"model/obj",oda:"application/oda",oga:"audio/ogg",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",omdoc:"application/omdoc+xml",onepkg:"application/onenote",onetmp:"application/onenote",onetoc:"application/onenote",onetoc2:"application/onenote",opf:"application/oebps-package+xml",opus:"audio/ogg",otf:"font/otf",owl:"application/rdf+xml",oxps:"application/oxps",p10:"application/pkcs10",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",pdf:"application/pdf",pfr:"application/font-tdpfr",pgp:"application/pgp-encrypted",pkg:"application/octet-stream",pki:"application/pkixcmp",pkipath:"application/pkix-pkipath",pls:"application/pls+xml",png:"image/png",prc:"model/prc",prf:"application/pics-rules",provx:"application/provenance+xml",ps:"application/postscript",pskcxml:"application/pskc+xml",pti:"image/prs.pti",qt:"video/quicktime",raml:"application/raml+yaml",rapd:"application/route-apd+xml",rdf:"application/rdf+xml",relo:"application/p2p-overlay+xml",rif:"application/reginfo+xml",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rmi:"audio/midi",rnc:"application/relax-ng-compact-syntax",rng:"application/xml",roa:"application/rpki-roa",roff:"text/troff",rq:"application/sparql-query",rs:"application/rls-services+xml",rsat:"application/atsc-rsat+xml",rsd:"application/rsd+xml",rsheet:"application/urc-ressheet+xml",rss:"application/rss+xml",rtf:"text/rtf",rtx:"text/richtext",rusd:"application/route-usd+xml",s3m:"audio/s3m",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",sdp:"application/sdp",senmlx:"application/senml+xml",sensmlx:"application/sensml+xml",ser:"application/java-serialized-object",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",sgi:"image/sgi",sgm:"text/sgml",sgml:"text/sgml",shex:"text/shex",shf:"application/shf+xml",shtml:"text/html",sieve:"application/sieve",sig:"application/pgp-signature",sil:"audio/silk",silo:"model/mesh",siv:"application/sieve",slim:"text/slim",slm:"text/slim",sls:"application/route-s-tsid+xml",smi:"application/smil+xml",smil:"application/smil+xml",snd:"audio/basic",so:"application/octet-stream",spdx:"text/spdx",spp:"application/scvp-vp-response",spq:"application/scvp-vp-request",spx:"audio/ogg",sql:"application/sql",sru:"application/sru+xml",srx:"application/sparql-results+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",stk:"application/hyperstudio",stl:"model/stl",stpx:"model/step+xml",stpxz:"model/step-xml+zip",stpz:"model/step+zip",styl:"text/stylus",stylus:"text/stylus",svg:"image/svg+xml",svgz:"image/svg+xml",swidtag:"application/swid+xml",t:"text/troff",t38:"image/t38",td:"application/urc-targetdesc+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",text:"text/plain",tfi:"application/thraud+xml",tfx:"image/tiff-fx",tif:"image/tiff",tiff:"image/tiff",toml:"application/toml",tr:"text/troff",trig:"application/trig",ts:"video/mp2t",tsd:"application/timestamped-data",tsv:"text/tab-separated-values",ttc:"font/collection",ttf:"font/ttf",ttl:"text/turtle",ttml:"application/ttml+xml",txt:"text/plain",u3d:"model/u3d",u8dsn:"message/global-delivery-status",u8hdr:"message/global-headers",u8mdn:"message/global-disposition-notification",u8msg:"message/global",ubj:"application/ubjson",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",vrml:"model/vrml",vtt:"text/vtt",vxml:"application/voicexml+xml",war:"application/java-archive",wasm:"application/wasm",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webmanifest:"application/manifest+json",webp:"image/webp",wgsl:"text/wgsl",wgt:"application/widget",wif:"application/watcherinfo+xml",wmf:"image/wmf",woff:"font/woff",woff2:"font/woff2",wrl:"model/vrml",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",x3d:"model/x3d+xml",x3db:"model/x3d+fastinfoset",x3dbz:"model/x3d+binary",x3dv:"model/x3d-vrml",x3dvz:"model/x3d+vrml",x3dz:"model/x3d+xml",xaml:"application/xaml+xml",xav:"application/xcap-att+xml",xca:"application/xcap-caps+xml",xcs:"application/calendar+xml",xdf:"application/xcap-diff+xml",xdssc:"application/dssc+xml",xel:"application/xcap-el+xml",xenc:"application/xenc+xml",xer:"application/patch-ops-error+xml",xfdf:"application/xfdf",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xhvml:"application/xv+xml",xlf:"application/xliff+xml",xm:"audio/xm",xml:"text/xml",xns:"application/xcap-ns+xml",xop:"application/xop+xml",xpl:"application/xproc+xml",xsd:"application/xml",xsf:"application/prs.xsf+xml",xsl:"application/xml",xslt:"application/xml",xspf:"application/xspf+xml",xvm:"application/xv+xml",xvml:"application/xv+xml",yaml:"text/yaml",yang:"application/yang",yin:"application/yin+xml",yml:"text/yaml",zip:"application/zip"};function jS(e){let t=(""+e).trim().toLowerCase(),r=t.lastIndexOf(".");return EN[~r?t.substring(++r):t]}var _S=Wr(mT());var Di=Wr(un());async function JS(e,t,r=1/0,o){o??=new Gn(e,{silent:!0});let n=[],i=[],a=[];for(let l of t){if(a.length>=r){i.push(l);continue}if(!ds.includes(l.type)){n.push(l);continue}let c=o.add(l);a.push(c)}return n.length>0&&Cr({type:"add",key:"importUploadImagesUnsupported",variant:"warning",text:(0,Di.jsxs)("span",{className:wi,children:["Skipped ",n.length," unsupported images"]}),duration:1e4}),i.length>0&&Cr({type:"add",key:"importUploadImagesSkipped",variant:"warning",text:(0,Di.jsxs)("span",{className:wi,children:["Skipped ",i.length," images over field limit"]}),duration:1e4}),Yc(o,a).catch(()=>{}),(await Promise.all(a)).filter(Ri)}async function Yc(e,t){let r="uploadEmbeddedImagesByUrl",o={type:"add",key:r,variant:"progress",icon:"image",duration:1/0,showCloseButton:"never"};for await(let{completed:i,started:a}of e.statusUpdates())Cr({...o,text:(0,Di.jsxs)("span",{className:wi,children:["Adding ",i," of ",a," images\u2026"]})});await Promise.allSettled(t);let{failed:n}=e.status;n>0&&Cr({type:"add",key:"importUploadImagesFailed",variant:"warning",text:(0,Di.jsxs)("span",{className:wi,children:["Failed to upload ",n," ",(0,_S.default)("image",n)]}),duration:5e3}),Cr({type:"remove",key:r})}var aC=Wr(nC());var iC=fe("ChooseFileService"),ed=class{constructor(t,r,o){this.engine=t;this.assetService=r;this.filePickerRef=o;w(this,"assetUploader");this.assetUploader=new Gn(this.engine)}async pickFile({allowedFileTypes:t,multiple:r}={}){let o=this.filePickerRef.current;if(!o)return null;let i=!t||t.includes("*")||t.includes("*/*")?void 0:t?.map(s=>aC.default.parse(s)?.essence??jS(s)??s),a=await o.show(i,r);return a.isFiles()?a.value:null}async pickImage({allowedFileTypes:t=cs,multiple:r}={}){return this.pickFile({allowedFileTypes:t,multiple:r})}async pickAndUploadImage(t={}){try{let r=await this.pickImage(t);if(!r)return[];if(r.length===1){let o=await this.assetUploader.add(r[0]);if(!o)return[];if(await this.assetService.refresh().catch(Ne),Ri(o))return[o]}else return await JS(this.engine,r,t.maxUploads)}catch(r){iC.warn("Failed to upload file:",r)}return[]}async pickAndUploadFile(t){try{let r=await this.pickFile(t);if(!r)return;let o=r[0];return o?await this.assetUploader.add(o):void 0}catch(r){iC.warn("Failed to upload file:",r)}}async addImages(t){if(!t?.length)return[];let o=(await Promise.all(Array.from(t,n=>this.assetUploader.add(n)))).filter(Ri);return o.length===0||await this.engine.stores.assetStore.assetService?.refresh().catch(Ne),o}},{service:sC,resolve:JN}=$g();function nE(e,t,r){JN(new ed(e,t,r))}var lC=class{constructor(){w(this,"nodeIdToRenderIdToRect",new Map);w(this,"nodeIdToLayoutTemplateSelectorToRect",new Map);w(this,"nodeIdToRenderIdToChildrenRects",new Map)}processLayoutMeasurements(t){let r=new Set,o=new Set;for(let{nodeId:n,renderId:i,layoutMetrics:a,layoutTemplateSelector:s}of t){let{childrenRects:l,...c}=a;o.has(n)||this.nodeIdToLayoutTemplateSelectorToRect.delete(n),o.add(n);let m=s?this.nodeIdToLayoutTemplateSelectorToRect.get(n)?.get(s):this.nodeIdToRenderIdToRect.get(n)?.get(i),d=this.nodeIdToRenderIdToChildrenRects.get(n)?.get(i);if(!(pr(m,c,!0)&&XN(d,l))){if(s){let p=this.nodeIdToLayoutTemplateSelectorToRect.get(n)??new Map,f=c.matrix?DOMMatrixReadOnly.fromMatrix(c.matrix):void 0;p.set(s,{...c,matrix:f}),this.nodeIdToLayoutTemplateSelectorToRect.set(n,p)}else{let p=this.nodeIdToRenderIdToRect.get(n)??new Map;p.set(i,rt.from(c)),this.nodeIdToRenderIdToRect.set(n,p)}if(l){let p=this.nodeIdToRenderIdToChildrenRects.get(n)??new Map;p.set(i,l),this.nodeIdToRenderIdToChildrenRects.set(n,p)}r.add(n)}}return r}getContentSize(t){let r=this.getRect(t),o=this.getChildrenRects(t);if(!r||!o)return;let{width:n,height:i}=rt.merge(...o);return{width:n,height:i}}getRect(t){let r=zc(t);return this.nodeIdToRenderIdToRect.get(r)?.get(t)}getRects(t){return this.nodeIdToRenderIdToRect.get(t)}getLayoutTemplateRects(t){return this.nodeIdToLayoutTemplateSelectorToRect.get(t)}getChildrenRects(t){let r=zc(t);return this.nodeIdToRenderIdToChildrenRects.get(r)?.get(t)}pruneAfterTreeChanges(t){for(let r of t){let o=r.to.parentid&&r.from?.parentid&&r.to.parentid!==r.from.parentid;r.removed?(this.nodeIdToRenderIdToRect.delete(r.id),this.nodeIdToRenderIdToChildrenRects.delete(r.id),this.nodeIdToLayoutTemplateSelectorToRect.delete(r.id)):o&&this.nodeIdToRenderIdToRect.delete(r.id)}}};function XN(e,t){return e===t?!0:e===void 0||t===void 0||e.length!==t.length?!1:t.every((r,o)=>rt.equals(r,e[o]??null))}function gE(e){return e.customizationsSectionId??e.id}function cC(e){if(ts(e)&&e.kitSectionSource)return e.kitSectionSource?.section;if(Nc(e))return e.customizationsSectionId}function dC(e,t){if(!Nc(t))return!1;let r=e.getParent(t.id);if(!De(r))return!1;let o=e.getParent(r.id);return Bu(o)}var qN={cache:!0,mutable:!0,update:!0,parentid:!0,originalid:!0,duplicatedFrom:!0,moduleSourceRevision:!0,moduleSourceRevisionHint:!0,moduleSourceRevisionCommittedHint:!0,kitSectionsStructure:!0,customizations:!0,customizationsDescription:!0,customizationsSectionId:!0,customizationsCategory:!0,customizationsRules:!0,isApplyingCustomizations:!0,layoutTemplateIdentifierOverride:!0};function xo(e,t){if(!N(t)&&!qN[e]&&!e.startsWith("export")&&!Xm(e))return t}function KN(e,t){if(e!=="children")return xo(e,t)}function YN(e,t,r,o,n){if(!Qu(e)||!tc(t))return t;if(t.type==="slot")return!tr(t.value)||U(r)&&r.slotsAreChildNodes?t:t.value.map(i=>{let a=n.get(i.reference);return Ts(o,a)?a:void 0});if(t.type==="componentinstance"){if(!A(t.value))return t;let i=n.get(t.value);return Ts(o,i)?i:void 0}else if(t.type==="array"){if(!tr(t.value))return t;let i=[],a=!1;for(let s of t.value){if(!tc(s)||s.type!=="componentinstance"||(a=!0,!A(s.value)))continue;let l=n.get(s.value);Ts(o,l)&&i.push(l)}return a?i:t}return t}function QN(e,t){return(r,o,n)=>xo(r,YN(r,o,n,t,e))}var Pi=fe("ModuleSourceRevision");function kE(e){return $r(Xt(e,xo))}function ZN(e,t){switch(e.__class){case"CollectionItemNode":case"ImageStylePresetNode":case"InlineCodeStylePresetNode":case"LayoutTemplateNode":case"LinkStylePresetNode":case"SmartComponentNode":case"TableStylePresetNode":case"WebPageNode":return $r(Xt(e,xo));case"FrameNode":{let r=t.get(e.parentid);return!r||!Me(r)?void 0:$r(Xt(e,QN(t,r.id)))}case"CollectionNode":{g(it(e),"Expected collection node");let r=Xt(t.root.locales),o=Xt(e,KN),n=Xt(e.getUnsortedChildren()?.map(i=>i.moduleSourceRevision));return $r(r+o+n)}case"PresetsListNode":{let r=e.children?.filter(o=>!Et(o,t))??[];return $r(Xt(r,xo))}case"TextStylePresetNode":case"BlockquoteStylePresetNode":{if(ui(e))return e.moduleSourceRevision;let r=Xt(e,xo);return e.cache.replicaInstances?.forEach(o=>{let n=t.getNodeWithTrait(o,ui);n&&(r+=Xt(n,xo))}),$r(r)}case"VectorSetNode":{g(Re(e),"Expected VectorSetNode");let r=e.getVectorSetItems().map(o=>{let n=dt("vector",o.id,"default").localId,i=t.getNodeWithTrait(n,qp);return i?i.save.moduleId:""});return $r(Xt(r)+e.name)}case"ShapeContainerNode":{if(!xt(e))return;let r=t.getScopeNodeFor(e);if(!Re(r))return;let o=Xt(e,xo);return $r(o+Xt(r.variables))}case"CanvasPageNode":case"RootNode":return;case"ComponentPresetNode":return;case"AnalyticsScopeNode":case"BlockquoteEntityTypeRootNode":case"BooleanShapeNode":case"BoxShadow":case"CanvasNode":case"CanvasScopeNode":case"DesignPageNode":case"ChatTool":case"CMSEntityTypeRootNode":case"CodeComponentNode":case"CodeFileEntityTypeRootNode":case"CollectionReferenceVariableEditTool":case"Color":case"ColorEntityTypeRootNode":case"ColorStyleTokenListNode":case"ColorStyleTokenNode":case"ComponentEntityTypeRootNode":case"ConicGradient":case"ContentManagementNode":case"CreateCodeComponentBaseTool":case"CreateFrameBaseTool":case"CreateShapeBaseTool":case"CreateTextTool":case"EntityFolderNode":case"EntityReferenceNode":case"EntityRootNode":case"ErrorListNode":case"ErrorNode":case"ExportOptions":case"ExternalModuleNode":case"ExternalModulesListNode":case"FeedbackTool":case"FormBooleanInputNode":case"FormPlainTextInputNode":case"FormSelectNode":case"FunnelNode":case"FunnelStepActionNode":case"FunnelStepNode":case"GapTool":case"GradientColorStop":case"GradientToolManagerTool":case"GuideMoveTool":case"HeaderRouteNode":case"HighlightStackItemTool":case"HighlightTool":case"InitialTool":case"InlineCodeEntityTypeRootNode":case"LayoutTemplateEntityTypeRootNode":case"LineAnchorMoveTool":case"LinearGradient":case"LinkEntityTypeRootNode":case"LinkTool":case"LoadingShieldTool":case"LocalizationGlossaryItemNode":case"LocalizationGlossaryNode":case"LocalModuleNode":case"LocalModulesListNode":case"Menu":case"MoveTool":case"MutableNode":case"OvalShapeNode":case"OverlayNode":case"PaddingTool":case"PageLinkTool":case"PanTool":case"PathCurveBendTool":case"PathDefaultTool":case"PathNode":case"PathSegment":case"PathSegmentAdditionTool":case"PathSegmentHandleMoveTool":case"PathSegmentMoveTool":case"PathSegmentSelectTool":case"PolygonShapeNode":case"PreviewSettings":case"ProxyRouteNode":case"RadialGradient":case"RadiusTool":case"RecoveryTool":case"RectangleShapeNode":case"RedirectRouteNode":case"ResizeTool":case"RewriteRouteNode":case"RichTextEditTool":case"RichTextNode":case"RichTextVariableEditTool":case"RotateTool":case"RouteNode":case"RouteSegmentNode":case"RouteSegmentRootNode":case"RoutesNode":case"SampleColorTool":case"ScaleTool":case"ScopeNode":case"SelectTool":case"Shadow":case"ShapeGroupNode":case"SlotConnectTool":case"SlotNode":case"SlotPropertyNode":case"StarShapeNode":case"StringVariableEditTool":case"DateVariableEditTool":case"EnumVariableEditTool":case"StyledTextDraft":case"SVGNode":case"TestTool":case"TextEditTool":case"TextEntityTypeRootNode":case"TextNode":case"VectorSetEntityTypeRootNode":case"VekterGradientTool":case"VekterPathEngine":case"VekterTool":case"ViewportResizeTool":case"ZoomSelectTool":case"ZoomTool":return;default:W(e.__class,"getModuleRevision: node.__class must be a valid value")}}function rd(e,t){let r=e.get(t);return!r||!Et(r,e)?!1:N(r.moduleSourceRevisionHint)||r.moduleSourceRevisionCommittedHint===r.moduleSourceRevisionHint?(Pi.debug(`Hint hasn't changed for ${r.id}.`),!1):(Pi.debug(`Initial Revision: ${r.moduleSourceRevision}`),!0)}function td(e,t){let r=e.get(t);if(!r||!Et(r,e))return;let o=performance.now(),n=ZN(r,e);Pi.debug(`Spent ${performance.now()-o}ms computing module revision for ${r.id}`);let i=G(n)&&n!==r.moduleSourceRevision;Pi.debug(`Revisions: ${r.moduleSourceRevision}, ${n}`);let a=r.moduleSourceRevisionHint,s=i?{moduleSourceRevision:n,moduleSourceRevisionCommittedHint:a}:{moduleSourceRevisionCommittedHint:a};return Pi.debug(i?`Updating moduleSourceRevision for ${r.id}.`:`Updating moduleSourceRevisionCommittedHint for ${r.id}.`),r.setIgnoringReplica(s,e),i?n:void 0}function mC(e,t){return t(r=>{if(r.isViewOnly)return;let o=r.get(e);return it(o)&&o.getUnsortedChildren()?.forEach(n=>{rd(r,n.id)&&td(r,n.id)}),td(r,e)})}function pC(e,t){return t(r=>{if(!r.isViewOnly)return e.reduce((o,n)=>(o[n.id]=td(r,n.id)??1,o),{})})}function fC(e){window.addEventListener("beforeunload",t=>{e()&&(t.preventDefault(),t.returnValue="You have unsaved changes. They might be lost if you leave the page.")})}var ex={track:!0};function hC(e){let t={...e,event:"preview_shown"};iu(t,ex)}var tx=fe("CodeGenerationStore"),rx="transform",_n,Ko,zs=class{constructor(t){this.sourceNode=t;H(this,_n,[]);H(this,Ko)}start(t){let r=performance.now();return{end:o=>{C(this,_n).push([t,performance.now()-r]),se(this,Ko,C(this,Ko)??o),t===rx&&this.completeSession()}}}restartSession(){se(this,_n,[]),se(this,Ko,void 0)}completeSession(){C(this,Ko)?.forEach(({type:t,source:r,artifacts:o})=>{let n=ox(t,this.sourceNode);if(!n)return;let i={codeType:n,durationMs:0,updateCount:0,updateDurationMs:0,serializationDurationMs:0,compilationDurationMs:0,synchronizationDurationMs:0,size:r.length,id:this.sourceNode.id,nodes:o?.metrics?.nodes??1,variants:o?.metrics?.variants??0,svgBytes:o?.metrics?.svgBytes,textBytes:o?.metrics?.textBytes};for(let[s,l]of C(this,_n))switch(i.durationMs+=l,s){case"update":i.updateCount++,i.updateDurationMs+=l;break;case"serialize":i.serializationDurationMs+=l;break;case"transform":i.compilationDurationMs+=l;break;case"synchronize":i.synchronizationDurationMs+=l;break;default:W(s)}let a;for(a in i){let s=i[a];G(s)&&(i[a]=Math.round(s))}tx.trace("Code Generation Metrics",i),Ht("code_generation",i)}),this.restartSession()}};_n=new WeakMap,Ko=new WeakMap;function ox(e,t){switch(e){case"canvasComponent":return"smart_component";case"css":return"styles_preset";case"collection":return"collection";case"draftCollection":return"draft_collection";case"componentPresets":return"component_presets";case"screen":return $(t)?"web_page":"prototype_screen";case"prototype":return"prototype";case"vector":return"vector";case"vectorSet":return"vector_set";case"codeFile":case"config":case"siteMetadata":case"webPageMetadata":case"layoutTemplate":case"localization":case"design":case"kit":return;default:W(e)}}function nx(e,t){let r={};if(!t||cm(e))return r;for(let o of e.cases)for(let n of t){let i=o.nameLocalized;if(!i)continue;let a=i[n.id]?.value;if(!A(a))continue;let s=r[o.id]??{};r[o.id]=s,s[n.id]=a}return r}function gC(e,t,r){if(e.cases.length===0)return u`(value) => value`;let o=nx(e,t),n=u`value`,i=u`locale`,a=u`fallbackLocale`;return new v(re.lines(u`(${n}, ${i}) => {`,u`const ${a} = ${i}?.fallback;`,u`switch (${n}) {`,...e.cases.map(({id:s,name:l})=>{let c=o[s];return c?new v(re.lines(u`case ${s}:`,u`switch (${i}?.id) {`,...Object.entries(c).map(([m,d])=>u`case ${m}: return ${d};`),u`default:`,u`if (${a}) return ${v.fn(r,n,a)};`,u`return ${l};`,u`}`)):u`case ${s}: return ${l};`}),u`default: return "";`,u`}`,u`}`))}var od="framercms";function yC(e,t,r){return`${e}-${t}.${r}`}var Ws=class{constructor(t){this.componentSourceNodeId=t;w(this,"assets",{})}create(t,r,o){let n=yC(this.componentSourceNodeId,t,r);return this.assets[n]=o,u`new URL(${`./${n}`}, import.meta.url).href`}};var SC=Wr(uT());function Be(e,...t){if(!e)throw Error("Assertion Error"+(t.length>0?": "+t.join(" "):""))}function Fi(e){throw new Error(`Unexpected value: ${e}`)}var ix=Wr(un());var CC=`// src/code-generation/components/cms/bundled/getRichTextJsonResolver.tsx?bundle
import { ComponentPresetsConsumer, Link, motion } from "framer";

// ../../library/src/router/lazy.tsx
import { forwardRef, isValidElement, useEffect } from "react";
var preloadKey = "preload";
function isLazyComponentType(componentType) {
  return typeof componentType === "object" && componentType !== null && !isValidElement(componentType) && preloadKey in componentType;
}

// src/code-generation/components/cms/bundled/getRichTextJsonResolver.tsx?bundle
import { Fragment, createElement } from "react";

// src/code-generation/components/cms/bundled/assert.ts
function assert(condition, ...msg) {
  if (condition) return;
  throw Error("Assertion Error" + (msg.length > 0 ? ": " + msg.join(" ") : ""));
}

// src/code-generation/components/cms/bundled/getRichTextJsonResolver.tsx?bundle
var RichTextJsonType = /* @__PURE__ */ ((RichTextJsonType2) => {
  RichTextJsonType2[RichTextJsonType2["Fragment"] = 1] = "Fragment";
  RichTextJsonType2[RichTextJsonType2["Link"] = 2] = "Link";
  RichTextJsonType2[RichTextJsonType2["Module"] = 3] = "Module";
  RichTextJsonType2[RichTextJsonType2["Tag"] = 4] = "Tag";
  RichTextJsonType2[RichTextJsonType2["Text"] = 5] = "Text";
  return RichTextJsonType2;
})(RichTextJsonType || {});
function getRichTextJsonResolver(components) {
  const cache = /* @__PURE__ */ new Map();
  function deserializeChildren(children) {
    return children.map(deserializeNode);
  }
  function deserializeNode(node) {
    switch (node[0]) {
      case 1 /* Fragment */: {
        const [, ...children] = node;
        const childNodes = deserializeChildren(children);
        return createElement(Fragment, void 0, ...childNodes);
      }
      case 2 /* Link */: {
        const [, props, ...children] = node;
        const childNodes = deserializeChildren(children);
        return createElement(Link, props, ...childNodes);
      }
      case 3 /* Module */: {
        const [, identifier, props] = node;
        const Component = components[identifier];
        assert(Component, "Module not found");
        if (isLazyComponentType(Component)) {
          void Component.preload();
        }
        return <ComponentPresetsConsumer componentIdentifier={identifier}>
                        {(presetProps) => <Component {...presetProps} {...props} />}
                    </ComponentPresetsConsumer>;
      }
      case 4 /* Tag */: {
        const [, tag, props, ...children] = node;
        const childNodes = deserializeChildren(children);
        if (tag === "a") {
          return createElement(motion.a, props, ...childNodes);
        }
        return createElement(tag, props, ...childNodes);
      }
      case 5 /* Text */: {
        const [, text] = node;
        return text;
      }
    }
  }
  return (pointer) => {
    const cached = cache.get(pointer);
    if (cached) return cached;
    const json = JSON.parse(pointer);
    const result = deserializeNode(json);
    cache.set(pointer, result);
    return result;
  };
}
export {
  RichTextJsonType,
  getRichTextJsonResolver
};
`;var $s=class{constructor(t,r,o,n,i,a,s,l){this.collectionNode=t;this.treeStore=r;this.imports=o;this.submodules=n;this.bindings=i;this.declarations=a;this.assets=s;this.links=l;w(this,"scopeNode");w(this,"cache",new Map);w(this,"components",{});w(this,"resolvers");w(this,"serializers",{fragment:t=>[1,...t],link:(t,r)=>[2,t,...r],module:(t,r)=>{if(this.addModuleImport(t))return[3,t,r]},tag:(t,r,o)=>[4,t,r,...o],text:t=>[5,t]});w(this,"resolveRichTextBinding");this.resolveRichTextBinding=this.bindings.create("resolveRichText"),this.scopeNode=this.treeStore.tree.getScopeNodeFor(this.collectionNode),this.resolvers=Iy(this.assets,this.links,void 0,void 0)}addModuleImport(t){if(t in this.components)return!0;let r=Z(t),o=this.imports.addModuleImport(r,{lazy:!0});return o?(this.components[t]=o,!0):!1}add(t){let r=this.cache.get(t);if(r)return r;let o=by(t,this.resolvers,this.serializers,{definitionProvider:P,tree:this.treeStore.tree,nodeId:this.collectionNode.id,scopeId:this.scopeNode?.id}),n=JSON.stringify(o);return this.cache.set(t,n),n}serialize(){let t=this.imports.addImport(this.submodules.create(CC).submoduleImport,{exportSpecifier:"getRichTextJsonResolver"}),r=this.declarations.dedupe("richTextComponents",this.components);this.declarations.create(u`const ${this.resolveRichTextBinding} = ${v.fn(t,r)}`)}};var Hs=class{constructor(){w(this,"values",new Map)}add(t){let r=this.values.get(t);if(G(r))return r;let o=this.values.size;return this.values.set(t,o),o}serialize(t,r){let o=[];for(let[i,a]of this.values){let s=Z(i),{importSpecifier:l}=Jr(s,"collection",t);g(l,"Import specifier must be defined"),o[a]=u`() => import(${l})`}let n=r.dedupe("vectors",o);return r.dedupe("resolveVectorSetItem",u`(pointer: number) => {${u.joinLines(u`const vector = ${n}[pointer]`,u`if (vector) return vector().then(v => v.default)`)}}`)}};var Ye={Uint8:1,Uint16:2,Uint32:4,BigUint64:8,Int8:1,Int16:2,Int32:4,BigInt64:8,Float32:4,Float64:8},Gs=class{constructor(t){this.bytes=t;w(this,"offset",0);w(this,"view");w(this,"decoder",new TextDecoder);this.view=Jn(this.bytes)}getOffset(){return this.offset}ensureLength(t){let r=this.bytes.length;if(!(this.offset+t<=r))throw new Error("Reading out of bounds")}readUint8(){let t=Ye.Uint8;this.ensureLength(t);let r=this.view.getUint8(this.offset);return this.offset+=t,r}readUint16(){let t=Ye.Uint16;this.ensureLength(t);let r=this.view.getUint16(this.offset);return this.offset+=t,r}readUint32(){let t=Ye.Uint32;this.ensureLength(t);let r=this.view.getUint32(this.offset);return this.offset+=t,r}readUint64(){let t=this.readBigUint64();return Number(t)}readBigUint64(){let t=Ye.BigUint64;this.ensureLength(t);let r=this.view.getBigUint64(this.offset);return this.offset+=t,r}readInt8(){let t=Ye.Int8;this.ensureLength(t);let r=this.view.getInt8(this.offset);return this.offset+=t,r}readInt16(){let t=Ye.Int16;this.ensureLength(t);let r=this.view.getInt16(this.offset);return this.offset+=t,r}readInt32(){let t=Ye.Int32;this.ensureLength(t);let r=this.view.getInt32(this.offset);return this.offset+=t,r}readInt64(){let t=this.readBigInt64();return Number(t)}readBigInt64(){let t=Ye.BigInt64;this.ensureLength(t);let r=this.view.getBigInt64(this.offset);return this.offset+=t,r}readFloat32(){let t=Ye.Float32;this.ensureLength(t);let r=this.view.getFloat32(this.offset);return this.offset+=t,r}readFloat64(){let t=Ye.Float64;this.ensureLength(t);let r=this.view.getFloat64(this.offset);return this.offset+=t,r}readBytes(t){let r=this.offset,o=r+t,n=this.bytes.subarray(r,o);return this.offset=o,n}readString(){let t=this.readUint32(),r=this.readBytes(t);return this.decoder.decode(r)}readJson(){let t=this.readString();return JSON.parse(t)}};function Jn(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}var ax=1024,sx=1.5,nd=e=>2**e-1,id=e=>-(2**(e-1)),ad=e=>2**(e-1)-1,kr={Uint8:0,Uint16:0,Uint32:0,Uint64:0,BigUint64:0,Int8:id(8),Int16:id(16),Int32:id(32),Int64:Number.MIN_SAFE_INTEGER,BigInt64:-(BigInt(2)**BigInt(63))},Pr={Uint8:nd(8),Uint16:nd(16),Uint32:nd(32),Uint64:Number.MAX_SAFE_INTEGER,BigUint64:BigInt(2)**BigInt(64)-BigInt(1),Int8:ad(8),Int16:ad(16),Int32:ad(32),Int64:Number.MAX_SAFE_INTEGER,BigInt64:BigInt(2)**BigInt(63)-BigInt(1)};function Fr(e,t,r,o){Be(e>=t,e,"outside lower bound for",o),Be(e<=r,e,"outside upper bound for",o)}var Yo=class{constructor(){w(this,"offset",0);w(this,"bytes",new Uint8Array(ax));w(this,"view",Jn(this.bytes));w(this,"encoder",new TextEncoder);w(this,"encodedStrings",new Map)}getOffset(){return this.offset}slice(t=0,r=this.offset){return this.bytes.slice(t,r)}subarray(t=0,r=this.offset){return this.bytes.subarray(t,r)}ensureLength(t){let r=this.bytes.length;if(this.offset+t<=r)return;let o=Math.ceil(r*sx)+t,n=new Uint8Array(o);n.set(this.bytes),this.bytes=n,this.view=Jn(n)}writeUint8(t){Fr(t,kr.Uint8,Pr.Uint8,"Uint8");let r=Ye.Uint8;this.ensureLength(r),this.view.setUint8(this.offset,t),this.offset+=r}writeUint16(t){Fr(t,kr.Uint16,Pr.Uint16,"Uint16");let r=Ye.Uint16;this.ensureLength(r),this.view.setUint16(this.offset,t),this.offset+=r}writeUint32(t){Fr(t,kr.Uint32,Pr.Uint32,"Uint32");let r=Ye.Uint32;this.ensureLength(r),this.view.setUint32(this.offset,t),this.offset+=r}writeUint64(t){Fr(t,kr.Uint64,Pr.Uint64,"Uint64");let r=BigInt(t);this.writeBigUint64(r)}writeBigUint64(t){Fr(t,kr.BigUint64,Pr.BigUint64,"BigUint64");let r=Ye.BigUint64;this.ensureLength(r),this.view.setBigUint64(this.offset,t),this.offset+=r}writeInt8(t){Fr(t,kr.Int8,Pr.Int8,"Int8");let r=Ye.Int8;this.ensureLength(r),this.view.setInt8(this.offset,t),this.offset+=r}writeInt16(t){Fr(t,kr.Int16,Pr.Int16,"Int16");let r=Ye.Int16;this.ensureLength(r),this.view.setInt16(this.offset,t),this.offset+=r}writeInt32(t){Fr(t,kr.Int32,Pr.Int32,"Int32");let r=Ye.Int32;this.ensureLength(r),this.view.setInt32(this.offset,t),this.offset+=r}writeInt64(t){Fr(t,kr.Int64,Pr.Int64,"Int64");let r=BigInt(t);this.writeBigInt64(r)}writeBigInt64(t){Fr(t,kr.BigInt64,Pr.BigInt64,"BigInt64");let r=Ye.BigInt64;this.ensureLength(r),this.view.setBigInt64(this.offset,t),this.offset+=r}writeFloat32(t){let r=Ye.Float32;this.ensureLength(r),this.view.setFloat32(this.offset,t),this.offset+=r}writeFloat64(t){let r=Ye.Float64;this.ensureLength(r),this.view.setFloat64(this.offset,t),this.offset+=r}writeBytes(t){let r=t.length;this.ensureLength(r),this.bytes.set(t,this.offset),this.offset+=r}encodeString(t){let r=this.encodedStrings.get(t);if(r)return r;let o=this.encoder.encode(t);return this.encodedStrings.set(t,o),o}writeString(t){let r=this.encodeString(t),o=r.length;this.writeUint32(o),this.writeBytes(r)}writeJson(t){let r=JSON.stringify(t);this.writeString(r)}};var vC=`var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

// ../../../node_modules/dataloader/index.js
var require_dataloader = __commonJS({
  "../../../node_modules/dataloader/index.js"(exports, module) {
    "use strict";
    var DataLoader2 = /* @__PURE__ */ function() {
      function DataLoader3(batchLoadFn, options) {
        if (typeof batchLoadFn !== "function") {
          throw new TypeError("DataLoader must be constructed with a function which accepts " + ("Array<key> and returns Promise<Array<value>>, but got: " + batchLoadFn + "."));
        }
        this._batchLoadFn = batchLoadFn;
        this._maxBatchSize = getValidMaxBatchSize(options);
        this._batchScheduleFn = getValidBatchScheduleFn(options);
        this._cacheKeyFn = getValidCacheKeyFn(options);
        this._cacheMap = getValidCacheMap(options);
        this._batch = null;
        this.name = getValidName(options);
      }
      var _proto = DataLoader3.prototype;
      _proto.load = function load(key) {
        if (key === null || key === void 0) {
          throw new TypeError("The loader.load() function must be called with a value, " + ("but got: " + String(key) + "."));
        }
        var batch = getCurrentBatch(this);
        var cacheMap = this._cacheMap;
        var cacheKey = this._cacheKeyFn(key);
        if (cacheMap) {
          var cachedPromise = cacheMap.get(cacheKey);
          if (cachedPromise) {
            var cacheHits = batch.cacheHits || (batch.cacheHits = []);
            return new Promise(function(resolve) {
              cacheHits.push(function() {
                resolve(cachedPromise);
              });
            });
          }
        }
        batch.keys.push(key);
        var promise = new Promise(function(resolve, reject) {
          batch.callbacks.push({
            resolve,
            reject
          });
        });
        if (cacheMap) {
          cacheMap.set(cacheKey, promise);
        }
        return promise;
      };
      _proto.loadMany = function loadMany(keys) {
        if (!isArrayLike(keys)) {
          throw new TypeError("The loader.loadMany() function must be called with Array<key> " + ("but got: " + keys + "."));
        }
        var loadPromises = [];
        for (var i = 0; i < keys.length; i++) {
          loadPromises.push(this.load(keys[i])["catch"](function(error) {
            return error;
          }));
        }
        return Promise.all(loadPromises);
      };
      _proto.clear = function clear(key) {
        var cacheMap = this._cacheMap;
        if (cacheMap) {
          var cacheKey = this._cacheKeyFn(key);
          cacheMap["delete"](cacheKey);
        }
        return this;
      };
      _proto.clearAll = function clearAll() {
        var cacheMap = this._cacheMap;
        if (cacheMap) {
          cacheMap.clear();
        }
        return this;
      };
      _proto.prime = function prime(key, value) {
        var cacheMap = this._cacheMap;
        if (cacheMap) {
          var cacheKey = this._cacheKeyFn(key);
          if (cacheMap.get(cacheKey) === void 0) {
            var promise;
            if (value instanceof Error) {
              promise = Promise.reject(value);
              promise["catch"](function() {
              });
            } else {
              promise = Promise.resolve(value);
            }
            cacheMap.set(cacheKey, promise);
          }
        }
        return this;
      };
      return DataLoader3;
    }();
    var enqueuePostPromiseJob = typeof process === "object" && typeof process.nextTick === "function" ? function(fn) {
      if (!resolvedPromise) {
        resolvedPromise = Promise.resolve();
      }
      resolvedPromise.then(function() {
        process.nextTick(fn);
      });
    } : typeof setImmediate === "function" ? function(fn) {
      setImmediate(fn);
    } : function(fn) {
      setTimeout(fn);
    };
    var resolvedPromise;
    function getCurrentBatch(loader) {
      var existingBatch = loader._batch;
      if (existingBatch !== null && !existingBatch.hasDispatched && existingBatch.keys.length < loader._maxBatchSize) {
        return existingBatch;
      }
      var newBatch = {
        hasDispatched: false,
        keys: [],
        callbacks: []
      };
      loader._batch = newBatch;
      loader._batchScheduleFn(function() {
        dispatchBatch(loader, newBatch);
      });
      return newBatch;
    }
    function dispatchBatch(loader, batch) {
      batch.hasDispatched = true;
      if (batch.keys.length === 0) {
        resolveCacheHits(batch);
        return;
      }
      var batchPromise;
      try {
        batchPromise = loader._batchLoadFn(batch.keys);
      } catch (e) {
        return failedDispatch(loader, batch, new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function " + ("errored synchronously: " + String(e) + ".")));
      }
      if (!batchPromise || typeof batchPromise.then !== "function") {
        return failedDispatch(loader, batch, new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did " + ("not return a Promise: " + String(batchPromise) + ".")));
      }
      batchPromise.then(function(values) {
        if (!isArrayLike(values)) {
          throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did " + ("not return a Promise of an Array: " + String(values) + "."));
        }
        if (values.length !== batch.keys.length) {
          throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys." + ("\\n\\nKeys:\\n" + String(batch.keys)) + ("\\n\\nValues:\\n" + String(values)));
        }
        resolveCacheHits(batch);
        for (var i = 0; i < batch.callbacks.length; i++) {
          var value = values[i];
          if (value instanceof Error) {
            batch.callbacks[i].reject(value);
          } else {
            batch.callbacks[i].resolve(value);
          }
        }
      })["catch"](function(error) {
        failedDispatch(loader, batch, error);
      });
    }
    function failedDispatch(loader, batch, error) {
      resolveCacheHits(batch);
      for (var i = 0; i < batch.keys.length; i++) {
        loader.clear(batch.keys[i]);
        batch.callbacks[i].reject(error);
      }
    }
    function resolveCacheHits(batch) {
      if (batch.cacheHits) {
        for (var i = 0; i < batch.cacheHits.length; i++) {
          batch.cacheHits[i]();
        }
      }
    }
    function getValidMaxBatchSize(options) {
      var shouldBatch = !options || options.batch !== false;
      if (!shouldBatch) {
        return 1;
      }
      var maxBatchSize = options && options.maxBatchSize;
      if (maxBatchSize === void 0) {
        return Infinity;
      }
      if (typeof maxBatchSize !== "number" || maxBatchSize < 1) {
        throw new TypeError("maxBatchSize must be a positive number: " + maxBatchSize);
      }
      return maxBatchSize;
    }
    function getValidBatchScheduleFn(options) {
      var batchScheduleFn = options && options.batchScheduleFn;
      if (batchScheduleFn === void 0) {
        return enqueuePostPromiseJob;
      }
      if (typeof batchScheduleFn !== "function") {
        throw new TypeError("batchScheduleFn must be a function: " + batchScheduleFn);
      }
      return batchScheduleFn;
    }
    function getValidCacheKeyFn(options) {
      var cacheKeyFn = options && options.cacheKeyFn;
      if (cacheKeyFn === void 0) {
        return function(key) {
          return key;
        };
      }
      if (typeof cacheKeyFn !== "function") {
        throw new TypeError("cacheKeyFn must be a function: " + cacheKeyFn);
      }
      return cacheKeyFn;
    }
    function getValidCacheMap(options) {
      var shouldCache = !options || options.cache !== false;
      if (!shouldCache) {
        return null;
      }
      var cacheMap = options && options.cacheMap;
      if (cacheMap === void 0) {
        return /* @__PURE__ */ new Map();
      }
      if (cacheMap !== null) {
        var cacheFunctions = ["get", "set", "delete", "clear"];
        var missingFunctions = cacheFunctions.filter(function(fnName) {
          return cacheMap && typeof cacheMap[fnName] !== "function";
        });
        if (missingFunctions.length !== 0) {
          throw new TypeError("Custom cacheMap missing methods: " + missingFunctions.join(", "));
        }
      }
      return cacheMap;
    }
    function getValidName(options) {
      if (options && options.name) {
        return options.name;
      }
      return null;
    }
    function isArrayLike(x) {
      return typeof x === "object" && x !== null && typeof x.length === "number" && (x.length === 0 || x.length > 0 && Object.prototype.hasOwnProperty.call(x, x.length - 1));
    }
    module.exports = DataLoader2;
  }
});

// src/code-generation/components/cms/bundled/DatabaseCollection.ts?bundle
var import_dataloader = __toESM(require_dataloader());

// src/code-generation/components/cms/bundled/BufferReader.ts
var BYTE_LENGTH = {
  Uint8: 1,
  Uint16: 2,
  Uint32: 4,
  BigUint64: 8,
  Int8: 1,
  Int16: 2,
  Int32: 4,
  BigInt64: 8,
  Float32: 4,
  Float64: 8
};
var BufferReader = class {
  constructor(bytes) {
    this.bytes = bytes;
    __publicField(this, "offset", 0);
    __publicField(this, "view");
    __publicField(this, "decoder", new TextDecoder());
    this.view = getDataView(this.bytes);
  }
  getOffset() {
    return this.offset;
  }
  ensureLength(requiredBytes) {
    const oldLength = this.bytes.length;
    if (this.offset + requiredBytes <= oldLength) return;
    throw new Error("Reading out of bounds");
  }
  readUint8() {
    const size = BYTE_LENGTH.Uint8;
    this.ensureLength(size);
    const value = this.view.getUint8(this.offset);
    this.offset += size;
    return value;
  }
  readUint16() {
    const size = BYTE_LENGTH.Uint16;
    this.ensureLength(size);
    const value = this.view.getUint16(this.offset);
    this.offset += size;
    return value;
  }
  readUint32() {
    const size = BYTE_LENGTH.Uint32;
    this.ensureLength(size);
    const value = this.view.getUint32(this.offset);
    this.offset += size;
    return value;
  }
  readUint64() {
    const bigint = this.readBigUint64();
    return Number(bigint);
  }
  readBigUint64() {
    const size = BYTE_LENGTH.BigUint64;
    this.ensureLength(size);
    const value = this.view.getBigUint64(this.offset);
    this.offset += size;
    return value;
  }
  readInt8() {
    const size = BYTE_LENGTH.Int8;
    this.ensureLength(size);
    const value = this.view.getInt8(this.offset);
    this.offset += size;
    return value;
  }
  readInt16() {
    const size = BYTE_LENGTH.Int16;
    this.ensureLength(size);
    const value = this.view.getInt16(this.offset);
    this.offset += size;
    return value;
  }
  readInt32() {
    const size = BYTE_LENGTH.Int32;
    this.ensureLength(size);
    const value = this.view.getInt32(this.offset);
    this.offset += size;
    return value;
  }
  readInt64() {
    const bigint = this.readBigInt64();
    return Number(bigint);
  }
  readBigInt64() {
    const size = BYTE_LENGTH.BigInt64;
    this.ensureLength(size);
    const value = this.view.getBigInt64(this.offset);
    this.offset += size;
    return value;
  }
  readFloat32() {
    const size = BYTE_LENGTH.Float32;
    this.ensureLength(size);
    const value = this.view.getFloat32(this.offset);
    this.offset += size;
    return value;
  }
  readFloat64() {
    const size = BYTE_LENGTH.Float64;
    this.ensureLength(size);
    const value = this.view.getFloat64(this.offset);
    this.offset += size;
    return value;
  }
  readBytes(length) {
    const start = this.offset;
    const end = start + length;
    const value = this.bytes.subarray(start, end);
    this.offset = end;
    return value;
  }
  readString() {
    const length = this.readUint32();
    const bytes = this.readBytes(length);
    return this.decoder.decode(bytes);
  }
  readJson() {
    const string = this.readString();
    return JSON.parse(string);
  }
};
function getDataView(bytes) {
  return new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);
}

// src/code-generation/components/cms/bundled/DatabaseDictionaryIndex.ts
import { ControlType as ControlType2 } from "framer";

// ../../library/src/utils/utils.ts
var isWindow = typeof window !== "undefined";
var supportsRequestIdleCallback = isWindow && typeof window.requestIdleCallback === "function";

// src/code-generation/components/cms/bundled/assert.ts
function assert(condition, ...msg) {
  if (condition) return;
  throw Error("Assertion Error" + (msg.length > 0 ? ": " + msg.join(" ") : ""));
}
function assertNever(condition) {
  throw new Error(\`Unexpected value: \${condition}\`);
}

// src/code-generation/components/cms/bundled/BufferWriter.ts
var INITIAL_BUFFER_SIZE = 1024;
var GROWTH_FACTOR = 1.5;
var maxUnsignedNumber = (bits) => 2 ** bits - 1;
var minSignedNumber = (bits) => -(2 ** (bits - 1));
var maxSignedNumber = (bits) => 2 ** (bits - 1) - 1;
var MIN_VALUE = {
  Uint8: 0,
  Uint16: 0,
  Uint32: 0,
  Uint64: 0,
  BigUint64: 0,
  Int8: minSignedNumber(8),
  Int16: minSignedNumber(16),
  Int32: minSignedNumber(32),
  Int64: Number.MIN_SAFE_INTEGER,
  BigInt64: -(BigInt(2) ** BigInt(63))
};
var MAX_VALUE = {
  Uint8: maxUnsignedNumber(8),
  Uint16: maxUnsignedNumber(16),
  Uint32: maxUnsignedNumber(32),
  Uint64: Number.MAX_SAFE_INTEGER,
  BigUint64: BigInt(2) ** BigInt(64) - BigInt(1),
  Int8: maxSignedNumber(8),
  Int16: maxSignedNumber(16),
  Int32: maxSignedNumber(32),
  Int64: Number.MAX_SAFE_INTEGER,
  BigInt64: BigInt(2) ** BigInt(63) - BigInt(1)
};
function assertRange(value, min, max, dataType) {
  assert(value >= min, value, "outside lower bound for", dataType);
  assert(value <= max, value, "outside upper bound for", dataType);
}
var BufferWriter = class {
  constructor() {
    __publicField(this, "offset", 0);
    __publicField(this, "bytes", new Uint8Array(INITIAL_BUFFER_SIZE));
    __publicField(this, "view", getDataView(this.bytes));
    __publicField(this, "encoder", new TextEncoder());
    __publicField(this, "encodedStrings", /* @__PURE__ */ new Map());
  }
  getOffset() {
    return this.offset;
  }
  slice(start = 0, end = this.offset) {
    return this.bytes.slice(start, end);
  }
  subarray(start = 0, end = this.offset) {
    return this.bytes.subarray(start, end);
  }
  ensureLength(requiredBytes) {
    const oldLength = this.bytes.length;
    if (this.offset + requiredBytes <= oldLength) return;
    const newLength = Math.ceil(oldLength * GROWTH_FACTOR) + requiredBytes;
    const newBytes = new Uint8Array(newLength);
    newBytes.set(this.bytes);
    this.bytes = newBytes;
    this.view = getDataView(newBytes);
  }
  writeUint8(value) {
    assertRange(value, MIN_VALUE.Uint8, MAX_VALUE.Uint8, "Uint8");
    const size = BYTE_LENGTH.Uint8;
    this.ensureLength(size);
    this.view.setUint8(this.offset, value);
    this.offset += size;
  }
  writeUint16(value) {
    assertRange(value, MIN_VALUE.Uint16, MAX_VALUE.Uint16, "Uint16");
    const size = BYTE_LENGTH.Uint16;
    this.ensureLength(size);
    this.view.setUint16(this.offset, value);
    this.offset += size;
  }
  writeUint32(value) {
    assertRange(value, MIN_VALUE.Uint32, MAX_VALUE.Uint32, "Uint32");
    const size = BYTE_LENGTH.Uint32;
    this.ensureLength(size);
    this.view.setUint32(this.offset, value);
    this.offset += size;
  }
  writeUint64(value) {
    assertRange(value, MIN_VALUE.Uint64, MAX_VALUE.Uint64, "Uint64");
    const bigint = BigInt(value);
    this.writeBigUint64(bigint);
  }
  writeBigUint64(value) {
    assertRange(value, MIN_VALUE.BigUint64, MAX_VALUE.BigUint64, "BigUint64");
    const size = BYTE_LENGTH.BigUint64;
    this.ensureLength(size);
    this.view.setBigUint64(this.offset, value);
    this.offset += size;
  }
  writeInt8(value) {
    assertRange(value, MIN_VALUE.Int8, MAX_VALUE.Int8, "Int8");
    const size = BYTE_LENGTH.Int8;
    this.ensureLength(size);
    this.view.setInt8(this.offset, value);
    this.offset += size;
  }
  writeInt16(value) {
    assertRange(value, MIN_VALUE.Int16, MAX_VALUE.Int16, "Int16");
    const size = BYTE_LENGTH.Int16;
    this.ensureLength(size);
    this.view.setInt16(this.offset, value);
    this.offset += size;
  }
  writeInt32(value) {
    assertRange(value, MIN_VALUE.Int32, MAX_VALUE.Int32, "Int32");
    const size = BYTE_LENGTH.Int32;
    this.ensureLength(size);
    this.view.setInt32(this.offset, value);
    this.offset += size;
  }
  writeInt64(value) {
    assertRange(value, MIN_VALUE.Int64, MAX_VALUE.Int64, "Int64");
    const bigint = BigInt(value);
    this.writeBigInt64(bigint);
  }
  writeBigInt64(value) {
    assertRange(value, MIN_VALUE.BigInt64, MAX_VALUE.BigInt64, "BigInt64");
    const size = BYTE_LENGTH.BigInt64;
    this.ensureLength(size);
    this.view.setBigInt64(this.offset, value);
    this.offset += size;
  }
  writeFloat32(value) {
    const size = BYTE_LENGTH.Float32;
    this.ensureLength(size);
    this.view.setFloat32(this.offset, value);
    this.offset += size;
  }
  writeFloat64(value) {
    const size = BYTE_LENGTH.Float64;
    this.ensureLength(size);
    this.view.setFloat64(this.offset, value);
    this.offset += size;
  }
  writeBytes(value) {
    const size = value.length;
    this.ensureLength(size);
    this.bytes.set(value, this.offset);
    this.offset += size;
  }
  encodeString(value) {
    const cached = this.encodedStrings.get(value);
    if (cached) return cached;
    const bytes = this.encoder.encode(value);
    this.encodedStrings.set(value, bytes);
    return bytes;
  }
  writeString(value) {
    const bytes = this.encodeString(value);
    const size = bytes.length;
    this.writeUint32(size);
    this.writeBytes(bytes);
  }
  writeJson(value) {
    const json = JSON.stringify(value);
    this.writeString(json);
  }
};

// src/utils/typeChecks.ts
function isString(value) {
  return typeof value === "string";
}
function isNumber(value) {
  return Number.isFinite(value);
}
function isNull(value) {
  return value === null;
}

// src/code-generation/components/cms/bundled/models/DatabaseItemPointerModel.ts
var DatabaseItemPointerModel = class _DatabaseItemPointerModel {
  constructor(chunkId, offset, length) {
    this.chunkId = chunkId;
    this.offset = offset;
    this.length = length;
  }
  static fromString(value) {
    const [chunkId, offset, length] = value.split("/").map(Number);
    assert(isNumber(chunkId), "Invalid chunkId");
    assert(isNumber(offset), "Invalid offset");
    assert(isNumber(length), "Invalid length");
    return new _DatabaseItemPointerModel(chunkId, offset, length);
  }
  toString() {
    return \`\${this.chunkId}/\${this.offset}/\${this.length}\`;
  }
  static read(reader) {
    const chunkId = reader.readUint16();
    const offset = reader.readUint32();
    const length = reader.readUint32();
    return new _DatabaseItemPointerModel(chunkId, offset, length);
  }
  write(writer) {
    writer.writeUint16(this.chunkId);
    writer.writeUint32(this.offset);
    writer.writeUint32(this.length);
  }
  compare(other) {
    if (this.chunkId < other.chunkId) return -1;
    if (this.chunkId > other.chunkId) return 1;
    if (this.offset < other.offset) return -1;
    if (this.offset > other.offset) return 1;
    assert(this.length === other.length);
    return 0;
  }
};

// src/code-generation/components/cms/bundled/models/DatabaseValueModel.ts
import { ControlType } from "framer";
function getValueType(value) {
  if (isNull(value)) {
    return 0 /* Null */;
  }
  switch (value.type) {
    case ControlType.Array:
      return 1 /* Array */;
    case ControlType.Boolean:
      return 2 /* Boolean */;
    case ControlType.Color:
      return 3 /* Color */;
    case ControlType.Date:
      return 4 /* Date */;
    case ControlType.Enum:
      return 5 /* Enum */;
    case ControlType.File:
      return 6 /* File */;
    case ControlType.ResponsiveImage:
      return 10 /* ResponsiveImage */;
    case ControlType.Link:
      return 7 /* Link */;
    case ControlType.Number:
      return 8 /* Number */;
    case ControlType.Object:
      return 9 /* Object */;
    case ControlType.RichText:
      return 11 /* RichText */;
    case ControlType.String:
      return 12 /* String */;
    case ControlType.VectorSetItem:
      return 13 /* VectorSetItem */;
    default:
      assertNever(value);
  }
}
var DatabaseValueModel;
((DatabaseValueModel2) => {
  function read(reader) {
    const type = reader.readUint8();
    switch (type) {
      case 0 /* Null */:
        return null;
      case 1 /* Array */:
        return readArray(reader);
      case 2 /* Boolean */:
        return readBoolean(reader);
      case 3 /* Color */:
        return readColor(reader);
      case 4 /* Date */:
        return readDate(reader);
      case 5 /* Enum */:
        return readEnum(reader);
      case 6 /* File */:
        return readFile(reader);
      case 7 /* Link */:
        return readLink(reader);
      case 8 /* Number */:
        return readNumber(reader);
      case 9 /* Object */:
        return readObject(reader);
      case 10 /* ResponsiveImage */:
        return readResponsiveImage(reader);
      case 11 /* RichText */:
        return readRichText(reader);
      case 12 /* String */:
        return readString(reader);
      case 13 /* VectorSetItem */:
        return readVectorSetItem(reader);
      default:
        assertNever(type);
    }
  }
  DatabaseValueModel2.read = read;
  function write(writer, value) {
    const type = getValueType(value);
    writer.writeUint8(type);
    if (isNull(value)) return;
    switch (value.type) {
      case ControlType.Array:
        return writeArray(writer, value);
      case ControlType.Boolean:
        return writeBoolean(writer, value);
      case ControlType.Color:
        return writeColor(writer, value);
      case ControlType.Date:
        return writeDate(writer, value);
      case ControlType.Enum:
        return writeEnum(writer, value);
      case ControlType.File:
        return writeFile(writer, value);
      case ControlType.Link:
        return writeLink(writer, value);
      case ControlType.Number:
        return writeNumber(writer, value);
      case ControlType.Object:
        return writeObject(writer, value);
      case ControlType.ResponsiveImage:
        return writeResponsiveImage(writer, value);
      case ControlType.RichText:
        return writeRichText(writer, value);
      case ControlType.VectorSetItem:
        return writeVectorSetItem(writer, value);
      case ControlType.String:
        return writeString(writer, value);
      default:
        assertNever(value);
    }
  }
  DatabaseValueModel2.write = write;
  function compare(left, right, collation) {
    const leftType = getValueType(left);
    const rightType = getValueType(right);
    if (leftType < rightType) return -1;
    if (leftType > rightType) return 1;
    if (isNull(left) || isNull(right)) return 0;
    switch (left.type) {
      case ControlType.Array:
        assert(right.type === ControlType.Array);
        return compareArray(left, right, collation);
      case ControlType.Boolean:
        assert(right.type === ControlType.Boolean);
        return compareBoolean(left, right);
      case ControlType.Color:
        assert(right.type === ControlType.Color);
        return compareColor(left, right);
      case ControlType.Date:
        assert(right.type === ControlType.Date);
        return compareDate(left, right);
      case ControlType.Enum:
        assert(right.type === ControlType.Enum);
        return compareEnum(left, right);
      case ControlType.File:
        assert(right.type === ControlType.File);
        return compareFile(left, right);
      case ControlType.Link:
        assert(right.type === ControlType.Link);
        return compareLink(left, right);
      case ControlType.Number:
        assert(right.type === ControlType.Number);
        return compareNumber(left, right);
      case ControlType.Object:
        assert(right.type === ControlType.Object);
        return compareObject(left, right, collation);
      case ControlType.ResponsiveImage:
        assert(right.type === ControlType.ResponsiveImage);
        return compareResponsiveImage(left, right);
      case ControlType.RichText:
        assert(right.type === ControlType.RichText);
        return compareRichText(left, right);
      case ControlType.VectorSetItem:
        assert(right.type === ControlType.VectorSetItem);
        return compareVectorSetItem(left, right);
      case ControlType.String:
        assert(right.type === ControlType.String);
        return compareString(left, right, collation);
      default:
        assertNever(left);
    }
  }
  DatabaseValueModel2.compare = compare;
})(DatabaseValueModel || (DatabaseValueModel = {}));
function readArray(reader) {
  const length = reader.readUint16();
  const value = [];
  for (let i = 0; i < length; i++) {
    const item = DatabaseValueModel.read(reader);
    value.push(item);
  }
  return {
    type: ControlType.Array,
    value
  };
}
function writeArray(writer, value) {
  writer.writeUint16(value.value.length);
  for (const item of value.value) {
    DatabaseValueModel.write(writer, item);
  }
}
function compareArray(left, right, collation) {
  const leftLength = left.value.length;
  const rightLength = right.value.length;
  if (leftLength < rightLength) return -1;
  if (leftLength > rightLength) return 1;
  for (let i = 0; i < leftLength; i++) {
    const leftItem = left.value[i];
    const rightItem = right.value[i];
    const result = DatabaseValueModel.compare(leftItem, rightItem, collation);
    if (result !== 0) return result;
  }
  return 0;
}
function readBoolean(reader) {
  return {
    type: ControlType.Boolean,
    value: reader.readUint8() !== 0
  };
}
function writeBoolean(writer, value) {
  writer.writeUint8(value.value ? 1 : 0);
}
function compareBoolean(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readColor(reader) {
  return {
    type: ControlType.Color,
    value: reader.readString()
  };
}
function writeColor(writer, value) {
  writer.writeString(value.value);
}
function compareColor(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readDate(reader) {
  const timestamp = reader.readInt64();
  const date = new Date(timestamp);
  return {
    type: ControlType.Date,
    value: date.toISOString()
  };
}
function writeDate(writer, value) {
  const date = new Date(value.value);
  const timestamp = date.getTime();
  writer.writeInt64(timestamp);
}
function compareDate(left, right) {
  const leftDate = new Date(left.value);
  const rightDate = new Date(right.value);
  if (leftDate < rightDate) return -1;
  if (leftDate > rightDate) return 1;
  return 0;
}
function readEnum(reader) {
  return {
    type: ControlType.Enum,
    value: reader.readString()
  };
}
function writeEnum(writer, value) {
  writer.writeString(value.value);
}
function compareEnum(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readFile(reader) {
  return {
    type: ControlType.File,
    value: reader.readString()
  };
}
function writeFile(writer, value) {
  writer.writeString(value.value);
}
function compareFile(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readLink(reader) {
  return {
    type: ControlType.Link,
    value: reader.readJson()
  };
}
function writeLink(writer, value) {
  writer.writeJson(value.value);
}
function compareLink(left, right) {
  const leftEncoded = JSON.stringify(left.value);
  const rightEncoded = JSON.stringify(right.value);
  if (leftEncoded < rightEncoded) return -1;
  if (leftEncoded > rightEncoded) return 1;
  return 0;
}
function readNumber(reader) {
  return {
    type: ControlType.Number,
    value: reader.readFloat64()
  };
}
function writeNumber(writer, value) {
  writer.writeFloat64(value.value);
}
function compareNumber(left, right) {
  if (left.value < right.value) return -1;
  if (left.value > right.value) return 1;
  return 0;
}
function readObject(reader) {
  const length = reader.readUint16();
  const result = {};
  for (let i = 0; i < length; i++) {
    const key = reader.readString();
    result[key] = DatabaseValueModel.read(reader);
  }
  return {
    type: ControlType.Object,
    value: result
  };
}
function writeObject(writer, value) {
  const entries = Object.entries(value.value);
  writer.writeUint16(entries.length);
  for (const [key, item] of entries) {
    writer.writeString(key);
    DatabaseValueModel.write(writer, item);
  }
}
function compareObject(left, right, collation) {
  const leftKeys = Object.keys(left.value).sort();
  const rightKeys = Object.keys(right.value).sort();
  if (leftKeys.length < rightKeys.length) return -1;
  if (leftKeys.length > rightKeys.length) return 1;
  for (let i = 0; i < leftKeys.length; i++) {
    const leftKey = leftKeys[i];
    const rightKey = rightKeys[i];
    if (leftKey < rightKey) return -1;
    if (leftKey > rightKey) return 1;
    const leftValue = left.value[leftKey] ?? null;
    const rightValue = right.value[rightKey] ?? null;
    const result = DatabaseValueModel.compare(leftValue, rightValue, collation);
    if (result !== 0) return result;
  }
  return 0;
}
function readResponsiveImage(reader) {
  return {
    type: ControlType.ResponsiveImage,
    value: reader.readJson()
  };
}
function writeResponsiveImage(writer, value) {
  writer.writeJson(value.value);
}
function compareResponsiveImage(left, right) {
  const leftEncoded = JSON.stringify(left.value);
  const rightEncoded = JSON.stringify(right.value);
  if (leftEncoded < rightEncoded) return -1;
  if (leftEncoded > rightEncoded) return 1;
  return 0;
}
function readRichText(reader) {
  const type = reader.readInt8();
  if (type === 0) {
    return {
      type: ControlType.RichText,
      value: reader.readUint32()
    };
  }
  if (type === 1) {
    return {
      type: ControlType.RichText,
      value: reader.readString()
    };
  }
  throw new Error(\`Invalid rich text pointer\`);
}
function writeRichText(writer, value) {
  if (isNumber(value.value)) {
    writer.writeInt8(0);
    writer.writeUint32(value.value);
    return;
  }
  if (isString(value.value)) {
    writer.writeInt8(1);
    writer.writeString(value.value);
    return;
  }
  throw new Error(\`Invalid rich text pointer\`);
}
function compareRichText(left, right) {
  const leftValue = left.value;
  const rightValue = right.value;
  if (isNumber(leftValue) && isNumber(rightValue)) {
    if (leftValue < rightValue) return -1;
    if (leftValue > rightValue) return 1;
    return 0;
  }
  if (isString(leftValue) && isString(rightValue)) {
    if (leftValue < rightValue) return -1;
    if (leftValue > rightValue) return 1;
    return 0;
  }
  throw new Error(\`Invalid rich text pointer\`);
}
function readString(reader) {
  return {
    type: ControlType.String,
    value: reader.readString()
  };
}
function writeString(writer, value) {
  writer.writeString(value.value);
}
function compareString(left, right, collation) {
  let leftValue = left.value;
  let rightValue = right.value;
  if (collation.type === 0 /* CaseInsensitive */) {
    leftValue = left.value.toLowerCase();
    rightValue = right.value.toLowerCase();
  }
  if (leftValue < rightValue) return -1;
  if (leftValue > rightValue) return 1;
  return 0;
}
function readVectorSetItem(reader) {
  return {
    type: ControlType.VectorSetItem,
    value: reader.readUint32()
  };
}
function writeVectorSetItem(writer, value) {
  writer.writeUint32(value.value);
}
function compareVectorSetItem(left, right) {
  const leftValue = left.value;
  const rightValue = right.value;
  if (leftValue < rightValue) return -1;
  if (leftValue > rightValue) return 1;
  return 0;
}

// src/code-generation/components/cms/bundled/models/DatabaseDictionaryIndexModel.ts
var DatabaseDictionaryIndexModel = class _DatabaseDictionaryIndexModel {
  constructor(fieldNames, options) {
    this.fieldNames = fieldNames;
    this.options = options;
    __publicField(this, "entries", []);
  }
  sortEntries() {
    this.entries.sort((left, right) => {
      for (let i = 0; i < this.fieldNames.length; i++) {
        const leftValue = left.values[i];
        const rightValue = right.values[i];
        const result = DatabaseValueModel.compare(leftValue, rightValue, this.options.collation);
        if (result !== 0) return result;
      }
      return left.pointer.compare(right.pointer);
    });
  }
  static deserialize(bytes) {
    const reader = new BufferReader(bytes);
    const collation = reader.readJson();
    const fieldCount = reader.readUint8();
    const fieldNames = [];
    for (let i = 0; i < fieldCount; i++) {
      const fieldName = reader.readString();
      fieldNames.push(fieldName);
    }
    const index = new _DatabaseDictionaryIndexModel(fieldNames, {
      collation
    });
    const entryCount = reader.readUint32();
    for (let i = 0; i < entryCount; i++) {
      const values = [];
      for (let j = 0; j < fieldCount; j++) {
        const fieldValue = DatabaseValueModel.read(reader);
        values.push(fieldValue);
      }
      const pointer = DatabaseItemPointerModel.read(reader);
      index.entries.push({ values, pointer });
    }
    return index;
  }
  serialize() {
    const writer = new BufferWriter();
    writer.writeJson(this.options.collation);
    writer.writeUint8(this.fieldNames.length);
    for (const fieldName of this.fieldNames) {
      writer.writeString(fieldName);
    }
    this.sortEntries();
    writer.writeUint32(this.entries.length);
    for (const entry of this.entries) {
      const { values, pointer } = entry;
      for (const value of values) {
        DatabaseValueModel.write(writer, value);
      }
      pointer.write(writer);
    }
    return writer.subarray();
  }
  addItem(item, pointer) {
    const values = this.fieldNames.map((fieldName) => {
      return item.getField(fieldName) ?? null;
    });
    this.entries.push({ values, pointer });
  }
};

// src/code-generation/components/cms/bundled/fetchWithRetries.ts
var maxRetries = 3;
var baseDelay = 250;
var retriableHTTPCodes = [
  408,
  // Request Timeout
  429,
  // Too Many Requests
  500,
  // Internal Server Error
  502,
  // Bad Gateway
  503,
  // Service Unavailable
  504
  // Gateway Timeout
];
var fetchWithRetries = async (input, init) => {
  let retryCount = 0;
  while (true) {
    try {
      const res = await fetch(input, init);
      if (!retriableHTTPCodes.includes(res.status) || ++retryCount > maxRetries) {
        return res;
      }
    } catch (error) {
      if (init?.signal?.aborted || ++retryCount > maxRetries) {
        throw error;
      }
    }
    await retryDelay(retryCount);
  }
};
async function retryDelay(retryCount) {
  const backoffExponent = retryCount - 1;
  const jitter = Math.random() + 1;
  const timeout = Math.floor(baseDelay * jitter * 2 ** backoffExponent);
  await new Promise((resolve) => {
    setTimeout(resolve, timeout);
  });
}

// src/code-generation/components/cms/bundled/rangeRequest.ts
async function rangeRequest(url, ranges) {
  const collapsedRanges = collapseRanges(ranges);
  const rangeStrings = [];
  let expectedLength = 0;
  for (const range of collapsedRanges) {
    rangeStrings.push(\`\${range.from}-\${range.to - 1}\`);
    expectedLength += range.to - range.from;
  }
  const rangeUrl = new URL(url);
  const rangeQuery = rangeStrings.join(",");
  rangeUrl.searchParams.set("range", rangeQuery);
  const response = await fetchWithRetries(rangeUrl);
  if (response.status !== 200) {
    throw new Error(\`Request failed: \${response.status} \${response.statusText}\`);
  }
  const buffer = await response.arrayBuffer();
  const bytes = new Uint8Array(buffer);
  if (bytes.length !== expectedLength) {
    throw new Error("Request failed: Unexpected response length");
  }
  const file = new PartialFile();
  let start = 0;
  for (const range of collapsedRanges) {
    const length = range.to - range.from;
    const end = start + length;
    const part = bytes.subarray(start, end);
    file.write(range.from, part);
    start = end;
  }
  return ranges.map((range) => {
    return file.read(range.from, range.to - range.from);
  });
}
var PartialFile = class {
  constructor() {
    __publicField(this, "chunks", []);
  }
  read(position, length) {
    for (const chunk of this.chunks) {
      if (position < chunk.start) {
        throw new Error("Missing data");
      }
      if (position > chunk.end) {
        continue;
      }
      if (position + length > chunk.end) {
        throw new Error("Missing data");
      }
      const from = position - chunk.start;
      const to = from + length;
      return chunk.data.slice(from, to);
    }
    throw new Error("Missing data");
  }
  write(position, data) {
    let start = position;
    let end = start + data.length;
    let fromIndex = 0;
    let toIndex = this.chunks.length;
    for (; fromIndex < toIndex; fromIndex++) {
      const chunk2 = this.chunks[fromIndex];
      assert(chunk2, "Missing chunk");
      if (start > chunk2.end) {
        continue;
      }
      if (start > chunk2.start) {
        const offset = start - chunk2.start;
        const prefix = chunk2.data.subarray(0, offset);
        data = join(prefix, data);
        start = chunk2.start;
      }
      break;
    }
    for (; toIndex > fromIndex; toIndex--) {
      const chunk2 = this.chunks[toIndex - 1];
      assert(chunk2, "Missing chunk");
      if (end < chunk2.start) {
        continue;
      }
      if (end < chunk2.end) {
        const offset = end - chunk2.start;
        const suffix = chunk2.data.subarray(offset);
        data = join(data, suffix);
        end = chunk2.end;
      }
      break;
    }
    const chunk = {
      start,
      end,
      data
    };
    const deleteCount = toIndex - fromIndex;
    this.chunks.splice(fromIndex, deleteCount, chunk);
  }
};
function join(left, right) {
  const length = left.length + right.length;
  const result = new Uint8Array(length);
  result.set(left, 0);
  result.set(right, left.length);
  return result;
}
function collapseRanges(ranges) {
  assert(ranges.length > 0, "Must have at least one range");
  const sorted = [...ranges].sort((a, b) => a.from - b.from);
  const collapsed = [];
  for (const range of sorted) {
    const index = collapsed.length - 1;
    const previous = collapsed[index];
    if (previous && range.from <= previous.to) {
      collapsed[index] = {
        from: previous.from,
        to: Math.max(previous.to, range.to)
      };
    } else {
      collapsed.push(range);
    }
  }
  return collapsed;
}

// src/code-generation/components/cms/bundled/DatabaseDictionaryIndex.ts
var DatabaseDictionaryIndex = class {
  constructor(options) {
    this.options = options;
    __publicField(this, "schema");
    __publicField(this, "fields");
    __publicField(this, "supportedLookupTypes", [
      "All" /* All */,
      "Equals" /* Equals */,
      "NotEquals" /* NotEquals */,
      "LessThan" /* LessThan */,
      "GreaterThan" /* GreaterThan */,
      "Contains" /* Contains */,
      "StartsWith" /* StartsWith */,
      "EndsWith" /* EndsWith */
    ]);
    __publicField(this, "modelPromise");
    __publicField(this, "model");
    __publicField(this, "collation");
    const schema = {};
    const fields = [];
    for (const fieldName of this.options.fieldNames) {
      const definition = this.options.collectionSchema[fieldName];
      assert(definition, "Missing definition for field", fieldName);
      schema[fieldName] = definition;
      fields.push({ type: "Identifier", name: fieldName });
    }
    this.schema = schema;
    this.fields = fields;
    this.collation = this.options.collation;
  }
  async loadModel() {
    const [bytes] = await rangeRequest(this.options.url, [this.options.range]);
    assert(bytes, "Failed to load model");
    return DatabaseDictionaryIndexModel.deserialize(bytes);
  }
  async getModel() {
    this.modelPromise ??= this.loadModel();
    this.model ??= await this.modelPromise;
    return this.model;
  }
  async lookupItems(queries) {
    assert(queries.length === this.fields.length, "Invalid query length");
    const model = await this.getModel();
    const chunks = queries.reduce(
      (memo, query, position) => memo.flatMap((entries) => {
        switch (query.type) {
          case "All" /* All */:
            return [entries];
          case "Equals" /* Equals */:
            return this.queryEquals(entries, query, position);
          case "NotEquals" /* NotEquals */:
            return this.queryNotEquals(entries, query, position);
          case "LessThan" /* LessThan */:
            return this.queryLessThan(entries, query, position);
          case "GreaterThan" /* GreaterThan */:
            return this.queryGreaterThan(entries, query, position);
          case "Contains" /* Contains */:
            return this.queryContains(entries, query, position);
          case "StartsWith" /* StartsWith */:
            return this.queryStartsWith(entries, query, position);
          case "EndsWith" /* EndsWith */:
            return this.queryEndsWith(entries, query, position);
          default:
            assertNever(query);
        }
      }),
      [model.entries]
    );
    const result = [];
    for (const entries of chunks) {
      for (const entry of entries) {
        const data = {};
        for (let i = 0; i < this.options.fieldNames.length; i++) {
          const fieldName = this.options.fieldNames[i];
          const fieldValue = entry.values[i];
          data[fieldName] = fieldValue;
        }
        result.push({ pointer: entry.pointer.toString(), data });
      }
    }
    return result;
  }
  queryEquals(entries, query, position) {
    const leftMost = this.getLeftMost(entries, position, query.value);
    const rightMost = this.getRightMost(entries, position, query.value);
    const slice = entries.slice(leftMost, rightMost + 1);
    return slice.length > 0 ? [slice] : [];
  }
  queryNotEquals(entries, query, position) {
    const leftMost = this.getLeftMost(entries, position, query.value);
    const rightMost = this.getRightMost(entries, position, query.value);
    const result = [];
    const before = entries.slice(0, leftMost);
    if (before.length > 0) result.push(before);
    const after = entries.slice(rightMost + 1);
    if (after.length > 0) result.push(after);
    return result;
  }
  queryLessThan(entries, query, position) {
    const nullBound = this.getRightMost(entries, position, null);
    entries = entries.slice(nullBound + 1);
    if (query.inclusive) {
      const rightMost = this.getRightMost(entries, position, query.value);
      const slice2 = entries.slice(0, rightMost + 1);
      return slice2.length > 0 ? [slice2] : [];
    }
    const leftMost = this.getLeftMost(entries, position, query.value);
    const slice = entries.slice(0, leftMost);
    return slice.length > 0 ? [slice] : [];
  }
  queryGreaterThan(entries, query, position) {
    const nullBound = this.getRightMost(entries, position, null);
    entries = entries.slice(nullBound + 1);
    if (query.inclusive) {
      const leftMost = this.getLeftMost(entries, position, query.value);
      const slice2 = entries.slice(leftMost);
      return slice2.length > 0 ? [slice2] : [];
    }
    const rightMost = this.getRightMost(entries, position, query.value);
    const slice = entries.slice(rightMost + 1);
    return slice.length > 0 ? [slice] : [];
  }
  queryContains(entries, query, position) {
    return this.findItems(entries, position, (current) => {
      if (current?.type !== ControlType2.String) return false;
      if (query.value?.type !== ControlType2.String) return false;
      let source = current.value;
      let target = query.value.value;
      if (this.collation.type === 0 /* CaseInsensitive */) {
        source = source.toLowerCase();
        target = target.toLowerCase();
      }
      return source.includes(target);
    });
  }
  queryStartsWith(entries, query, position) {
    return this.findItems(entries, position, (current) => {
      if (current?.type !== ControlType2.String) return false;
      if (query.value?.type !== ControlType2.String) return false;
      let source = current.value;
      let target = query.value.value;
      if (this.collation.type === 0 /* CaseInsensitive */) {
        source = source.toLowerCase();
        target = target.toLowerCase();
      }
      return source.startsWith(target);
    });
  }
  queryEndsWith(entries, query, position) {
    return this.findItems(entries, position, (current) => {
      if (current?.type !== ControlType2.String) return false;
      if (query.value?.type !== ControlType2.String) return false;
      let source = current.value;
      let target = query.value.value;
      if (this.collation.type === 0 /* CaseInsensitive */) {
        source = source.toLowerCase();
        target = target.toLowerCase();
      }
      return source.endsWith(target);
    });
  }
  /**
   * Returns the index of the left most entry that is equal to the target.
   *
   * \`\`\`text
   *   Left most
   *       \u2193
   * \u250C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2510
   * \u2502 1 \u2502 2 \u2502 2 \u2502 2 \u2502 2 \u2502 3 \u2502
   * \u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518
   * \`\`\`
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param target The target value to search for.
   * @returns The index of the left most entry that is equal to the target.
   */
  getLeftMost(entries, position, target) {
    let left = 0;
    let right = entries.length;
    while (left < right) {
      const middle = left + right >> 1;
      const entry = entries[middle];
      const value = entry.values[position];
      if (DatabaseValueModel.compare(value, target, this.collation) < 0) {
        left = middle + 1;
      } else {
        right = middle;
      }
    }
    return left;
  }
  /**
   * Returns the index of the right most entry that is equal to the target.
   *
   * \`\`\`text
   *              Right most
   *                   \u2193
   * \u250C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2510
   * \u2502 1 \u2502 2 \u2502 2 \u2502 2 \u2502 2 \u2502 3 \u2502
   * \u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518
   * \`\`\`
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param target The target value to search for.
   * @returns The index of the right most entry that is equal to the target.
   */
  getRightMost(entries, position, target) {
    let left = 0;
    let right = entries.length;
    while (left < right) {
      const middle = left + right >> 1;
      const entry = entries[middle];
      const value = entry.values[position];
      if (DatabaseValueModel.compare(value, target, this.collation) > 0) {
        right = middle;
      } else {
        left = middle + 1;
      }
    }
    return right - 1;
  }
  /**
   * Finds all items that are matching the predicate and groups adjacent items together.
   *
   * @param entries The entries array to search in.
   * @param position The position of the value in the entry.
   * @param predicate The predicate to match the values against.
   * @returns An array of chunks that match the predicate.
   */
  findItems(entries, position, predicate) {
    const result = [];
    let start = 0;
    for (let i = 0; i < entries.length; i++) {
      const entry = entries[i];
      const value = entry.values[position];
      const isMatching = predicate(value);
      if (isMatching) continue;
      if (start < i) {
        const slice = entries.slice(start, i);
        result.push(slice);
      }
      start = i + 1;
    }
    if (start < entries.length) {
      const slice = entries.slice(start);
      result.push(slice);
    }
    return result;
  }
};

// src/code-generation/components/cms/bundled/models/DatabaseItemModel.ts
var DatabaseItemModel = class _DatabaseItemModel {
  constructor() {
    __publicField(this, "fields", /* @__PURE__ */ new Map());
  }
  static read(reader) {
    const item = new _DatabaseItemModel();
    const fieldCount = reader.readUint16();
    for (let i = 0; i < fieldCount; i++) {
      const key = reader.readString();
      const value = DatabaseValueModel.read(reader);
      item.setField(key, value);
    }
    return item;
  }
  write(writer) {
    writer.writeUint16(this.fields.size);
    for (const [key, value] of this.fields) {
      writer.writeString(key);
      DatabaseValueModel.write(writer, value);
    }
  }
  getData() {
    const data = {};
    for (const [key, value] of this.fields) {
      data[key] = value;
    }
    return data;
  }
  setField(key, value) {
    this.fields.set(key, value);
  }
  getField(key) {
    return this.fields.get(key);
  }
};

// src/code-generation/components/cms/bundled/DatabaseCollection.ts?bundle
var DatabaseChunk = class {
  constructor(id, url) {
    this.id = id;
    this.url = url;
    __publicField(this, "itemsPromise");
    __publicField(this, "itemLoader", new import_dataloader.default(async (pointers) => {
      const ranges = pointers.map((pointer) => {
        const pointerModel = DatabaseItemPointerModel.fromString(pointer);
        return { from: pointerModel.offset, to: pointerModel.offset + pointerModel.length };
      });
      const rangeBytes = await rangeRequest(this.url, ranges);
      return rangeBytes.map((bytes, index) => {
        const reader = new BufferReader(bytes);
        const itemModel = DatabaseItemModel.read(reader);
        const pointer = pointers[index];
        assert(pointer, "Missing pointer");
        return {
          pointer,
          data: itemModel.getData()
        };
      });
    }));
  }
  scanItems() {
    this.itemsPromise ??= fetchWithRetries(this.url).then(async (response) => {
      if (!response.ok) {
        throw new Error(\`Request failed: \${response.status} \${response.statusText}\`);
      }
      const buffer = await response.arrayBuffer();
      const bytes = new Uint8Array(buffer);
      const reader = new BufferReader(bytes);
      const items = [];
      const itemCount = reader.readUint32();
      for (let i = 0; i < itemCount; i++) {
        const offset = reader.getOffset();
        const itemModel = DatabaseItemModel.read(reader);
        const length = reader.getOffset() - offset;
        const pointerModel = new DatabaseItemPointerModel(this.id, offset, length);
        const pointer = pointerModel.toString();
        const item = {
          pointer,
          data: itemModel.getData()
        };
        this.itemLoader.prime(pointer, item);
        items.push(item);
      }
      return items;
    });
    return this.itemsPromise;
  }
  resolveItem(pointer) {
    return this.itemLoader.load(pointer);
  }
};
var DatabaseCollection = class {
  constructor(options) {
    this.options = options;
    __publicField(this, "schema");
    __publicField(this, "indexes");
    __publicField(this, "resolveRichText");
    __publicField(this, "resolveVectorSetItem");
    __publicField(this, "chunks");
    this.chunks = this.options.chunks.map((url, id) => {
      return new DatabaseChunk(id, url);
    });
    this.schema = options.schema;
    this.indexes = options.indexes;
    this.resolveRichText = options.resolveRichText;
    this.resolveVectorSetItem = options.resolveVectorSetItem;
  }
  async scanItems() {
    const chunkedItems = await Promise.all(
      this.chunks.map(async (chunk) => {
        return chunk.scanItems();
      })
    );
    return chunkedItems.flat();
  }
  async resolveItems(pointers) {
    return Promise.all(
      pointers.map((pointer) => {
        const pointerModel = DatabaseItemPointerModel.fromString(pointer);
        const chunk = this.chunks[pointerModel.chunkId];
        assert(chunk, "Missing chunk");
        return chunk.resolveItem(pointer);
      })
    );
  }
  compareItems(left, right) {
    const leftModel = DatabaseItemPointerModel.fromString(left.pointer);
    const rightModel = DatabaseItemPointerModel.fromString(right.pointer);
    return leftModel.compare(rightModel);
  }
  compareValues(left, right, collation) {
    return DatabaseValueModel.compare(left, right, collation);
  }
};
export {
  DatabaseCollection,
  DatabaseDictionaryIndex
};
`;var bC=`var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

// src/code-generation/components/cms/bundled/DraftDatabaseCollection.ts?bundle
import { ControlType } from "framer";

// src/utils/typeChecks.ts
function isString(value) {
  return typeof value === "string";
}
function isNumber(value) {
  return Number.isFinite(value);
}

// src/code-generation/components/cms/bundled/assert.ts
function assert(condition, ...msg) {
  if (condition) return;
  throw Error("Assertion Error" + (msg.length > 0 ? ": " + msg.join(" ") : ""));
}

// src/code-generation/components/cms/bundled/DraftDatabaseCollection.ts?bundle
var DraftDatabaseCollection = class {
  constructor(draftCollection, originalCollection, previousItemId, nextItemId) {
    this.draftCollection = draftCollection;
    this.originalCollection = originalCollection;
    this.previousItemId = previousItemId;
    this.nextItemId = nextItemId;
    __publicField(this, "schema");
    // We cannot use the original indexes because the draft items
    // are not in the original collection.
    // Having no indexes means that we perform a full collection scan for every query.
    __publicField(this, "indexes", []);
    __publicField(this, "itemsPromise");
    this.schema = originalCollection.schema;
    this.itemsPromise = this.getItems();
  }
  async getItems() {
    const [[...draftItems], [...originalItems]] = await Promise.all([
      this.draftCollection.scanItems(),
      this.originalCollection.scanItems()
    ]);
    const lastDraftItem = draftItems.pop();
    const firstOriginalItem = originalItems.shift();
    if (lastDraftItem) {
      draftItems.push({
        ...lastDraftItem,
        data: {
          ...lastDraftItem.data,
          [this.nextItemId]: firstOriginalItem?.data.id ?? null
        }
      });
    }
    if (firstOriginalItem) {
      originalItems.unshift({
        ...firstOriginalItem,
        data: {
          ...firstOriginalItem.data,
          [this.previousItemId]: lastDraftItem?.data.id ?? null
        }
      });
    }
    return draftItems.map(draftItem).concat(...originalItems);
  }
  /**
   * Get all items, updating pointers for draft items.
   */
  async scanItems() {
    return this.itemsPromise;
  }
  /**
   * Depending on the pointer, resolve draft rich text from the draft
   * collection, and original rich text from the original collection.
   */
  async resolveRichText(pointer) {
    if (isDraftRichTextPointer(pointer)) {
      const originalPointer = undraftRichTextPointer(pointer);
      return this.draftCollection.resolveRichText(originalPointer);
    }
    return this.originalCollection.resolveRichText(pointer);
  }
  async resolveVectorSetItem(pointer) {
    if (isDraftVectorSetItemPointer(pointer)) {
      const originalPointer = undraftVectorSetItemPointer(pointer);
      return this.draftCollection.resolveVectorSetItem?.(originalPointer);
    }
    return this.originalCollection.resolveVectorSetItem?.(pointer);
  }
  async resolveItems(pointers) {
    const items = await this.itemsPromise;
    return pointers.map((pointer) => {
      const item = items.find((current) => current.pointer === pointer);
      assert(item, "Item must exist");
      return item;
    });
  }
  /**
   * Compare two items, the draft items should come first.
   */
  compareItems(left, right) {
    const leftIsDraft = isDraftPointer(left.pointer);
    const rightIsDraft = isDraftPointer(right.pointer);
    if (leftIsDraft && rightIsDraft) {
      const originalLeft = undraftItem(left);
      const originalRight = undraftItem(right);
      return this.draftCollection.compareItems(originalLeft, originalRight);
    }
    if (leftIsDraft) return -1;
    if (rightIsDraft) return 1;
    return this.originalCollection.compareItems(left, right);
  }
};
var draftPrefix = "draft:";
function isDraftPointer(pointer) {
  return pointer.startsWith(draftPrefix);
}
function draftPointer(pointer) {
  assert(!isDraftPointer(pointer), "Should be a non-draft pointer");
  return draftPrefix + pointer;
}
function undraftPointer(pointer) {
  assert(isDraftPointer(pointer), "Should be a draft pointer");
  return pointer.slice(draftPrefix.length);
}
function isDraftRichTextPointer(pointer) {
  if (isNumber(pointer)) {
    return pointer < 0;
  }
  if (isString(pointer)) {
    return pointer.startsWith(draftPrefix);
  }
  throw new Error("Invalid rich text pointer");
}
function draftRichTextPointer(pointer) {
  assert(!isDraftRichTextPointer(pointer), "Should be a non-draft rich text pointer");
  if (isNumber(pointer)) {
    return -pointer - 1;
  }
  if (isString(pointer)) {
    return draftPrefix + pointer;
  }
  throw new Error("Invalid rich text pointer");
}
function undraftRichTextPointer(pointer) {
  assert(isDraftRichTextPointer(pointer), "Should be a draft rich text pointer");
  if (isNumber(pointer)) {
    return -pointer - 1;
  }
  if (isString(pointer)) {
    return pointer.slice(draftPrefix.length);
  }
  throw new Error("Invalid rich text pointer");
}
function isDraftVectorSetItemPointer(pointer) {
  assert(isNumber(pointer), "Invalid vector set item pointer");
  return pointer < 0;
}
function draftVectorSetItemPointer(pointer) {
  assert(isNumber(pointer), "Invalid vector set item pointer");
  assert(!isDraftVectorSetItemPointer(pointer), "Should be a non-draft vector set item pointer");
  return -pointer - 1;
}
function undraftVectorSetItemPointer(pointer) {
  assert(isNumber(pointer), "Invalid vector set item pointer");
  assert(isDraftVectorSetItemPointer(pointer), "Should be a draft vector set item pointer");
  return -pointer - 1;
}
function draftItem(item) {
  const data = {};
  for (const [key, value] of Object.entries(item.data)) {
    if (value?.type === ControlType.RichText) {
      data[key] = {
        type: ControlType.RichText,
        value: draftRichTextPointer(value.value)
      };
    } else if (value?.type === ControlType.VectorSetItem) {
      data[key] = {
        type: ControlType.VectorSetItem,
        value: draftVectorSetItemPointer(value.value)
      };
    } else {
      data[key] = value;
    }
  }
  return {
    pointer: draftPointer(item.pointer),
    data
  };
}
function undraftItem(item) {
  const data = {};
  for (const [key, value] of Object.entries(item.data)) {
    if (value?.type === ControlType.RichText) {
      data[key] = {
        type: ControlType.RichText,
        value: undraftRichTextPointer(value.value)
      };
    } else if (value?.type === ControlType.VectorSetItem) {
      data[key] = {
        type: ControlType.VectorSetItem,
        value: undraftVectorSetItemPointer(value.value)
      };
    } else {
      data[key] = value;
    }
  }
  return {
    pointer: undraftPointer(item.pointer),
    data
  };
}
export {
  DraftDatabaseCollection
};
`;var Xn=class e{constructor(t,r,o){this.chunkId=t;this.offset=r;this.length=o}static fromString(t){let[r,o,n]=t.split("/").map(Number);return Be(G(r),"Invalid chunkId"),Be(G(o),"Invalid offset"),Be(G(n),"Invalid length"),new e(r,o,n)}toString(){return`${this.chunkId}/${this.offset}/${this.length}`}static read(t){let r=t.readUint16(),o=t.readUint32(),n=t.readUint32();return new e(r,o,n)}write(t){t.writeUint16(this.chunkId),t.writeUint32(this.offset),t.writeUint32(this.length)}compare(t){return this.chunkId<t.chunkId?-1:this.chunkId>t.chunkId?1:this.offset<t.offset?-1:this.offset>t.offset?1:(Be(this.length===t.length),0)}};function sd(e){if(nt(e))return 0;switch(e.type){case"array":return 1;case"boolean":return 2;case"color":return 3;case"date":return 4;case"enum":return 5;case"file":return 6;case"responsiveimage":return 10;case"link":return 7;case"number":return 8;case"object":return 9;case"richtext":return 11;case"string":return 12;case"vectorsetitem":return 13;default:Fi(e)}}var Gt;(o=>{function e(n){let i=n.readUint8();switch(i){case 0:return null;case 1:return cx(n);case 2:return mx(n);case 3:return hx(n);case 4:return Sx(n);case 5:return bx(n);case 6:return Nx(n);case 7:return Rx(n);case 8:return Dx(n);case 9:return Fx(n);case 10:return Ax(n);case 11:return zx(n);case 12:return Hx(n);case 13:return jx(n);default:Fi(i)}}o.read=e;function t(n,i){let a=sd(i);if(n.writeUint8(a),!nt(i))switch(i.type){case"array":return dx(n,i);case"boolean":return px(n,i);case"color":return gx(n,i);case"date":return Cx(n,i);case"enum":return Ix(n,i);case"file":return xx(n,i);case"link":return Mx(n,i);case"number":return kx(n,i);case"object":return Lx(n,i);case"responsiveimage":return Bx(n,i);case"richtext":return Wx(n,i);case"vectorsetitem":return _x(n,i);case"string":return Gx(n,i);default:Fi(i)}}o.write=t;function r(n,i,a){let s=sd(n),l=sd(i);if(s<l)return-1;if(s>l)return 1;if(nt(n)||nt(i))return 0;switch(n.type){case"array":return Be(i.type==="array"),ux(n,i,a);case"boolean":return Be(i.type==="boolean"),fx(n,i);case"color":return Be(i.type==="color"),yx(n,i);case"date":return Be(i.type==="date"),vx(n,i);case"enum":return Be(i.type==="enum"),Tx(n,i);case"file":return Be(i.type==="file"),wx(n,i);case"link":return Be(i.type==="link"),Vx(n,i);case"number":return Be(i.type==="number"),Px(n,i);case"object":return Be(i.type==="object"),Ex(n,i,a);case"responsiveimage":return Be(i.type==="responsiveimage"),Ox(n,i);case"richtext":return Be(i.type==="richtext"),$x(n,i);case"vectorsetitem":return Be(i.type==="vectorsetitem"),Jx(n,i);case"string":return Be(i.type==="string"),Ux(n,i,a);default:Fi(n)}}o.compare=r})(Gt||={});function cx(e){let t=e.readUint16(),r=[];for(let o=0;o<t;o++){let n=Gt.read(e);r.push(n)}return{type:"array",value:r}}function dx(e,t){e.writeUint16(t.value.length);for(let r of t.value)Gt.write(e,r)}function ux(e,t,r){let o=e.value.length,n=t.value.length;if(o<n)return-1;if(o>n)return 1;for(let i=0;i<o;i++){let a=e.value[i],s=t.value[i],l=Gt.compare(a,s,r);if(l!==0)return l}return 0}function mx(e){return{type:"boolean",value:e.readUint8()!==0}}function px(e,t){e.writeUint8(t.value?1:0)}function fx(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function hx(e){return{type:"color",value:e.readString()}}function gx(e,t){e.writeString(t.value)}function yx(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function Sx(e){let t=e.readInt64(),r=new Date(t);return{type:"date",value:r.toISOString()}}function Cx(e,t){let o=new Date(t.value).getTime();e.writeInt64(o)}function vx(e,t){let r=new Date(e.value),o=new Date(t.value);return r<o?-1:r>o?1:0}function bx(e){return{type:"enum",value:e.readString()}}function Ix(e,t){e.writeString(t.value)}function Tx(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function Nx(e){return{type:"file",value:e.readString()}}function xx(e,t){e.writeString(t.value)}function wx(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function Rx(e){return{type:"link",value:e.readJson()}}function Mx(e,t){e.writeJson(t.value)}function Vx(e,t){let r=JSON.stringify(e.value),o=JSON.stringify(t.value);return r<o?-1:r>o?1:0}function Dx(e){return{type:"number",value:e.readFloat64()}}function kx(e,t){e.writeFloat64(t.value)}function Px(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function Fx(e){let t=e.readUint16(),r={};for(let o=0;o<t;o++){let n=e.readString();r[n]=Gt.read(e)}return{type:"object",value:r}}function Lx(e,t){let r=Object.entries(t.value);e.writeUint16(r.length);for(let[o,n]of r)e.writeString(o),Gt.write(e,n)}function Ex(e,t,r){let o=Object.keys(e.value).sort(),n=Object.keys(t.value).sort();if(o.length<n.length)return-1;if(o.length>n.length)return 1;for(let i=0;i<o.length;i++){let a=o[i],s=n[i];if(a<s)return-1;if(a>s)return 1;let l=e.value[a]??null,c=t.value[s]??null,m=Gt.compare(l,c,r);if(m!==0)return m}return 0}function Ax(e){return{type:"responsiveimage",value:e.readJson()}}function Bx(e,t){e.writeJson(t.value)}function Ox(e,t){let r=JSON.stringify(e.value),o=JSON.stringify(t.value);return r<o?-1:r>o?1:0}function zx(e){let t=e.readInt8();if(t===0)return{type:"richtext",value:e.readUint32()};if(t===1)return{type:"richtext",value:e.readString()};throw new Error("Invalid rich text pointer")}function Wx(e,t){if(G(t.value)){e.writeInt8(0),e.writeUint32(t.value);return}if(A(t.value)){e.writeInt8(1),e.writeString(t.value);return}throw new Error("Invalid rich text pointer")}function $x(e,t){let r=e.value,o=t.value;if(G(r)&&G(o)||A(r)&&A(o))return r<o?-1:r>o?1:0;throw new Error("Invalid rich text pointer")}function Hx(e){return{type:"string",value:e.readString()}}function Gx(e,t){e.writeString(t.value)}function Ux(e,t,r){let o=e.value,n=t.value;return r.type===0&&(o=e.value.toLowerCase(),n=t.value.toLowerCase()),o<n?-1:o>n?1:0}function jx(e){return{type:"vectorsetitem",value:e.readUint32()}}function _x(e,t){e.writeUint32(t.value)}function Jx(e,t){let r=e.value,o=t.value;return r<o?-1:r>o?1:0}var Lr=class e{constructor(t,r){this.fieldNames=t;this.options=r;w(this,"entries",[])}sortEntries(){this.entries.sort((t,r)=>{for(let o=0;o<this.fieldNames.length;o++){let n=t.values[o],i=r.values[o],a=Gt.compare(n,i,this.options.collation);if(a!==0)return a}return t.pointer.compare(r.pointer)})}static deserialize(t){let r=new Gs(t),o=r.readJson(),n=r.readUint8(),i=[];for(let l=0;l<n;l++){let c=r.readString();i.push(c)}let a=new e(i,{collation:o}),s=r.readUint32();for(let l=0;l<s;l++){let c=[];for(let d=0;d<n;d++){let p=Gt.read(r);c.push(p)}let m=Xn.read(r);a.entries.push({values:c,pointer:m})}return a}serialize(){let t=new Yo;t.writeJson(this.options.collation),t.writeUint8(this.fieldNames.length);for(let r of this.fieldNames)t.writeString(r);this.sortEntries(),t.writeUint32(this.entries.length);for(let r of this.entries){let{values:o,pointer:n}=r;for(let i of o)Gt.write(t,i);n.write(t)}return t.subarray()}addItem(t,r){let o=this.fieldNames.map(n=>t.getField(n)??null);this.entries.push({values:o,pointer:r})}};var Us=class e{constructor(){w(this,"fields",new Map)}static read(t){let r=new e,o=t.readUint16();for(let n=0;n<o;n++){let i=t.readString(),a=Gt.read(t);r.setField(i,a)}return r}write(t){t.writeUint16(this.fields.size);for(let[r,o]of this.fields)t.writeString(r),Gt.write(t,o)}getData(){let t={};for(let[r,o]of this.fields)t[r]=o;return t}setField(t,r){this.fields.set(t,r)}getField(t){return this.fields.get(t)}};function ld(e){return u`${e}.replace("/modules/", "/cms/")`}var qx=fe("serializeDatabase"),cd=4*1024*1024,Kx=5e3;async function IC(e,t,r,o,n,i,a,s,l,c,m,d){let p=new $s(e,t,i,o,l,c,a,s),f=e.getPropertyControls(t.tree),h=Object.entries(f),y=mm(t.tree,{includeDrafts:!0}),b={[Xr]:{type:qo("string",i),isNullable:!1},[ac]:{type:qo("date",i),isNullable:!0},[sc]:{type:qo("date",i),isNullable:!0},[hi]:{type:qo("string",i),isNullable:!0},[gi]:{type:qo("string",i),isNullable:!0}};function S(Q){return qo(Q,i)}for(let[Q,de]of h){let me=Ry(de,S);me&&(b[Q]=me)}let I=c.dedupe("schema",new B(b,0)),T=Ny(e.variables),R=e.variables.find(lm),M=o.create(vC),L,F,j=d?!0:void 0,z=e.getSortedChildren().filter(Q=>Q.isDraft===j);if(d){let Q=Fe("collection",e.id);if(L=u`${i.addImport(`../${Q}`,{exportSpecifier:"default",importBinding:"originalCollection"})}.collectionByLocaleId`,z.length===0){let me={displayName:e.name??"Unknown",collectionByLocaleId:L};return u`${me}`}let de=o.create(bC);F=i.addImport(de.submoduleImport,{exportSpecifier:"DraftDatabaseCollection"})}let ee=i.addImport(M.submoduleImport,{exportSpecifier:"DatabaseCollection"}),oe={};for(let Q of y){let K=function(){let te=new Yo;return te.writeUint32(0),te},Xe=function(te){let le=xe.subarray(0,te);Jn(le).setUint32(0,ie),E.push(le)};var D=K,ne=Xe;let de=[new Lr([Xr],{collation:{type:1}}),new Lr([hi],{collation:{type:1}}),new Lr([gi],{collation:{type:1}})];R&&de.push(new Lr([Xr,R.id],{collation:{type:1}}),new Lr([R.id,Xr],{collation:{type:1}}));for(let[te]of h)de.push(new Lr([te],{collation:{type:0}}));let me=new Hs,Ie=z.filter(te=>{let le=ay(t.tree,te);return le?le.includes(Q.id):!0}),Je=[];for(let te=0;te<Ie.length;te++){let le=Ie[te];g(le,"Node must exist");let We=new Us;We.setField(Xr,{type:"string",value:le.id});let dr=le.createdAt;dr&&We.setField(ac,{type:"date",value:new Date(dr).toISOString()});let ur=le.updatedAt;ur&&We.setField(sc,{type:"date",value:new Date(ur).toISOString()});let no=Ie[te-1];no&&We.setField(hi,{type:"string",value:no.id});let mr=Ie[te+1];mr&&We.setField(gi,{type:"string",value:mr.id});let Jt={resolveColor($e){return m.addColor($e)},resolveFile($e){return a.resolve($e)?.src},resolveImage($e,Mt){return a.resolveResponsiveImage($e,{focalPoint:Mt})},resolveLink($e){let Mt=s.create($e);if(!N(Mt)&&!It(Mt))return Mt},resolveRichTextPointer($e){return p.add($e)},resolveVectorSetItemPointer($e){return me.add($e)}};for(let[$e,Mt]of h){let zr=xy($e,Mt,T,f,le);if(N(zr))continue;let Eo=wy({control:Mt,controlProp:zr,resolvers:Jt,locale:Q});N(Eo)||We.setField($e,Eo)}Je.push(We)}let E=[],ie=0,xe=K();for(let te of Je){let le=xe.getOffset();te.write(xe),xe.getOffset()>cd&&(Xe(le),xe=K(),le=xe.getOffset(),ie=0,te.write(xe)),ie++;let We=xe.getOffset()-le,dr=new Xn(E.length,le,We);for(let ur of de)ur.addItem(te,dr)}xe.getOffset()>0&&Xe();let zt=i.addImport(M.submoduleImport,{exportSpecifier:"DatabaseDictionaryIndex"}),et=E.map((te,le)=>ld(n.create(`chunk-${Q.id}-${le}`,od,te)));E.reduce((te,le)=>te+le.length,0)<Kx&&(de.length=0);let Wt=[],cr=1/0;for(let te of de){let le=te.serialize();if(le.length>=cd){qx.warn("Skipping index:",le.length);continue}cr+le.length>cd&&(Wt.push([]),cr=0);let We=Wt.at(-1);g(We,"Chunk must exist"),We.push({model:te,bytes:le}),cr+=le.length}let br=[];for(let te=0;te<Wt.length;te++){let le=Wt[te];g(le,"Chunk must exist");let We=new Yo,dr=[];for(let{bytes:Jt}of le){let $e=We.getOffset();We.writeBytes(Jt);let Mt=We.getOffset();dr.push({from:$e,to:Mt})}let ur=We.subarray(),no=ld(n.create(`indexes-${Q.id}-${te}`,od,ur)),mr=le.map(({model:Jt},$e)=>{if(Jt instanceof Lr){let Mt=dr[$e];g(Mt,"Can't find range for index");let zr={url:no,range:Mt,fieldNames:c.dedupe("fieldNames",Jt.fieldNames),collation:c.dedupe("collation",Jt.options.collation),collectionSchema:I};return u`new ${zt}(${zr})`}throw new Error("Unsupported index type")});br.push(...mr)}let _t=me.serialize(r,c),ze={schema:I,chunks:et,indexes:br,resolveRichText:p.resolveRichTextBinding,resolveVectorSetItem:_t};if(L&&F){let te=u`new ${ee}(${ze})`,le=u`${L}[${Q.id}]`;oe[Q.id]=u`new ${F}(${te}, ${le}, ${hi}, ${gi})`}else oe[Q.id]=u`new ${ee}(${ze})`}p.serialize();let ve={displayName:e.name??"Unknown",collectionByLocaleId:oe};return u`${ve}`}var NC=wt(async(e,t,r)=>Promise.all([TC(e.id,t,!1),TC(e.id,t,!0)]));async function TC(e,t,r){let{modulesStore:o,treeStore:n,assetMap:i}=t,{tree:a}=n,s=r?"draftCollection":"collection",l=new To(i),c=new Ws(e),m=new Gg(s,o,e),d=a.getNodeWithTrait(e,it);g(d,"Must have a source node to serialize");let p=d.moduleSourceRevision,f=Og(d);await ks(f,o);let{module:h}=Ag(o,d);Ht("collection_update",{moduleId:h?.id,recordCount:d.getItemCount(),source:"unknown"});let y=Bg(d)?.id,b=new _r,S=new So(s,o,b),I=new ns(b),T=new Pn(d,S,b,void 0,n,o),R=new Ln,M=await IC(d,n,o,m,c,S,l,T,b,I,R,r),L=vo("",{framerRecordIdKey:Xr,framerSlug:y,framerEnumToDisplayNameUtils:"2",framerCollectionUtils:"1",framerCollectionId:d.id,framerColorSyntax:R.hasColorsOfType("wideGamut"),framerAutoSizeImages:!0,framerData:""}),F=b.create("data"),j=tw(d,F,t,{imports:S},s),z=Qx(S,I,F,Xr,y),ee=u.joinLines(...S.statements,...I.list(),L,u`const ${F} = ${M}`,u`export default ${F}`,j,...Yx(d.variables,a.root.locales),z);return{type:s,revision:p,source:ee,artifacts:{assets:new Set(l.keys),binaryAssets:c.assets,submodules:m.serialize(),metrics:{nodes:d.getItemCount()}}}}function Yx(e,t){let r=[],o=new B;for(let n of e){if(n.type!=="enum")continue;let i=new v(Ug(n.id));r.push(u`export const ${i} = ${gC(n,t,i)};`),o[n.id]=i}return r.push(u`export const ${new v(jg)} = ${o};`),r}function Qx(e,t,r,o,n){return u.joinLines(u`export const utils = {`,u`async getSlugByRecordId(id, locale) {`,n?Zx(e,t,r,o,n):void 0,u`},`,u`async getRecordIdBySlug(slug, locale) {`,n?ew(e,t,r,o,n):void 0,u`},`,u`}`)}function xC(e,t){let r=e.addImport("framer",{exportSpecifier:"QueryEngine"}),o=t.dedupe("queryEngine",u`new ${r}()`),n=e.addImport("framer",{exportSpecifier:"QueryCache"});return t.dedupe("queryCache",u`new ${n}(${o})`)}function Zx(e,t,r,o,n){let i=xC(e,t),a={from:{type:"Collection",data:r},select:[{type:"Identifier",name:n}],where:{type:"BinaryOperation",operator:"==",left:{type:"Identifier",name:o},right:{type:"LiteralValue",value:u`id`}},limit:{type:"LiteralValue",value:1}};return u.joinLines(u`const [item] = await ${i}.get(${a}, locale).readAsync()`,u`return item?.[${n}]`)}function ew(e,t,r,o,n){let i=xC(e,t),a={from:{type:"Collection",data:r},select:[{type:"Identifier",name:o}],where:{type:"BinaryOperation",operator:"==",left:{type:"Identifier",name:n},right:{type:"LiteralValue",value:u`slug`}},limit:{type:"LiteralValue",value:1}};return u.joinLines(u`const [item] = await ${i}.get(${a}, locale).readAsync()`,u`return item?.[${o}]`)}function tw(e,t,r,o,n){let i=Ty(e,r,o,n);if(N(i))return;let a=o.imports.addImport("framer",{exportSpecifier:"addPropertyControls"});return v.fn(a,t,i)}var wo=class{constructor(t){this.declarationCollector=t;w(this,"fontObjects",new Set);w(this,"fontReferences",new Map);w(this,"referencedComponentIdentifiers",new Set);w(this,"fontObjectsBySelector",new Map)}createDedupedVariationAxesBinding(t){return t.variationAxes?this.declarationCollector.dedupe("variationAxes",[...t.variationAxes]):void 0}addFontObjectBySelector(t,r){let o=this.fontObjectsBySelector.get(t);if(o){if(!r)return;let i=o[0];if(!i)return;if(Pa(i.source,r)&&!i.openType)for(let a of o)a.openType=!0;return}let n=Bo.getFontBySelector(t);if(!(!n||!n.file))if(n.subsets){let i=[];this.fontObjectsBySelector.set(t,i);for(let a of n.subsets){let s={url:a.file,uiFamilyName:n.family.name,cssFamilyName:n.cssFamilyName,style:n.style,weight:n.weight!==void 0?String(n.weight):void 0,source:n.family.source,unicodeRange:a.unicodeRange,variationAxes:this.createDedupedVariationAxesBinding(n),openType:Pa(n.family.source,r)};this.fontObjects.add(s),i.push(s)}}else{let i={url:n.file,uiFamilyName:n.family.name,cssFamilyName:n.cssFamilyName,style:n.style,weight:n.weight!==void 0?String(n.weight):void 0,source:n.family.source,variationAxes:this.createDedupedVariationAxesBinding(n),openType:Pa(n.family.source,r)};this.fontObjects.add(i),this.fontObjectsBySelector.set(t,[i])}}addFontReference({componentIdentifier:t,fontReference:r}){this.fontReferences.set(Y(r),r),this.referencedComponentIdentifiers.add(t)}};function qn(e,t,r,{pixelSize:o,repeaterInfo:n,context:i}){return Qa(t,r,{resolveAsset:(a,s,l,c)=>{let m,d=mn(s)?s.__defaultAssetReference:void 0;return a!==d&&(m=(c?i.assets.resolveResponsiveImage(a,{layerMaxSidePixelSize:o}):i.assets.resolve(a))?.src),!Va(l)||!i.localizedValues?m:i.localizedValues.add(m,l.valueLocalized,p=>{let f=l.valueLocalized?.[p]?.value;return ha(f)?void 0:f===d?u`undefined`:(c?i.assets.resolveResponsiveImage(a,{layerMaxSidePixelSize:o}):i.assets.resolve(a))?.src})},resolveResponsiveImage:(a,s,l)=>{let c,m,d,p;if(ya(s)&&ga(s.__vekterDefault)?(m=s.__vekterDefault.assetReference,d=s.__vekterDefault.positionX,p=s.__vekterDefault.positionY):mn(s)&&(m=s.__defaultAssetReference),(a!==m||l.positionX!==d||l.positionY!==p)&&(c=v.fromValue(i.assets.resolveResponsiveImage(a,{layerMaxSidePixelSize:o,focalPoint:l}))),i.localizedValues&&(c=i.localizedValues.add(c,l.valueLocalized,h=>{let y=l.valueLocalized?.[h];if(!Sa(y))return;if(y.value===m&&y.imageFocalPoint?.positionX===d&&y.imageFocalPoint?.positionY===p)return u`undefined`;let b=i.assets.resolveResponsiveImage(y.value,{layerMaxSidePixelSize:o,focalPoint:y.imageFocalPoint});return v.fromValue(b)})),!c)return;if(!i.valueTransforms)return c;let f=l.alt??Ya;return i.localizedValues&&(f=i.localizedValues.add(f,l.altLocalized,h=>l.altLocalized?.[h]?.value)),i.valueTransforms.wrapInAddImageAlt(c,v.fromValue(f))},resolveDynamicValue:(a,s)=>{let l;if(ue(a))g(i.variables,"Variables are not supported"),l=i.variables.create(a);else if(kt(a)){if(!i.valueTransforms)return;g(e.cache,"Node cache must be passed in when computed values can be created"),l=i.valueTransforms.createComputedValue(a,e,s)}else{return}if(!i.valueTransforms)return l;switch(s.type){case"image":return i.valueTransforms.wrapInToImageSrc(l);case"responsiveimage":return i.valueTransforms.wrapInToResponsiveImage(l);case"gap":case"padding":case"borderradius":return i.valueTransforms.wrapInNumberToPixelString(l);default:return l}},resolveLink:(a,s,l)=>{let c=Oo(s.value);if(hr(c)&&i.localizedValues){let m=s.valueLocalized;return i.localizedValues.add(c.url,m,d=>m?.[d]?.value)}if(kt(c)){if(!i.valueTransforms)return;g(e.cache,"Node cache must be passed in when computed values can be created");let m=i.valueTransforms.createComputedValue(c,e,l);return i.links.createResolvedBinding(e,m)}return i.links.resolve(e,c,n)},resolvePageScope:a=>i.links.resolvePageScope(Oo(a)),resolveLocalizedValue:(a,s)=>i.localizedValues?i.localizedValues.add(a,s,l=>s?.[l]?.value):a,compileRichText:(a,s)=>{let l=qr(a,{collectors:i,nodeId:e.originalid??e.id});return i.localizedValues?i.localizedValues.add(l,s,(c,m)=>{if(!s)return;let d=s[c];if(!d)return;let p=d.value;if(A(p))return qr(p,{collectors:{...i,...m},nodeId:e.originalid??e.id})}):l},resolveFont:a=>{if(!Fa(a))return{};let s=Cn(e);return i.fonts.addFontObjectBySelector(a.fontSelector,s),La(a)},resolveScrollSectionRef:(a,s)=>{if(!N(s)){if(ue(s))return i.variables?.create(s);if(A(s.target)){let l=i.elementIds?.scrollTargetInfo(s);if(l?.ref)return l.ref}}},resolveCustomCursor:(a,s)=>{if(!N(s))return ue(s)?i.variables?.create(s):i.customCursors?.addControl(a,e,s)},resolveVectorSetItem:(a,s)=>{if(!N(a))return i.vectorSets?.resolveControl(a,s,e)},resolveColor:a=>A(a)?i.cssVariableDefinitions?.resolveColor(a)??a:a})}function _s({componentName:e,fontObjects:t,fontReferences:r,imports:o,declarations:n,sharedFontArrays:i=[]}){return u.joinLines(...n.list(),v.fn(o.addImport("framer",{exportSpecifier:"addFonts"}),e,Li({fontObjects:t,fontReferences:r,sharedFontArrays:i}),{supportsExplicitInterCodegen:!0}))}function Li({fontObjects:e,fontReferences:t,sharedFontArrays:r=[]}){let o=[],n={explicitInter:!0,fonts:[]};for(let i of e){try{new URL(i.url)}catch{throw new Error(`Expected URL for font "${i.uiFamilyName}" to be a valid, absolute URL, but got: ${i.url}`)}n.fonts.push(i)}o.push(n);for(let i of t.values())o.push(u`...${i}`);for(let i of r)o.push(u`...${i}`);return o}var RC=wt(async(e,{assetMap:t,treeStore:r,modulesStore:o})=>{let n=new _r,i=new To(t),a=new So("componentPresets",o,n),s=new Pn(e,a,n,void 0,r,o),l=new ns(n),c=new os(e),m=new Ms(e,r,c,l,n,a,i),d=new Rs(n,c,m,i,s),p=e.moduleSourceRevision,f={},h={},y=e.getComponentPresets();await ks(y.map(I=>I.componentIdentifier),o);let b=new _r,S=new is(b);for(let I of y){let T=P.reactComponentForIdentifier(I.componentIdentifier);g(T,"Can't find react component for preset");let R=I.getFontsForCodeGeneration(P);await Bo.loadFonts(R);let M=new wo(S),L=Vm(yh(T,"onlyPresets"),I.getRawControlProps()),F=qn(I,T.properties,L,{pixelSize:void 0,repeaterInfo:void 0,context:{assets:i,imports:a,links:s,fonts:M,fetches:d}});f[I.id]=new B(F),(M.fontObjects.size>0||M.fontReferences.size>0)&&(h[I.id]=Li({fontObjects:M.fontObjects,fontReferences:M.fontReferences}))}return[{revision:p,type:"componentPresets",source:u.joinLines(...a.statements,u`export const props = ${f}`,...S.list(),u`export const fonts = ${h}`),artifacts:{assets:i.keys,metrics:{nodes:Object.keys(f).length}}}]});var rw=fe("CodeGenerationStore");function MC(e,t,r){return r.add(e),t[e]?.forEach(o=>{r.has(o)||MC(o,t,r)}),r}function ow(e,t){let r={};for(let{fromNode:o,toNode:n}of t){let i=r[o]??new Set;i.add(n),r[o]=i}return MC(e,r,new Set([e]))}var VC=wt(async(e,{treeStore:t,modulesStore:r})=>{let o=Y(`Prototype/${e.name||"Generated Prototype"}`),n=t.tree.get(e.homeNodeId);g(n,"Can't serialize",o,": home node must exist.");let i=t.tree.getRect(n),a=new So("prototype",r);a.addImport("react",{exportSpecifier:"*",importBinding:"React"}),a.addImport("framer-motion",{exportSpecifier:"LayoutGroup"}),a.addImport("framer",{exportSpecifier:"PageRoot"}),a.addImport("framer",{exportSpecifier:"useInitialRouteComponent"});let s={};for(let p of ow(n.id,t.treeIndex.getPrototypeScreenLinks(t.tree,e.id))){let h=`../${Fe("screen",p)}`;try{await Wn(P,[dt("screen",p,"default").value],r);let y=a.addImport(h,{exportSpecifier:"default",importBinding:"Screen",lazy:p!==e.homeNodeId});s[p]={page:y,path:p}}catch{rw.error("Missing module for prototype screen",{screenId:p})}}let l=Y(e.homeNodeId),c=Y(s),m=u`${a.addImport("react",{exportSpecifier:"*",importBinding:"React"})}.useId`,d=new v(re.sections(re.linesFrom(a.statements),`const routes = ${c}`,re.lines("function Prototype({ layoutId }: { layoutId?: string }): JSX.Element {",`  const InitialRouteComponent = useInitialRouteComponent(routes, "${e.homeNodeId}")`,`  const defaultLayoutId = ${v.fn(m)};`,"  if (!InitialRouteComponent) return null","  return (","    <LayoutGroup id={layoutId ?? defaultLayoutId} inherit={false}>",`      <PageRoot RootComponent={InitialRouteComponent} isWebsite={false} routeId={${l}} routes={routes} />`,"    </LayoutGroup>","  )","}"),re.lines(vo("This is a generated Framer component.",{framerIntrinsicHeight:i?.height,framerIntrinsicWidth:i?.width,framerSupportedLayoutWidth:"fixed",framerSupportedLayoutHeight:"fixed",framerPrototype:""}),"const Component: React.ComponentType<{}> = React.memo(Prototype)","export default Component;"),`Component.displayName = ${o};`));return[{type:"prototype",source:d,revision:void 0}]});var aO={url:"url"};function DC(e){return Du(e)&&e.actionIdentifier==="framer/useOpenURL"}function sO(e,t){let r={...e.controls,...t};return{...e,controls:r}}var nw=fe("EventCollector"),ud=Symbol("previous"),EC=u`pathVariables`,kC=u`navigate`,PC=u`setVariant`,Js=u`overlay`,dd=u`loadMore`,FC={onMouseEnter:{isHovered:!0},onMouseLeave:{isHovered:!1},onTapStart:{isPressed:!0},onTap:{isPressed:!1},onTapCancel:{isPressed:!1}},Ks={visible:"visible",show:"show",hide:"hide",toggle:"toggle"};function Xs(e,t){return new v(`${e}.${t}`)}var qs=class{constructor(t,r,o,n,i,a={type:"canvasComponent"}){this.sourceNode=t;this.variables=r;this.treeStore=o;this.bindings=n;this.imports=i;this.options=a;w(this,"handlers",new Map);w(this,"variantOnAppearId",new Map);w(this,"keyBindHooks",new Set);w(this,"navigationTargets",new Set);w(this,"needsPathVariables",!1);w(this,"routeHandlers",new Map);w(this,"overlayState",new Map);w(this,"overlayTriggerOverlayBindings",new Map);w(this,"relativeOverlayPrimaryTriggers",new Set)}addHandler({trigger:t,node:r,actionInfo:o}){o?.forEach(c=>{!xc(c)||!c.controls.id?.value||this.variables.create(xu(c.controls.id.value,void 0))});let n=t===Qm&&jr(r),i=t===Ym&&jr(r),a=xm(this.treeStore.tree,r.id)??this.sourceNode,s=!o||o.length===0;if(n&&s){this.variantOnAppearId.has(a.id)||this.variantOnAppearId.set(a.id,u`undefined`);return}if(s)return;let l=i?this.createKeydownEvents(r,o,this.imports):this.createCombinedEvents(r,o,t);if(n){l&&!this.variantOnAppearId.has(a.id)&&this.variantOnAppearId.set(a.id,l);return}if(!(i||!l))return l}eventHandlersForNode(t){if(!Za(t)||mo(t))return;let r=t.getActions(P),o={};for(let n in r)o[n]=this.addHandler({node:t,trigger:n,actionInfo:r[n]});return this.options.type!=="canvasComponent"||!Ft(t),o}getOverlayIdForNode(t){return mi(t)?this.treeStore.tree.get(t.cache.overlayAncestorId)?.originalid:t.cache.overlayAncestorId}transformAction(t,r,o){return n=>{if(!Sc(t)||N(r.meta?.inputValue))return n;let i=u`inputValue`;switch(o.bindings.add(u`const ${i} = args[0]?.target?.value?.trim()`),r.meta.inputValue){case"empty":return u`if (!${i}) { ${n} }`;case"set":return u`if (${i}?.length > 0 ) { ${n} }`;default:W(r.meta.inputValue,"All inputValue values should be handled")}}}getRepeaterIdForNode(t){let r=Gp(t);return r?mi(t)?r.originalid:r.id:null}createCombinedEvents(t,r,o){let n=LC(),i=this.getOverlayIdForNode(t);o in FC&&this.options.type==="canvasComponent"&&Ft(t)&&n.gestureHandlers.add(v.fn(x.setGestureState,FC[o]));for(let l of r){if(this.extractActionsToGroups(t,l,n,o,this.transformAction(o,l,n)),n.navigationActions.size>0)break;Cc(l)&&!xn(t)&&(i||(i=l.controls.overlay.value))}if(AC.every(l=>n[l].size===0))return u`undefined`;let a=this.createEventFromGroups(o,n),s=this.getRepeaterIdForNode(t);if(n.overlayActions.size>0&&i||n.repeaterActions.size>0&&s){let l=i?this.overlayState.get(i):void 0,c=this.treeStore.tree.get(s),d=Gr(c)&&Sr(c)?this.bindings.createWithNode("loadMore",c):void 0;if(l||d)return v.fn(a,{[Js.toString()]:l,[dd.toString()]:d})}return a}createEventFromGroups(t,r){let o=iw(r),n=`${t}${be(Y(o))}`,i=new v(n),a=u`const ${i} = ${o}`;return this.handlers.set(n,a),i}createKeydownEvents(t,r,o){g(this.options.type==="screen","Smart Components do not support keydown events");for(let n of r){let i=n.meta?.key;if(N(i))continue;let a=LC();if(this.extractActionsToGroups(t,n,a,"onKeyDown",this.transformAction("onKeyDown",n,a)),Object.keys(a).every(l=>a[l].size===0))continue;let s=this.createEventFromGroups("onKeyDown",a);if(g(o,"An Import collector must be provided to add gamepad or hotkey bindings."),ku(i))this.keyBindHooks.add(v.fn(o.addImport("framer",{exportSpecifier:"useGamepad"}),i.key,s,{mapping:i.mapping}));else{let l=i.key,c=aw(i),m=c.length?c.concat(l).join("+"):l;this.keyBindHooks.add(v.fn(o.addImport("framer",{exportSpecifier:"useHotkey"}),m,s))}}}extractActionsToGroups(t,r,o,n,i){if(Rg(r)){if(this.options.type!=="canvasComponent"||!Sc(n)&&o.setVariantActions.size>0)return;let a=lw(this.imports,r,n);a&&o.setVariantActions.add(i(a))}else if(xc(r)){if(this.options.type!=="canvasComponent")return;let a=cw(r);a&&o.eventActions.add(i(a))}else if(Qp(r)){if(this.options.type!=="screen"||o.navigationActions.size>0)return;let a=this.createNavigateAction(r.controls.type.value,r.controls.target.value,r.meta?.delay,r.controls);a&&o.navigationActions.add(i(a))}else if(r.actionIdentifier==="framer/useLog"){if(this.options.type!=="screen")return;let a=uw(r);a&&o.otherActions.add(i(a))}else if(r.actionIdentifier==="framer/useSetLocale"){let a=r.controls.localeId?.value;if(!A(a))return;o.otherActions.add(i(v.fn(x.setLocale,a)))}else if(DC(r)){let a=Oo(r.controls.url.value);if(N(a)||k(a))return;if(Ca(a)){let s=this.createOpenPageAction(a.webPageId,a.hash,r.meta?.delay);s&&o.navigationActions.add(i(s))}else{let s=dw(r,a);s&&o.otherActions.add(i(s))}}else if(!xn(t)&&Cc(r)){if(r.actionIdentifier==="framer/useShowOverlay"&&this.options.type==="canvasComponent")return;let a=r.controls.overlay.value,s=this.createOverlayTriggers(a,t.id);s&&o.overlayActions.add(i(s))}else if(rp(r)){if(!xn(t))return;let a=this.getOverlayIdForNode(t);if(g(a,"overlayAncestorId must not be null when nodeIsInOverlay is true"),!this.overlayState.has(a))return;o.overlayActions.add(i(this.createDismissOverlayAction(r.meta?.delay)))}else if(of(r)){let a=this.getRepeaterIdForNode(t),s=this.treeStore.tree.get(a);if(!Gr(s))return;o.repeaterActions.add(v.fn(dd))}}createDismissOverlayAction(t){return Kr(v.fn(Xs(Js,"hide")),t)}createOpenPageAction(t,r,o){if(!this.getNavigationTarget(t))return;let i=`${be(t)}${r?be(r):""}`,a=new v(`openRoute${i}`),s=[t,u`true`];r&&s.push(r),this.routeHandlers.set(i,u`const ${a} = ${v.fn(this.imports.addImport("framer",{exportSpecifier:"useRouteHandler"}),...s)}`);let l=v.fn(a);return u`return ${Kr(l,o)}`}createNavigateAction(t,r,o,n){if(t==="previous")return this.navigationTargets.add(ud),u`return ${Kr(v.fn(kC,"previous"),o)}`;if(!r||!this.isValidNavigationTarget(r))return;let i={};for(let a in n){if(a==="target")continue;let s=n[a];i[a]=s.value}return this.navigationTargets.add(r),u`return ${Kr(v.fn(kC,r,i),o)}`}getNavigationTarget(t){if(!t)return null;let r=this.treeStore.tree.getNode(t);return!r||!(this.treeStore.tree.isGroundNode(r)||$(r))?null:r}isValidNavigationTarget(t){return!!this.getNavigationTarget(t)}createOverlayTriggers(t,r){let o=this.treeStore.tree.get(t);if(!o)return;let n=this.treeStore.tree.get(r);if(!n)return;let i=this.treeStore.tree.get(n.originalid??n.id);if(!i)return;if(!n?.children?.find(c=>(c.originalid??c.id)===t&&Nt(c))){nw.reportError("EventCollector: Tried to create a event handler to show an overlay which is not a descendant of the trigger.",{triggerId:r,overlayId:t});return}let s=this.overlayState.get(t)??this.bindings.create("overlay");this.overlayState.set(t,s);let l=this.overlayTriggerOverlayBindings.get(i.id)??new Map;return l.set(o.originalid??o.id,s),this.overlayTriggerOverlayBindings.set(i.id,l),Lt(o)&&this.relativeOverlayPrimaryTriggers.add(i.id),v.fn(Xs(Js,Lt(o)?"show":"toggle"))}};function LC(){return{bindings:new v.Set,gestureHandlers:new v.Set,eventActions:new v.Set,setVariantActions:new v.Set,navigationActions:new v.Set,otherActions:new v.Set,overlayActions:new v.Set,repeaterActions:new v.Set}}var AC=["bindings","gestureHandlers","eventActions","setVariantActions","otherActions","overlayActions","repeaterActions","navigationActions"];function iw(e){let t=[];for(let o of AC)for(let n of e[o])t.push(n);let r=u.joinLines(u`activeVariantCallback(async (...args) => {`,...t,u`})`);return e.overlayActions.size>0||e.repeaterActions.size>0?u`({${Js}, ${dd}}) => ${r}`:r}function aw(e){let t=[];for(let r in e)if(e[r])switch(r){case"altKey":t.push("alt");break;case"ctrlKey":t.push("ctrl");break;case"metaKey":t.push("meta");break;case"shiftKey":t.push("shift");break;default:break}return t}function sw(e,t,r,o){if(t==="cycle")return v.fn(PC,e.addImport("framer",{exportSpecifier:"CycleVariantState"}),o);if(r)return v.fn(PC,r,o)}function lw(e,t,r){let o=t.controls.type?.value,n=t.controls.variantId?.value,i=t.controls.pauseOffscreen?.value;if(!wg(o))return;let a=sw(e,o,n,r==="onAppear"?i:void 0);if(a)return Kr(a,t.meta?.delay)}function cw(e){let t=e.controls.id?.value;if(!A(t))return;let r=new v(t);return u.joinLines(u`if (${r}) {${u.joinLines(e.meta?.delay&&u`await delay(() => {}, ${e.meta?.delay*1e3});`,u`const res = await ${r}(...args);`,u`if (res === false) return false;`)}}`)}function dw(e,t){if(!hr(t))return;let{href:r,target:o=u`undefined`,rel:n}=Uu(t.url);if(!r)return;let i=[r,o??u`undefined`,n??"noopener"];return Kr(v.fn(u`window.open`,...i),e.meta?.delay)}function uw(e){let t=e.controls?.type?.value,r=e.controls?.message?.value;if(A(t))switch(t){case"event":return new v(re.lines('if (args[0] && "persist" in args[0]) args[0].persist()',Kr(u`console.log(...args)`,e.meta?.delay)));case"message":return A(r)?Kr(u`console.log(${r})`,e.meta?.delay):void 0;case"count":return A(r)?Kr(u`console.count(${r})`,e.meta?.delay):void 0}}function Kr(e,t){return!N(t)&&t>0?u`await delay(() => ${e}, ${t*1e3})`:e}function Ys(e){switch(e.codeComponentIdentifier){case"framer/Page":case"framer/Scroll":return!0;default:return!1}}function vr(e){return U(e)&&!Ys(e)&&!e.isVectorInstance}function BC(e){switch(e.codeComponentIdentifier){case"framer/Page":case"framer/Scroll":case"framer/Prototype":return!0;default:return!1}}function OC(e){switch(e.codeComponentIdentifier){case"framer/Page":return"Page";case"framer/Scroll":return"Scroll";case"framer/Prototype":return"DeviceCodeComponent"}}var pw=e=>[`.${e}[data-border="true"]::after, .${e} [data-border="true"]::after { content: ""; border-width: var(--border-top-width, 0) var(--border-right-width, 0) var(--border-bottom-width, 0) var(--border-left-width, 0); border-color: var(--border-color, none); border-style: var(--border-style, none); width: 100%; height: 100%; position: absolute; box-sizing: border-box; left: 0; top: 0; border-radius: inherit; pointer-events: none; }`],fw=e=>[`.${e}[data-selection="true"] * ::selection, .${e} [data-selection="true"] * ::selection { color: var(--selection-color, none); background-color: var(--selection-background-color, none); }`],hw=e=>[`.${e}[data-hide-scrollbars="true"]::-webkit-scrollbar, .${e} [data-hide-scrollbars="true"]::-webkit-scrollbar { width: 0px; height: 0px; }`,`.${e}[data-hide-scrollbars="true"]::-webkit-scrollbar-thumb, .${e} [data-hide-scrollbars="true"]::-webkit-scrollbar-thumb { background: transparent; }`,`.${e}[data-hide-scrollbars="true"], .${e} [data-hide-scrollbars="true"] { scrollbar-width: none; }`],Ai="data-layout-template",gw={0:pw,1:hw,2:fw},md="-container",Kn,Qs=class{constructor(t,r,o,n){this.entryNode=t;this.sourceNode=r;this.serializationId=o;this.cssVariableDefinitions=n;w(this,"sharedStyleIds",new Set);w(this,"rules",{});w(this,"nodeClassNames",new Map);H(this,Kn,new Set);w(this,"selectorsByNodeId",new Map)}getNodeIdForClassName(t){let r=t.endsWith(md)?t.slice(0,-md.length):t;return this.nodeClassNames.get(r)}get(t=this.sourceNode.id){return t===this.sourceNode.id&&this.getWideGamutColorRule(),{rules:this.rules[t]??new Map}}createScopingSelector(t,r){if(t){let o=`.${this.serializationId}.${Lm}v-${be(t)}`;return r?`${o}.${r}`:o}return`.${this.serializationId}`}createSelector(t,r,o,n,i=t===this.sourceNode.id){let a=this.createScopingSelector(o,n);return t===this.entryNode.id?`${a}.${r}, ${a} .${r}`:i?`${a}.${r}`:`${a} .${r}`}addRule(t,r,o={}){let{scope:n,gesture:i,container:a,ruleType:s=0,hasScopingSelector:l}=o,c=r.originalid??r.id,m=Em(s,c);this.nodeClassNames.has(m)||this.nodeClassNames.set(m,r.id),a&&(m+=md);let d=this.createSelector(c,m,n,i,l);this.selectorsByNodeId.set(c,d);let p=o.variant?.id??this.sourceNode.id;if(this.createRule(d,Mn(t),p),Sw(t)){let f=vw(r,this.serializationId);for(let h in f)this.createRule(h,Mn(f[h]),p)}return m}addConditionalRule(t){C(this,Kn).add(t)}hasConditionalRule(t){return C(this,Kn).has(t)}conditionalRules(t){let r=[];return C(this,Kn).forEach(o=>{let n=gw[o],i=n(t);r.push(...i)}),r}addSharedStyle(t){this.sharedStyleIds.add(t)}createRule(t,r,o=this.sourceNode.id){let n=this.rules[o];if(n){n.set(t,r);return}this.rules[o]=new Map([[t,r]])}getWideGamutColorRule(){let t=this.cssVariableDefinitions.getWideGamutColorRules(`.${this.serializationId}`,this.selectorsByNodeId);t.length!==0&&this.createRule("@supports (color: color(display-p3 1 1 1))",t.join(" "))}};Kn=new WeakMap;var yw="viewTransitionName";function Sw(e){return yw in e&&Cw(e)}var zC="-exclude";function Cw(e){return lu(e.viewTransitionName)&&e.viewTransitionName.endsWith(zC)}function pd(e,t,r){let o=be(e.originalid??e.id);return r?`${t}-${o}${zC}`:o}function vw(e,t){let r=pd(e,t,!0);return{[`::view-transition-group(${r})`]:{animation:"none !important"},[`::view-transition-new(${r})`]:{animation:"none !important"},[`::view-transition-old(${r})`]:{animation:"none !important"}}}function WC(e,t,r){return!!(Ve(e)||Ve(t)||e.id===r.rootId)}var Zs=class{constructor(t,r){this.repeaterNode=t;this.parent=r;w(this,"subqueries",new Map);w(this,"variableDependencies",new Map);w(this,"childRepeaterIds",new Set)}addSubquery(t,r,o){let n=this.getSubqueries(t);n.set(r,o),this.subqueries.set(t,n),this.childRepeaterIds.add(r)}getSubqueries(t){return this.subqueries.get(t)??new Map}addVariableDependencies(t,r){let o=this.getVariableDependencies(t);o.push(...r),this.variableDependencies.set(t,o)}getVariableDependencies(t){return this.variableDependencies.get(t)??[]}};function fd(e,t){return!xi(e)||N(e.visible)?!0:k(e.visible)?t.createDeduplicatedDynamicValueBinding(e.visible,e,"visible"):e.isVisible()}function hd(e,t,r,o){if(r.inComponentSlot||o||qe(e)||Tt(e)||Lt(e)||nr(e)&&lt.isOn("layoutScroll")||jr(e)&&Zm.some(i=>(e[i]?.length??0)>0)||st(e)&&!at(e))return!0;switch(t.scopeType){case"CanvasPage":return!0;case"SmartComponent":return!0;case"LayoutTemplate":case"WebPage":case"DesignPage":if(Ft(e)||rs(e))return!0;if(Ua(e)){let i=e.rotation;if(k(i)||G(i)&&i!==0)return!0}return us(e);case"VectorSet":return!1;default:Dt(t.scopeType)}}function vt(e,t){if(Number.isNaN(e)&&Number.isNaN(t)||e===t)return!0;if(nt(e)||nt(t)||A(e)||A(t)||N(e)||N(t)||G(e)||G(t)||fr(e)||fr(t)||Zl(e)||Zl(t))return!1;if(It(e)||It(t))return It(e)&&It(t)?Y(e)===Y(t):!1;if(tr(e)||tr(t)){if(tr(e)&&tr(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}return!1}if(ot(e)||ot(t)){if(ot(e)&&ot(t)){for(let a in e)if(!vt(e[a],t[a]))return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;let r,o,n,i;return yi(e)&&(r=B.spreadsAtStart(e),o=B.spreadsAtEnd(e)),yi(t)&&(n=B.spreadsAtStart(t),i=B.spreadsAtEnd(t)),!vt(r,n)||!vt(o,i)?!1:yi(e)&&yi(t)?B.isSorted(e)===B.isSorted(t):!0}return!1}throw new Error(`Tried to compare unsupported primitive types. ${typeof e} / ${typeof t}`)}var $C={js:u`undefined`,css:"unset"};function bw(e,t){switch(t){case"js":return $C[t];case"css":return e==="display"?"block":$C[t];default:W(t,`target is not a defined enum: ${t}`)}}function Yr(e,t,r){if(!e)return;if(!t)return e;let o={},n=!1;for(let i in e){let a=e[i],s=t[i];vt(a,s)||(N(a)?i in t&&(o[i]=r?bw(i,r):void 0,n=!0):(o[i]=a,n=!0))}if(n)return o}var el=(e,t)=>{if(!Gm(e)||!e.codeOverrideEnabled||!e.codeOverrideIdentifier)return;let r=P.componentForIdentifier(e.codeOverrideIdentifier);if(!(r&&ql(r)))return;let o=Z(e.codeOverrideIdentifier);if(!Se(o))return;let{importSpecifier:n,exportSpecifier:i}=Jr(o,t.moduleType,t.modulesStore);if(!(!n||!i))return{importSpecifier:n,exportSpecifier:i}};function tl(e,t){let r=[];if(lt.isOn("overridesWithPropertyControls")&&bh(e)&&e.codeOverrides)for(let o of e.codeOverrides){let n=P.componentForIdentifier(o.identifier);if(!(n&&ql(n)))continue;let i=Z(o.identifier);if(!Se(i))continue;let a=t.imports.addModuleImport(i);if(!a)continue;let s=Ih(o),l=Object.keys(s).length>0&&Dr(s);r.push(l?[a,s]:a)}return r}function Iw(e){return!It(e)&&(A(e)||G(e)||nt(e)||N(e))}function gd(e,t){return t.scopeType!=="SmartComponent"?Iw(e):Dr(e)}var HC=_e((e,t,r)=>{if(!U(e)||!e.isVectorInstance||!J(r))return;let o=P.reactComponentForIdentifier(e.codeComponentIdentifier);if(!o)return;let n=qn(e,o.properties,e.getControlProps(o.properties),{context:r,pixelSize:void 0,repeaterInfo:void 0});for(let i in n){let a=n[i],s=`--${be(i)}`;gd(a,r)&&(t[s]=a??void 0)}});function GC(e,t,r,o,n){let i={...t};tm.has(e.codeComponentIdentifier)&&(i.__fromCodeComponentNode=!0);let a=o.reactComponentForIdentifier(e.codeComponentIdentifier);if(a?.properties){let f=dh(e.intrinsicWidth,e.intrinsicHeight),h=qn(e,a.properties,e.getControlProps(a.properties),{pixelSize:f,context:r,repeaterInfo:n?r.repeaterInfo.get(n):void 0});if(e.isVectorInstance)for(let y in h){let b=h[y],S=r.scopeType!=="SmartComponent"?!0:void 0;i[y]=gd(b,r)?S:b}else Object.assign(i,h)}let s=hh(o,e.codeComponentIdentifier,i),l=e.getActions(o);for(let f in l)s[f]=r.events?.addHandler({node:e,trigger:f,actionInfo:l[f]});if(e.isVectorInstance)return Fc(s);let c=ph(e,o);rm(e)&&Object.assign(s,e.getStylingProps(c,!1));let m=e.id===r.rootId&&r.scopeType!=="SmartComponent",d=c?Object.keys(c):[],p=ot(c)&&d.length>0&&d.some(f=>!N(c[f]));return ot(c)&&(p||m)&&m&&(c.width=u`style?.width`,c.height=u`style?.heigh`,p=!0),p&&(s.style?Object.assign(s.style,c):s.style=c),Fc(s)}var Tw=/\/assets\/(?:(\d+)\/)?([^?]+)\?/u;function Nw(e,t){if(typeof DOMParser>"u"||e.indexOf("image")<0)return;let r=_u(e),o=r.querySelector("svg");if(!o)return;let n=new Map;if(r.querySelectorAll("image").forEach(i=>{let a=i.getAttribute("xlink:href");if(!a)return;let s=Tw.exec(a);if(!s)return;let l=Number.parseInt(s[1],10),c=s[2],m="::ASSET::"+n.size+"::",p=t?.resolveResponsiveImage(c,{layerMaxSidePixelSize:l})?.src??cu(c,l);n.set(m,p),i.setAttribute("xlink:href",m)}),n.size!==0)return o.outerHTML.replace(/::ASSET::\d+::/gu,i=>n.get(i)??`missing:${i}`)}function rl(e,t){let r=e.svg;A(r)&&(e.svg=Nw(r,t)??r)}var UC=O((e,t,r)=>{if(!vh(e)||!zn(r?.scopeType))return;if(Jp(e)||Tt(e)&&k(e.fillImage)){t["aria-label"]=void 0;return}if(J(r)&&k(e.ariaLabel)){t["aria-label"]=r.createDeduplicatedDynamicValueBinding(e.ariaLabel,e,"ariaLabel");return}let o=e.resolveValue("ariaLabel",r?.variableOverrides);if(A(o)&&o!==""){t["aria-label"]=o;return}t["aria-label"]=void 0});var jC=O((e,t,r)=>{let o=st(e),n=!!(e.parentid&&r?.renderAsListNodes?.has(e.parentid));if(!or(e)){if(!at(e)&&o&&(t.as="a"),n){t.as="li";return}return}if(!Tt(e))return;let i=e;if(o){t.as="a";return}if(n){t.as="li";return}let a=i.htmlTag??es;a!=="div"&&(t.as=a)});var _C=O((e,t,r)=>{if(!$h(e)||!J(r))return;let o=e.originalid??e.id,n=r.events.overlayState.get(o);n&&(k(e.backdropDismissible)?t.onTap=u`() => ${r.createDeduplicatedDynamicValueBinding(e.backdropDismissible,e,"backdropDismissible")} && ${v.fn(u`${n}.hide`)}`:t.onTap=e.resolveValue("backdropDismissible")?u`() => ${v.fn(u`${n}.hide`)}`:void 0,t.initial={opacity:0},t.key=o,e.backdropTransitionLocked?(t.transition=io(e.backdropEnterTransition??gs),t.animate={opacity:1},t.exit={opacity:0}):(t.animate={opacity:1,transition:io(e.backdropEnterTransition??gs)},t.exit={opacity:0,transition:io(e.backdropExitTransition??gs)}))});var JC=O((e,t,r)=>{if(!ja(e)&&yn(e)){if(Sn(e)&&!e.fillEnabled){t.background=void 0;return}t.background=mh(e,!0,r),t.background&&ct(e)&&(e.heightType===5?t.fitImageDimension="height":e.widthType===5?t.fitImageDimension="width":t.fitImageDimension=void 0)}});var qC=O((e,t,r)=>{!Sp(e)||!e.borderEnabled||xp(e)||(t["data-border"]=!0,J(r)&&r.css.addConditionalRule(0))});var KC="data-reset",YC=O((e,t,r)=>{if(J(r)&&!(r.scopeType==="CanvasPage"||r.scopeType==="DesignPage")&&Co(e)){if(!df(e.htmlTag)){t[KC]=void 0;return}e.htmlTag==="button"&&(t[KC]="button")}});function QC(e,t){if(Vt(e))return Z(e).type;if(Ir(e)){let o=t.getExternalModuleNodes().find(n=>n.codeComponentIdentifier===e);return o?o.type:void 0}}var ZC=O((e,t,r)=>{if(!U(e)||!J(r)||!vr(e))return;t.scopeId=r.scopeId,t.nodeId=e.originalid??e.id,t.isAuthoredByUser=QC(e.codeComponentIdentifier,r.treeStore.tree)==="codeFile"?!0:void 0;let o=Ir(e.codeComponentIdentifier);o&&(t.isModuleExternal=o);let n=r.nodeRendersWithMotion.get(e);n&&(t.rendersWithMotion=n);let i=Z(e.codeComponentIdentifier);t["data-code-component-plugin-id"]=fy(r.treeStore.tree,r.modulesStore,i)});var ev=O((e,t,r)=>{Th(e)&&zn(r?.scopeType)&&(t["data-nosnippet"]=Nh(e)?e.dataNosnippet:void 0)});var tv=O((e,t,r)=>{if(!cf(e))return;let o=J(r)&&k(e.draggable)?r.createDeduplicatedDynamicValueBinding(e.draggable,e,"draggable"):e.resolveValue("draggable");t.draggable=!N(o)&&!k(e.draggable)?o.toString():o});var rv=O((e,t,r)=>{if(!J(r)||mo(e)||!Za(e)&&!ep(e))return;let o=r.treeStore.tree.get(r.scopeId);yt(o)&&tf(o)&&Object.assign(t,r?.events?.eventHandlersForNode(e))});var ov=O((e,t,r)=>{if(!at(e))return;let o=e.getFontsForLoading();if(J(r)){let n=Cn(e);for(let i of o)r.fonts?.addFontObjectBySelector(i,n)}t.fonts=o.length>0?o:void 0});var nv=O((e,t,r)=>{ug(e)&&(t.step=J(r)&&k(e.formInputStep)?r.createDeduplicatedDynamicValueBinding(e.formInputStep,e,"step"):e.resolveValue("formInputStep"))});var iv=O((e,t,r)=>{if(xh(e)){if(J(r)){t["data-hide-scrollbars"]=k(e.hideScrollbars)?r.createDeduplicatedDynamicValueBinding(e.hideScrollbars,e,"hideScrollbars"):e.hideScrollbars||void 0,N(e.hideScrollbars)||r.css.addConditionalRule(1);return}t["data-hide-scrollbars"]=e.resolveValue("hideScrollbars",r?.variableOverrides)?!0:void 0}});var av=O((e,t,r)=>{!jr(e)||r?.scopeType==="WebPage"||(t["data-highlight"]=tp(e,P)||void 0)});var sv=O((e,t,r)=>{if(!gt(e)||!Ke(e)||!J(r)||r.scopeType!=="LayoutTemplate")return;let o=e.tree()?.getParent(e.id);if(!De(o))return;let{center:n}=Af(e);Cu(t,Of(e)?n:void 0)});var lv=O((e,t,r)=>{if(!st(e)||at(e))return;if(r?.variables&&ue(e.linkOpenInNewTab)){t.openInNewTab=r.variables.create(e.linkOpenInNewTab);return}let o=e.resolveValue("linkOpenInNewTab",r?.variableOverrides);fr(o)&&(t.openInNewTab=o)}),cv=O((e,t,r)=>{if(!st(e)||at(e))return;if(r?.variables&&ue(e.linkSmoothScroll)){t.smoothScroll=r.variables.create(e.linkSmoothScroll);return}let o=e.resolveValue("linkSmoothScroll",r?.variableOverrides);fr(o)&&(t.smoothScroll=o)}),dv=O((e,t,r)=>{if(!st(e)||at(e))return;if(r?.variables&&ue(e.linkClickTrackingId)){t.clickTrackingId=r.variables.create(e.linkClickTrackingId);return}let o=e.resolveValue("linkClickTrackingId",r?.variableOverrides);A(o)&&(t.clickTrackingId=o)}),uv=O((e,t,r)=>{if(!st(e)||at(e))return;let o=e.resolveValue("linkRelValues",r?.variableOverrides);if(r?.variables&&ue(e.linkRelValues)){t.relValues=r.variables.create(e.linkRelValues);return}Fu(o)&&(t.relValues=o)}),mv=O((e,t,r)=>{if(!st(e)||at(e))return;if(r?.variables&&ue(e.linkPreserveParams)){t.preserveParams=r.variables.create(e.linkPreserveParams);return}let o=e.resolveValue("linkPreserveParams",r?.variableOverrides);fr(o)&&(t.preserveParams=o)}),pv=O((e,t,r)=>{if(!Io(e)||at(e))return;if(!st(e)){t.href=void 0;return}let o=e.getLink();kt(o)?t.href=r?.valueTransforms?.createComputedValue(o,e,void 0):hr(o)&&e.linkLocalized&&r?.localizedValues?t.href=r.localizedValues.add(o.url,e.linkLocalized,n=>e.linkLocalized?.[n]?.value):t.href=r?.links?.create(o)}),fv=O((e,t)=>{if(zu(e)){let r=new Set,o=e.getInlineLinks(!1);A(e.link)&&o.push(e.link),o.forEach(n=>{if(!n||!Mu(n))return;let i=Vu(n)?.target;i&&r.add(i)}),t.__link=e.link,r.size&&(t.preload=Array.from(r))}}),hv=O((e,t)=>{t.nodeId=e.originalid??e.id}),gv=O((e,t,r)=>{t.scopeId=r?.scopeId});var yv=O((e,t,r)=>{if(!sf(e)||!J(r)||!ms(r.scopeType)||Nt(e))return;if(!lf(e)){t.drag=void 0;return}let o,n;!e.dragEffectFreeform&&r.scopeType!=="SmartComponent"?o=r.elementIds.scrollTargetInfo({target:e.dragEffectConstraintElement,collectionItem:e.dragEffectConstraintItem})?.ref:e.dragEffectSnapBack&&(n=!0);let i=e.dragEffectTransition?io(e.dragEffectTransition):void 0,a=i?r.declarations.file.dedupe("inertia",i):void 0,s=o||n,l=u`e`,c={drag:!0,dragConstraints:o,dragMomentum:!!e.dragEffectMomentum,dragTransition:s?a:void 0,dragSnapToOrigin:n,onMouseDown:r.declarations.file.dedupe("preventDefault",u`(${l}) => ${l}.preventDefault()`)};Object.assign(t,c)});var xw="--extracted-",ww=["--framer-text-color","--framer-text-stroke-width","--framer-text-stroke-color","--framer-font-variation-axes"];function Bi(e,t){let r=bo(e);return Sv(r,(o,n)=>{for(let i of ww){let a=o.style.getPropertyValue(i);if(!a)continue;let s=Rw(n,i),l=Mw(s,a);t&&(t[s]=a),o.style.setProperty(i,l)}}),r.innerHTML}function Rw(e,t){return xw+be(e+t)}function Mw(e,t){return`var(${e}, ${t})`}function Sv(e,t,r=""){for(let o=0;o<e.children.length;o++){let n=e.children[o];if(n instanceof HTMLElement){let i=r+n.tagName+o;t(n,i),Sv(n,t,i)}}}var Cv=O((e,t,r)=>{if(!za(e)||!J(r))return;let o=r.scopeType==="SmartComponent",n=o?Bi(e.html):e.html,{assets:i,imports:a,variables:s,links:l,cssVariableDefinitions:c}=r||{};if(g(i&&a&&l,"assets, imports, links must exist at this point"),ue(e.htmlContent))g(s,"context.variables should exist if we are dealing with variables references"),t.children=s.create(e.htmlContent);else{let m=qr(n,{collectors:{assets:i,imports:a,links:l,variables:s,cssVariableDefinitions:c},useFramerMotion:o,nodeId:e.originalid??e.id,scopeId:r.scopeId}),d=iy(n);t.children=r.localizedValues.add(m,e.htmlLocalized,(p,f)=>{let h=Vy(d,e.htmlLocalized?.[p],n);if(!h)return;let y;return h.type==="rich-text"?(y=My(e.html,h.value),o&&(y=Bi(y))):y=Wh(n,h.value),qr(y,{collectors:{assets:i,...f},useFramerMotion:o,nodeId:e.originalid??e.id,scopeId:r.scopeId})})}qe(e)&&fa(e.anchorLinkOffsetY)&&(t.anchorLinkOffsetY=e.anchorLinkOffsetY),r.metrics?.measureLength("textBytes",t.__htmlStructure),r.metrics?.measureLength("textBytes",t.htmlFromDesign),r.metrics?.measureLength("textBytes",t.children)});var vv=O((e,t,r)=>{if(!(!Ta(e)||!e.colorable)){if(Sn(e)&&!e.fillEnabled){t.fill=null;return}if(yn(e)&&!(e.fillType==="linear-gradient"&&e.fillLinearGradient||e.fillType==="radial-gradient"&&e.fillRadialGradient||e.fillType==="conic-gradient"&&e.fillConicGradient)){if(e.fillType==="image"&&e.fillImage){t.fill=uh(e,r,r?.variableOverrides);return}if(e.fillColor){if(k(e.fillColor)&&J(r)){t.fill=r.createDeduplicatedDynamicValueBinding(e.fillColor,e,"fillColor");return}t.fill=e.resolveValue("fillColor",r?.variableOverrides)}}}});var bv=O((e,t,r)=>{if(!_m(e)||!Sm(e))return;let o=Io(e)&&A(e.link)?e.link:void 0,n=hm(e)?e.htmlTextTag:void 0,{alignment:i,rawHTML:a}=e.getStyledText().getProps(e,o,n,()=>{});t.alignment=i,t.rawHTML=a?u`${a}`:void 0,r?.metrics?.measureLength("textBytes",t.rawHTML)});var Iv=O((e,t,r)=>{if(Ep(e)){if(!e.textContent){t.text=void 0;return}J(r)&&(k(e.textContent)?t.text=r.createDeduplicatedDynamicValueBinding(e.textContent,e,"textContent"):W(e.textContent,"text content must be a variable or a computed value"),r?.metrics?.measureLength("textBytes",t.text))}});var Tv=O((e,t,r)=>{!hs(e)||!e.resolveValue("textSelection")||(t["data-selection"]=!0,J(r)&&r.css.addConditionalRule(2))});var Nv=O((e,t)=>{Jh(e)&&(t.verticalAlignment=e.textVerticalAlignment)});var xv=O((e,t)=>{eg(e)&&(t.description=A(e.description)&&e.description!==""?e.description:void 0,t.title=A(e.title)&&e.title!==""?e.title:void 0)});function Vw(e){if(Ft(e))return e.variantTransition;if(Cf(e))return e.transition}var wv=O((e,t,r)=>{if(r.scopeType!=="SmartComponent")return;let o=Vw(e);if(k(o)){t.value=r.createDeduplicatedDynamicValueBinding(o,e,"transition");return}if(!o){t.value=void 0;return}let n=io(o);t.value=r.declarations.file.dedupe("transition",n)});var Dw="-container",Sd=u`formState`,kw=O((e,t,r)=>{Ta(e)&&(t.withExternalLayout=!0,t.intrinsicHeight=e.intrinsicHeight||void 0,t.intrinsicWidth=e.intrinsicWidth||void 0,t.svg=u`${e.svg}`,rl(t,r?.assets),r?.metrics?.measureLength("svgBytes",t.svg))}),Pw=O((e,t,r)=>{if(!hn(e))return;g(t instanceof B,"");let o=$c.shared().getSVGStringForNode(e),n=e.contentHash;B.assign(t,{layout:r?.scopeType==="SmartComponent"?"position":void 0,intrinsicWidth:void 0,intrinsicHeight:void 0,...Pc(e),withExternalLayout:!0,svgContentId:n,svg:o});let i=t.style?.opacity;(i||Number.isFinite(Number(i)))&&(t.opacity=i),rl(t,r?.assets),r?.metrics?.measureLength("svgBytes",t.svg)}),Fw=O((e,t,r)=>{if(!em(e))return;let o=$c.shared().getSVGStringForNode(e);Object.assign(t,{intrinsicWidth:void 0,intrinsicHeight:void 0,...Pc(e),svg:o,withExternalLayout:!0,requiresOverflowVisible:Dy(e)});let n=t.style?.opacity;(n||Number.isFinite(Number(n)))&&(t.opacity=n),rl(t,r?.assets),r?.metrics?.measureLength("svgBytes",t.svg)});function Lw(e){return e.codeComponentIdentifier==="framer/Prototype"}function yd(e,t,r,o,n){if(!U(e))return;let{lastRepeaterId:i,layoutId:a}=n;if(B.assign(t,GC(e,void 0,r,P,i)),Lw(e))t.scaleTo="dynamic";else if(Ys(e))t.__fromCanvasComponent=!0;else if(!e.isVectorInstance)t.width="100%",t.height="100%",t.id=e.originalid??e.id,e.name!==null&&!t.name&&(t.name=e.name);else{let c=Ua(e)&&(k(e.rotation)||G(e.rotation)&&e.rotation!==0);t[xf]=r.scopeType==="SmartComponent"?!0:rs(e)||c||us(e)}Hf(e,t,r);let s=r.events.overlayTriggerOverlayBindings.get(e.originalid??e.id);if(If(e)&&s?.size){let c=new v(Array.from(s.values())?.map(m=>u`${m}.visible`)?.join(" || "));t.variant=u`(${c}) ? ${e.whileOpenEffectVariant} : ${t.variant??u`undefined`}`}pf(r.treeStore.tree,e)&&(t.type="submit",mf(e)&&(t.variant=v.fn(r.declarations.file.dedupe("formVariants",u`(form, variants, currentVariant) => { ${u.joinLines(u`switch(form.state) {${u.joinLines(u`case "success": return variants.success ?? currentVariant`,u`case "pending": return variants.pending ?? currentVariant`,u`case "error": return variants.error ?? currentVariant`,u`case "incomplete": return variants.incomplete ?? currentVariant`)}}`)} }`),Sd,{success:e.formButtonSuccessVariantEnabled?e.formButtonSuccessVariant:void 0,error:e.formButtonErrorVariantEnabled?e.formButtonErrorVariant:void 0,pending:e.formButtonPendingVariantEnabled?e.formButtonPendingVariant:void 0,incomplete:e.formButtonIncompleteVariantEnabled?e.formButtonIncompleteVariant:void 0},t.variant??u`undefined`)));let l=r.treeStore.tree.get(n.lastRepeaterId);if(Gr(l)&&Sr(l)&&(jo(e,l)||nf(e))&&(t.variant=l&&af(e)?v.fn(r.declarations.file.dedupe("loaderVariants",u`(repeaterState, variants, currentVariant) => { ${u.joinLines(u`if (repeaterState.currentPage >= repeaterState.totalPages) return variants.disabled ?? currentVariant`,u`if (repeaterState.isLoading) return variants.loading ?? currentVariant`,u`return currentVariant`)} }`),r.bindings.createWithNode("paginationInfo",l),{disabled:e.dataLoaderDisabledVariantEnabled?e.dataLoaderDisabledVariant:void 0,loading:e.dataLoaderLoadingVariantEnabled?e.dataLoaderLoadingVariant:void 0},t.variant??u`undefined`):void 0),gn(e)||o.identifiers&&o.identifiers.size>1){let c=Z(e.codeComponentIdentifier);g(Se(c),`Expected a module export identifier, got ${c}`);let{importSpecifier:m,exportSpecifier:d,importBinding:p}=Jr(c,r.moduleType,r.modulesStore);g(m,"A module must have an import specifier."),t.Component=ue(e.dynamicVectorSetIdentifier)?r.vectorSets.resolveVariableInstance(e):r.imports.addImport(m,{exportSpecifier:d,importBinding:p})}t.layoutId=a??e.originalid??e.id}var Ew=(e,t,r,o)=>{let n=new B;return yd(e,n,t,r,o),n},Aw=Uo(UC,jC,_C,JC,qC,ZC,YC,ev,tv,rv,ov,ig,Rh,lg,pg,nv,bg,fg,hg,Mh,Gf,iv,av,sv,fv,Uf,yv,Wf,Ef,jf,_f,zf,Cv,Pw,bv,Xh,vv,kw,rg,Iv,qh,Kh,Tv,Nv,xv,Fw);function Bw(e){if(N(e)||e instanceof B&&B.hasSpreads(e))return e;for(let t of Object.values(e))if(!N(t))return e}function ol(e){return e.declarations.component.dedupe("scopingClassNames",v.fn(e.imports.addImport("framer",{exportSpecifier:"cx"}),x.serializationHash,u`...${x.sharedStyleClassNames}`))}var Ow=(e,t,r,o,{style:n,className:i})=>{let a=new B;Aw(e,a,t);let s=(e.originalid??e.id)===t.rootId;if(a.style||n||s){let f={};if(ot(a.style)&&Object.assign(f,a.style),n&&Object.assign(f,n),a.style=Bw(f),s){let h=new B(a.style);B.addSpreadAtEnd(h,u`style`),a.style=h}}let l=[];a.className&&l.push(a.className),i&&l.push(i),s&&(l.unshift(ol(t)),l.push(x.className),a.ref=x.refBinding,B.addSpreadAtStart(a,x.restProps),t.scopeType==="SmartComponent"&&(l.push(x.classNames),B.addSpreadAtStart(a,x.gestureHandlers))),t.scopeType==="WebPage"&&dC(t.treeStore.tree,e)&&(a["data-section-id"]=e.originalid??e.id),(Ve(e)||Ve(t.treeStore.tree.getParent(e.id)))&&l.unshift(ol(t)),l.length===1?a.className=l[0]:l.length>1&&(a.className=v.fn(t.imports.addImport("framer",{exportSpecifier:"cx"}),...l)),t.scopeType==="LayoutTemplate"&&De(e)&&(a[Ai]=!0);let{withKey:c,layoutId:m}=r,d=m??e.originalid??e.id;c&&(a.key=d),t.scopeType==="SmartComponent"?(a.layoutId=vr(e)?d+Dw:d,a.layoutDependency=u`layoutDependency`):t.scopeType==="CanvasPage"&&(a.layoutIdKey=d,e.duplicatedFrom&&e.duplicatedFrom.length>0&&(a.duplicatedFrom=e.duplicatedFrom)),U(e)&&(vr(e)?r.inComponentSlot&&(a.inComponentSlot=r.inComponentSlot):(Ys(e)&&(a.__fromCanvasComponent=!0),yd(e,a,t,o,r)),nr(e)&&(a.layoutScroll=!0)),at(e)&&(a.withExternalLayout=!0,a.__fromCanvasComponent=!0),Aa(e)&&t?.scopeType==="WebPage"&&!Ft(e)&&(a.id=e.scrollTargetEnabled?t.elementIds.id(e):void 0),a["data-framer-cursor"]=t.customCursors.add(e),Lt(e)?Object.assign(a,{role:"dialog"}):a[oc]=t.elementIds.portalId(e),Ff(e)&&(a.id=a.id??t.elementIds.id(e),a.lightboxClassName=ol(t));let p=t.treeStore.tree.get(r.lastRepeaterId);return p&&U(e)&&jo(e,p)&&Object.assign(a,{__paginationInfo:t.bindings.createWithNode("paginationInfo",p),__loadMore:t.bindings.createWithNode("loadMore",p)}),a},zw=Uo(pv,lv,cv,dv,uv,mv,hv,gv);function Ww(e,t){let r=new B({motionChild:!0});return zw(e,r,t),r}function $w(e,t){let r=new B;return wv(e,r,t),r}var Hw=new B({placement:void 0,alignment:void 0,offsetX:void 0,offsetY:void 0,className:void 0,anchorRef:void 0,floatingRef:void 0,onDismiss:void 0,portalSelector:void 0,safeArea:void 0,collisionDetection:void 0});function Gw(e,t){if(!np(e))return;if(!Lt(e))return Hw;let r=t.events.overlayState.get(e.originalid??e.id);if(!r)return;let o=t.treeStore.tree.getParent(e.originalid??e.id);if(o)return new B({placement:e.floatingPlacement,alignment:e.floatingAlignment,offsetX:e.floatingOffsetX,offsetY:e.floatingOffsetY,anchorRef:t.rootId===o.id?u`${x.refBinding}`:t.elementIds.ref(o),onDismiss:u`${Xs(r,"hide")}`,safeArea:e.floatingSafeArea??!0,zIndex:vm(e)?e.zIndex:void 0,collisionDetection:e.floatingCollisionDetection??!1,collisionDetectionPadding:e.floatingCollisionDetection?e.floatingCollisionPadding??op:void 0,[oc]:t.elementIds.portalId(e),className:v.fn(t.imports.addImport("framer",{exportSpecifier:"cx"}),ol(t),t.scopeType==="SmartComponent"?x.classNames:void 0)})}function Rv(e,t){let r=t.fetches.getFetchesForNode(e);return new B({requests:r??[],disabled:t.scopeType==="SmartComponent"?x.isLoading:void 0})}function Uw(e,t){if(!U(e))return;let r=new B;if(P.reactComponentForIdentifier(e.codeComponentIdentifier)?.annotations?.framerComponentViewportWidth==="true"){let i=t.simulatedDOM.getComponentViewportContext(e);Object.assign(r,i)}return r}function Cd(e,t,r,o,{className:n,style:i}={}){let a=Ow(e,t,o,r,{style:i,className:n}),s=$w(e,t),l=Gw(e,t);if(mo(e)&&vr(e)){let c=Ew(e,t,r,o),m=Rv(e,t);return{container:a,transition:s,floating:l,fetcher:m,element:c,componentViewport:Uw(e,t)}}return{element:a,transition:s,floating:l,link:Ww(e,t),fetcher:Rv(e,t)}}var jw=["onTap","onTapStart","onClick","onMouseDown","onMouseUp"],_w=(e,t)=>{if(!jr(t)||!rf(e,t))return!1;let r=t.getActions(P);return jw.some(o=>{if(o in r){let n=r[o];return n?n.length>0:!1}return!1})},Mv=_e((e,t,r)=>{if(!Tm(e)||xr(e))return;if(k(e.cursor)&&J(r)){t.cursor=r.cssVariableDefinitions.create(e,"cursor");return}if(e.cursor&&bm(e.cursor)){t.cursor=e.resolveValue("cursor",r?.variableOverrides),qe(e)&&e.hasLinks()&&(t.cursor=void 0,t[Im]=e.cursor);return}if(!J(r))return;let o=Ft(e)&&r.topLevelVariantsWithGestures[e.id];t.cursor=o||_w(r.treeStore.tree,e)?"pointer":void 0});var Vv=_e((e,t)=>{st(e)&&(t.textDecoration="none")});var Dv=_e((e,t,r)=>{gt(e)&&Co(e)&&r?.renderAsListNodes?.has(e.id)&&(t.listStyle="none",t.margin=0)});var kv=_e((e,t,r)=>{if(!(!qu(e)||!Ra(e))&&Xu(e)){if(k(e.overscrollBehavior)&&J(r)){t.overscrollBehavior=r.cssVariableDefinitions.create(e,"overscrollBehavior");return}t.overscrollBehavior=e.resolveValue("overscrollBehavior",r?.variableOverrides)}});var Pv=_e((e,t)=>{Aa(e)&&(t.scrollMarginTop=G(e.scrollMarginTop)&&e.scrollTargetEnabled&&e.scrollMarginTop>0?e.scrollMarginTop:void 0)});var Fv=_e((e,t,r)=>{if(!wh(e))return;if(k(e.tapHighlightColor)&&J(r)){t.WebkitTapHighlightColor=r.cssVariableDefinitions.create(e,"tapHighlightColor");return}let o=e.resolveValue("tapHighlightColor",r?.variableOverrides);if(Ma(o)){t.WebkitTapHighlightColor=om(o);return}t.WebkitTapHighlightColor=o?gu.toRgbString(o):void 0});var Lv=_e((e,t,r)=>{if(!hs(e))return;let o=e.resolveValue("textSelection");t["--selection-color"]=o?.color,t["--selection-background-color"]=o?.backgroundColor});var Ev=_e((e,t,r)=>{if(Ku(e)){if(k(e.userSelect)&&J(r)){t.userSelect=t.WebkitUserSelect=r.cssVariableDefinitions.create(e,"userSelect");return}t.userSelect=t.WebkitUserSelect=Yu(e)?e.resolveValue("userSelect",r?.variableOverrides):void 0}});var Av=_e((e,t,r)=>{if(!vf(e)||!J(r)||r.scopeType!=="LayoutTemplate")return;let o=r.treeStore?.tree.getParent(e.id);De(o)&&(t.viewTransitionName=e.viewTransitionNone===!0?pd(e,r.serializationId,!0):void 0)});var Ov=_e((e,t,r)=>{let o=Jw(e,r);t.willChange=o}),Bv=`var(${Su}, transform)`;function Jw(e,t){if(ms(t?.scopeType)&&(Lf(e)&&(bf(e)||Tf(e))||t?.scopeType!=="SmartComponent"&&Sf(e)&&yf(e.styleAppearEffectTrigger)==="onMount"))return Bv;if(!wn(e)||!Ra(e)||!Ju(e.overflow))return;let r=bp(e)&&e.radius,o=Cm(e)&&e.radiusPerCorner&&(e.radiusBottomLeft||e.radiusBottomRight||e.radiusTopLeft||e.radiusTopRight);if(r||o)return`var(${yu}, transform)`}var Xw=Uo(jh,Df,sg,Mv,Vh,cg,Dh,Xf,kh,Ph,yg,Bf,Vv,Dv,rh,kv,Dp,Kf,Pv,Lv,Qf,Fv,gg,Zf,sh,ih,Ev,Av,Ov,ch),vd=Uo(Uh,Rp,eh,ag,Mp,th,Jf,Vp,dg,Sg,vg,Cg,Lp,Mf,qf,kp,Pp,oh,nh,Fp,HC),bd=Uo(ah,Yf);function qw(e,t){return nt(e)||ao(e)||U(e)?"relative":Ve(e)?"fixed":Na(e)||Lt(t)?"relative":"absolute"}function Id(e,t,r,o){let n={position:qw(t,e),zIndex:Ve(t)?lh(t,r):void 0,...o},i=r.scopeType==="WebPage"||r.scopeType==="LayoutTemplate"||r.nodeRendersWithMotion?.get(e)===!1,a={};return r.llmSnapshot&&Object.assign(a,n),Xw(e,r.llmSnapshot?a:n,r),vd(e,!r.llmSnapshot&&i?n:a,r),za(e)&&r.scopeType==="SmartComponent"&&Bi(e.html,a),bd(e,a,r),{css:n,style:we(a)?void 0:a}}var Yn={opacity:1,rotate:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundColor:"rgba(0, 0, 0, 0)",boxShadow:"none",filter:"none",WebkitFilter:"none",backdropFilter:"none",WebkitBackdropFilter:"none",mask:"none",WebkitMask:"none",textShadow:"none",scale:1,rotateX:0,rotateY:0,skewX:0,skewY:0,z:0,padding:0};function Kw(){let e={},t={},r={},o={},n={},i={};return[[new Fh({fillEnabled:!0,fillType:"color",fillColor:"rgba(0, 0, 0, 0)",borderWidth:0,borderEnabled:!0,borderColor:"rgba(0, 0, 0, 0)",borderStyle:"solid"}),e],[new ng,t],[new Yh,r],[new fh({codeComponentIdentifier:"framer/Page"}),o],[new tg,n],[new og,i]].forEach(([s,l])=>{vd(s,l,{}),bd(s,l,{})}),{FrameNode:Object.assign(e,Yn),TextNode:Object.assign(t,Yn),RichTextNode:Object.assign(r,Yn),CodeComponentNode:Object.assign(o,Yn),SVGNode:Object.assign(n,Yn),ShapeContainerNode:Object.assign(i,Yn)}}var zv=Kw();function Wv(e,t,r){if(!(!r||N(e.__class)||It(t.style))&&!(!N(t.style)&&!ot(t.style)))for(let o in r){if(N(t.style?.[o])&&N(r[o])||t.style&&o in t.style&&!N(t.style[o])&&!N(r[o]))continue;let n=zv?.[e.__class];if(!n||!(o in n)){N(r[o])&&(r[o]=u`undefined`);continue}let i=n[o];if(N(t.style?.[o])){let a=t.style??{};a[o]=i,t.style=a}N(r[o])&&(r[o]=i)}}function Zo(e,t,r){let o=e.originalid===t?e.id:qm(e.id,t);return r.get(o)}function Yw(e){let t=e.children?.find(n=>co(n));if(!t)return;let r=e.itemsOrder?e.itemsOrder.indexOf(t.originalid??t.id):e.children?.indexOf(t);if(!G(r)||r<0||!e.itemsOrder&&e.children&&r===e.children.length-1)return;let o=new Map;return e.itemsOrder?e.itemsOrder.forEach((n,i)=>{if(n===t.originalid)return;let a=i<r?-1e3:1e3;o.set(n,i+a)}):e.children?.forEach((n,i)=>{if(n===t)return;let a=i<r?-1e3:1e3;o.set(n.originalid??n.id,i+a)}),o}function $v(e,t){if(t==="LayoutTemplate"&&De(e))return Yw(e);let r=e.itemsOrder;if(!r||r.length<1)return;let o=new Map;return r.forEach((n,i)=>{o.set(n,i)}),o}var Qw=e=>(t,r)=>!r||!e?t:{...t,...r[e]};function jv(e,t,r,o){let{combinedVariableControlMap:n}=e.combineVariableControlMap(r.treeStore.tree,o.inheritedControlMap,P,P.activeBundleHash);t&&(Wc(t,e),eR(t,e));let i=Sr(e),a=o.subqueries;Le(e)&&mt(e)?a=new Zs(e,i?void 0:o.subqueries):Xo(e)&&(a=void 0);let s=r.scopeType==="WebPage",l=r.scopeType==="SmartComponent",c=o.inCodeOverride||!N(el(e,r))||tl(e,r).length>0,m=r.treeStore.tree.get(o.lastRepeaterId),d=r.kitSectionsStructure.addSection(e),p={isAnyVariantAnImage:Tt(e),isAnyVariantALink:st(e)&&!at(e),isAnyVariantAnEffect:Dc(e,r.scopeType),isAnyVariantAVariantAppearEffect:Mc(e),isAnyVariantATickerEffect:go(e),isAnyVariantARef:s&&Ho(e)||Lt(e)||U(e)&&Le(m)&&jo(e,m),isAnyVariantATransitionOverride:l&&(Rc(e)||mc(e)),isAnyVariantOptimizedAppearEffect:Vc(e,r),itemsOrderOverrides:{},hiddenInVariants:new Set(o.hiddenInVariants),inCodeOverride:c,inheritedControlMap:n,isAnyVariantFloating:Lt(e),isAnyVariantPaginated:i,identifiers:U(e)?new Set([Gv(e)]):void 0,subqueries:a,kitSectionId:d};r.trackingIds.add(e),r.kitSectionsStructure.addCustomizations(e,o.kitSectionId),Vr(e)&&r.formIds.add(e.id),r.scopeType==="LayoutTemplate"&&Wa(e)&&De(e)&&(p.itemsOrderOverrides[e.id]=$v(e,r.scopeType));let f=fd(e,r),h=new Map,y=hd(e,r,o,c),b=[],S=lc(e);for(let K of r.variants){let E=Zo(K,e.id,r.treeStore.tree);if(!E)continue;E.combineVariableControlMap(r.treeStore.tree,o.inheritedControlMap,P,P.activeBundleHash);let ie=r.treeStore.tree.getParent(E.id);if(p.hiddenInVariants.has(K.id))continue;ie&&Wc(ie,E);let xe=Hv(K),Xe=fd(E,r);if(!vt(Xe,h.get(K.replicaInfo?.inheritsFrom??"")??f)){let Ae=xr(K);h.set(xe,{value:Xe,isGesture:Ae})}else(r.scopeType==="WebPage"||r.scopeType==="LayoutTemplate")&&f!==!0&&h.set(xe,{value:f});if(Xe===!1){p.hiddenInVariants.add(K.id);continue}st(E)&&!at(E)&&(p.isAnyVariantALink=!0),Tt(E)&&(p.isAnyVariantAnImage=!0),Dc(E,r.scopeType)&&(p.isAnyVariantAnEffect=!0),Mc(E)&&(p.isAnyVariantAVariantAppearEffect=!0),Vc(E,r)&&(p.isAnyVariantOptimizedAppearEffect=!0),go(E)&&(p.isAnyVariantATickerEffect=!0),Sr(E)&&(p.isAnyVariantPaginated=!0),U(E)&&p.identifiers?.add(Gv(E)),r.trackingIds.add(E);let et=lc(E);if(et){S||=et;let{stops:Ae,info:Wt}=et;S.stops=Math.max(S?.stops,Ae??0),S.info||=Wt}r.scopeType==="WebPage"?Ho(E)&&(p.isAnyVariantARef=!0):r.scopeType==="SmartComponent"&&($f(E)&&(p.isAnyVariantAnEffect=!0),(Rc(E)||mc(E))&&(p.isAnyVariantATransitionOverride=!0)),dp(E)&&(p.itemsOrderOverrides[K.id]=$v(E,r.scopeType)),y=y||hd(E,r,o,c),b.push({nodeInVariant:E,variant:K})}N(S)||r.nodesWithAnyGradientFill.set(e.id,S);let{condition:I,classNames:T,classNameExpressions:R}=r.renderFunctions.create(f,h);if(I===!1)return;r.nodeRendersWithMotion.set(e,y);let M=e.parentid?r.renderAsListNodes.get(e.parentid):!1;Co(e)&&uf(e.htmlTag)&&!M&&r.renderAsListNodes.set(e.id,!0);let F=o?.itemsOrderOverrides?.[r.rootId],{css:j,style:z}=Id(e,t,r,F?{order:Uv(e,F)}:void 0),ee=vr(e),oe=WC(e,t,r),ve=r.css.addRule(j,e,{container:ee,hasScopingSelector:oe}),D=Cd(e,r,p,o,{className:ve,style:z});r.hitTargets.recordClassName(e,r.rootId,ve);let ne={link:void 0,container:void 0,element:void 0,floating:void 0,transition:void 0,fetcher:void 0,componentViewport:void 0},Q={variants:void 0,css:void 0};if(qe(e))for(let K of e.getStylePresetsForCodeGeneration(r.treeStore.tree))r.css.addSharedStyle(K.id);let de=ee?D.container:D.element;g(!N(de),"Target will always be defined if the node needs a container");for(let{nodeInVariant:K,variant:E}of b){let ie=Hv(E);if(r.hitTargets.recordClassName(K,E.id,ve),qe(K))for(let ze of K.getStylePresetsForCodeGeneration(r.treeStore.tree))r.css.addSharedStyle(ze.id);let xe=r.treeStore.tree.getParent(K.id),{itemsOrderOverrides:Xe}=o,zt=Xe?.[E.id],et=Id(K,xe,r,zt?{order:Uv(e,zt)}:void 0),Ae=Qw(E.replicaInfo?.inheritsFrom),Wt=Yr(et.css,Ae(j,Q.css),"css");if(Wt){let ze=xr(E);Q.css||(Q.css={}),Q.css[E.id]=Wt,r.css.addRule(Wt,K,{variant:E,hasScopingSelector:oe,container:ee,gesture:ze?E.gesture:void 0,scope:ze?E.replicaInfo?.inheritsFrom:r.scopeType==="SmartComponent"?E.id:void 0})}r.scopeType==="SmartComponent"&&Wv(K,de,et.style);let cr=Cd(K,r,p,o,{className:ve,style:de.style}),br=Yr(et.style,Ae(z,Q.variants));if(br)if(r.scopeType==="SmartComponent"||r.llmSnapshot)Q.variants||(Q.variants={}),Q.variants[ie]=br;else{let ze=ee?"container":"element";ne[ze]=tR(et.style,ne[ze],ie)}let _t;for(_t in cr){let ze=Yr(cr[_t],Ae(D[_t],ne[_t]),"js");if(!ze)continue;ne[_t]||(ne[_t]={[ie]:{}});let te=ne[_t][ie];ne[_t][ie]=ot(te)?Object.assign(te,ze):ze}}let me=new Set(T);p.isAnyVariantALink&&me.add(r.linkClassName);let Ie=new v.Set(R),Je=p.isAnyVariantARef||r.events.relativeOverlayPrimaryTriggers.has(e.id);return B.assign(de,{variants:Q.variants,className:Zw(de.className,me,Ie,r.imports),ref:de.ref??(Je?r.elementIds.ref(e):de.ref),[$u]:p.isAnyVariantOptimizedAppearEffect?r.appearIds.create(e.id):void 0}),r.renderConditions.set(e.id,I),{...p,propsForLink:{props:D.link,overrides:ne.link},propsForElement:{props:D.element,overrides:ne.element},propsForContainer:{props:D.container,overrides:ne.container},propsForTransition:{props:D.transition,overrides:ne.transition},propsForFetcher:{props:D.fetcher,overrides:ne.fetcher},renderCondition:I,propsForFloating:{props:D.floating,overrides:ne.floating},propsForComponentViewport:{props:D.componentViewport,overrides:ne.componentViewport}}}function Zw(e,t,r,o){if(t.size===0&&r.size===0)return e;if(r.size===0){let n=Array.from(t).join(" ");return e?he`${e} ${n}`:n}else{let n=o.addImport("framer",{exportSpecifier:"cx"});return e?v.fn(n,e,...t,...r):v.fn(n,...t,...r)}}function eR(e,t){t.cache.ancestorRepeaterIds=Es(e,e.cache.ancestorRepeaterIds??[])}function Hv(e){return xr(e)?`${e.replicaInfo.inheritsFrom}-${e.gesture}`:e.id}function tR(e,t,r){let o=t??{};return o[r]=o[r]??{},o[r].style=o[r].style??{},Object.assign(o[r].style,e),o}function _v(e,t,r){let o={background:"transparent",height:0,width:0,position:"relative",flexGrow:1,margin:0,marginBottom:On(t,r)};for(let n of r.variants){let i=Zo(n,e.id,r.treeStore.tree);if(!i)continue;let a=Yr({...o,marginBottom:On(n,r)},o);!a||we(a)||r.css.addRule(a,i,{variant:n})}return r.css.addRule(o,e)}function Gv(e){return gn(e)?Np:e.codeComponentIdentifier}function Uv(e,t){return t.get(e.id)??t.size}var nl=class{constructor(){w(this,"cssWidthCache",new Map);w(this,"heightCache",new Map);w(this,"yPositionCache",new Map);w(this,"verticalStackLayoutInfoCache",new Map);w(this,"gridLayoutInfoCache",new Map);w(this,"computationCache",new Map);w(this,"testing",{getCSSWidthCache:()=>this.cssWidthCache,getHeightCache:()=>this.heightCache})}getCSSWidth(t){return this.cssWidthCache.get(t)}setCSSWidth(t,r){this.cssWidthCache.set(t,r)}getHeight(t){return this.heightCache.get(t)}setHeight(t,r){this.heightCache.set(t,r)}getYPosition(t){return this.yPositionCache.get(t)}setYPosition(t,r){this.yPositionCache.set(t,r)}getVerticalStackLayoutInfo(t){return this.verticalStackLayoutInfoCache.get(t)}setVerticalStackLayoutInfo(t,r){this.verticalStackLayoutInfoCache.set(t,r)}getGridLayoutInfo(t){return this.gridLayoutInfoCache.get(t)}setGridLayoutInfo(t,r){this.gridLayoutInfoCache.set(t,r)}memo(t,r){if(this.computationCache.has(t))return this.computationCache.get(t);let o=r();return this.computationCache.set(t,o),o}};var Td=class{constructor(){w(this,"heightNodes",new Set)}startComputingHeightFor(t){this.heightNodes.add(t)}isComputingHeightFor(t){return this.heightNodes.has(t)}finishComputingHeightFor(t){this.heightNodes.delete(t)}};function rR(e,t){return(r,o,n=void 0)=>{if(kt(r))return t.createComputedValue(r,o,n);if(ue(r))return e.create(r);Dt(r,"all dynamic values should be handled above")}}function Jv(e,t,r){return{tree:e,cache:new nl,workInProgress:new Td,getVariableBinding:rR(t,r)}}var X=class extends Error{};function q(e,t){let r=Math.round(e*1e4)/1e4;return{type:"css-const",expr:t?`${r}${t}`:`${r}`,value:e,unit:t}}var il={"+":"-","-":"+","*":"/","/":"*"};function ge(e,t,r){if(t.type==="css-const"&&r.type==="css-const"){if(t.unit===r.unit){if(e==="+")return q(t.value+r.value,t.unit);if(e==="-")return q(t.value-r.value,t.unit);if(e==="min")return q(Math.min(t.value,r.value),t.unit);if(e==="max")return q(Math.max(t.value,r.value),t.unit)}else if(Qn(e)&&(t.value===0||r.value===0))return r.value!==0?r:t;if(e==="*"&&(!t.unit||!r.unit))return q(t.value*r.value,t.unit||r.unit);if(e==="/"&&!r.unit)return q(t.value/r.value,t.unit)}if(Qn(e)){if(r.type==="css-const"&&r.value===0)return t;if(t.type==="css-const"&&t.value===0)return r}else if(al(e)){if(r.type==="css-const"&&r.value===1)return t;if(t.type==="css-const"&&t.value===1)return r}else if(e==="min"||e==="max"){if(t.type==="css-op"&&t.op===e&&Xv(t,r))return t;if(r.type==="css-op"&&r.op===e&&Xv(r,t))return r;if(vt(t.expr,r.expr))return t}t.type==="css-op"&&t.right.type==="css-const"&&(Qn(e)&&Qn(t.op)?(r=ge(e==="+"?t.op:il[t.op],r,t.right),t=t.left):al(e)&&al(t.op)&&(r=ge(e==="*"?t.op:il[t.op],r,t.right),t=t.left));let o;if(Qn(e))r.type==="css-const"&&r.value<0&&(e=il[e],r=q(-r.value,r.unit)),e==="+"?o=he`${en(t)} + ${r.expr}`:e==="-"?r.type==="css-op"&&!sl(r.op)?o=he`${en(t)} - (${r.expr})`:o=he`${en(t)} - ${en(r)}`:Dt(e);else if(al(e)){if(r.type==="css-const"&&r.value<1){let n=q(1/r.value,r.unit);n.expr.length<r.expr.length&&(e=il[e],r=n)}e==="/"&&r.type==="css-op"&&!sl(r.op)?o=he`${en(t)} / (${r.expr})`:o=he`${en(t)} ${e} ${en(r)}`}else sl(e)?o=he`${e}(${t.expr}, ${r.expr})`:Dt(e,`unhandled op ${e}`);return{type:"css-op",expr:o,op:e,left:t,right:r}}function ll(e){switch(e.type){case"number-const":return q(e.value,"px");case"number-template":return Ro(e.expr);default:Dt(e)}}function Ro(e){return{type:"css-template",expr:e}}function Qn(e){return e==="+"||e==="-"}function al(e){return e==="*"||e==="/"}function sl(e){return e==="min"||e==="max"}function Xv(e,t){return vt(e.left.expr,t.expr)||vt(e.right.expr,t.expr)}function en(e){return e.type==="css-op"&&Qn(e.op)?he`(${e.expr})`:e.expr}function cl(e){return e.type==="css-template"||e.type==="css-const"||e.type==="css-op"&&sl(e.op)?e.expr:he`calc(${e.expr})`}function oR(e,t,r,o,n,i){let a=t??kf;if(!i)return!0;let s=e.filters.filter(l=>{if(!l.itemKey)return!1;let c=i.properties[l.itemKey];return!(!c||c.type!=="boolean"&&l.transforms.length===0)});return s.length===0?!0:s[a==="all"?"every":"some"](l=>{let c=l.itemKey;g(c!==null,"itemKey should not be null");let m=i.properties[c];g(m,"control should exist");let d=r(c),p=o.getVariableControlByKey(c);return l.transforms.reduce((f,h)=>Dm(f,h,o,n,p,void 0,void 0),d)})}function qv(e,t,r,o,n,i){return e?r.filter(a=>oR(e,t,s=>a[s],o,n,i)):r}function nR(e,t){return t?Array.from(e).reverse():e}function iR(e,t){if(t===void 0||t===0)return e;let r=Array.from(e);return r.splice(0,t),r}function aR(e,t){return e.length<=t?e:e.slice(0,t)}function Kv(e,t,r,o,n=15){if(n&1&&(t=qv(e.collectionFilters,e.collectionFiltersOperator,t,e.cache,r,o)),n&2&&(t=nR(t,e.collectionReverse)),n&4&&(t=iR(t,e.collectionStartOffset)),n&8){let i=e.collectionLimit??1/0,a=e.collectionPaginationPageSize??1/0,s=Math.min(i,a);t=aR(t,s)}return t}var Kt=1e3,Yv=Symbol("Affects Layout: Indeterminate");function dl(e){return e===Yv}function Qr(e,t,r,o){return Nt(e)||Ga(e,t)&&Go(e)||Ha(r,e)&&nr(e)||xi(e)&&e.visible===!1?!1:xi(e)&&k(e.visible)?o?e.isVisible():Yv:!0}function Qe(e){if(!vi(e))return 0;if(k(e.padding))throw new X;return e.paddingPerSide?e.paddingTop??0:e.padding??0}function Bt(e){if(!vi(e))return 0;if(k(e.padding))throw new X;return e.paddingPerSide?e.paddingBottom??0:e.padding??0}function Ut(e){return k(e)?0:e??0}var sR=[];function Mo(e){let t=(Wa(e)?e.getChildrenInVisualOrder():e.children)??sR;if(Le(e)){let r=e.collectionRepeatedItemId?t.findIndex(i=>i.id===e.collectionRepeatedItemId):0,o=t[r];if(!o)return t;let n=lR(e);return t.slice(0,r).concat(Array(n).fill(o)).concat(t.slice(r+1))}return t}function lR(e){if((e.collectionFilters?.filters?.length??0)>0)return 1;let t=P.dataForIdentifier(e.dataIdentifier),r=pm(void 0,t),o=Object.keys(r).length,n=Array(o).fill({});return Kv(e,n,void 0,t,14).length}function Oi(e){let t=e.resolveValue("fillImage"),r=Ru(t)?t.src:t;if(!r)return;let o=Xp(r);if(!(!o||!Number.isFinite(o.width)||!Number.isFinite(o.height)||o.width<=0||o.height<=0))return o.width/o.height}function ul(e,t){let r=e.widthType===0,o=fo(e)&&e.usesDOMRectCached()&&e.cache.getRawDOMRect(e.id)!==null;if(!(!r&&!o))return t.tree.getRect(e).width}var Zv=";";function xd(e,t){return`${e}${Zv}${t}`}function cR(e){let[t,r]=e.split(Zv);return g(r!==void 0,"parseCellCoordinate(), satisfying TypeScript: columnIndex must exist: "+e),[Number(t),Number(r)]}function Qv(e,t,r,o){let n=0;for(let i=0;i<r;i++){let a=xd(t,i);if(e.has(a)){n=0;continue}if(n++,n!==o)continue;let l=i-(o-1);return g(l>=0,"getColumnIndexForItem(), column index should be at least 0"),l}return-1}function dR(e,t,r,o,n,i,a){let s=o+(i-1);g(a>s,"fillCellsForItem(), column count has to be larger than maxColumnIndex");let l=r+(n-1);for(let c=o;c<=s;c++)for(let m=r;m<=l;m++){let d=xd(m,c);t.set(d,e)}}function uR(e,t){return!Wo(e)||k(e.gridItemColumnSpan)?1:e.gridItemColumnSpan==="all"?t:Math.min(e.gridItemColumnSpan??1,t)}function ml(e,t){return!Wo(e)||t.gridRowHeightType==="fit"||k(e.gridItemRowSpan)?1:e.gridItemRowSpan??1}var Nd=class{constructor(t,r,o,n){this.gridLayout=t;this.rowCount=r;this.columnCount=o;this.filledRowCount=n;w(this,"coordinateCache")}getGridItem(t,r){let o=xd(t,r);return this.gridLayout.get(o)??null}findCoordinates(t){if(!this.coordinateCache){this.coordinateCache=new Map;for(let[r,o]of this.gridLayout){let[n,i]=cR(r),a=this.coordinateCache.get(o);(!a||n<a.rowIndex||i<a.columnIndex)&&this.coordinateCache.set(o,{rowIndex:n,columnIndex:i})}}return this.coordinateCache.get(t)??null}isEmpty(){return this.gridLayout.size===0}};function eb(e,t){let r=e.gridColumnCount;if(!G(r))return null;let o=new Map,n=0,i=-1;for(let l of Mo(e)){if(!Qr(l,e,t,!0))continue;let c=uR(l,r),m=ml(l,e),d=Qv(o,n,r,c);for(;d===-1;)n++,d=Qv(o,n,r,c);dR(l.id,o,n,d,m,c,r);let p=n+(m-1);i=Math.max(i,p)}let a=i+1,s=Math.max(e.gridRowCount??0,a);return new Nd(o,s,r,a)}function tn(e,t){let r=t.cache.getGridLayoutInfo(e.id);if(r)return r;let o=eb(e,t.tree);if(o===null)throw new X;return t.cache.setGridLayoutInfo(e.id,o),o}function cJ(e,t){return eb(e,t)?.filledRowCount}var mR={type:"number-const",value:0},pR={type:"number-const",value:1/0},fR={type:"number-const",value:Kt};function _(e){return e===0?mR:e===1/0?pR:e===Kt?fR:{type:"number-const",value:SR(e)}}function V(e,...t){return pl(e,0,t.length,t)}function pl(e,t,r,o){Ao(0<=t&&t<=r&&r<=o.length,"start and end must be within the bounds of operands");let n=r-t;if(n===0)return null;if(n===1){let c=o[t];return ma(c)?_(c):c}let{hasTemplateOperands:i,operationResult:a}=hR(t,r,o,e);if(!i)return _(a);let s=gR(t,r,o),l=e==="min"||e==="max"?v.fn(u`Math.${new v(e)}`,...s):new v(`(${re(s,` ${e} `)})`);return zi(l,a,!0)}function hR(e,t,r,o){let n=!1,i;for(let a=e;a<t;a++){let s=r[a],l;ma(s)?l=s:s.type==="number-const"?l=s.value:s.type==="number-template"?(n=!0,l=Ot(s)):Dt(s),N(i)?i=l:i=yR(o,i,l)}return Ao(i!==void 0,"resultEstimate must be computed after walking over all operands"),{hasTemplateOperands:n,operationResult:i}}function gR(e,t,r){let o=[];for(let n=e;n<t;n++){let i=r[n];ma(i)?o.push(u`${i}`):i.type==="number-const"?o.push(u`${i.value}`):o.push(i.expr)}return o}function zi(e,t,r=!1){return{type:"number-template",expr:r?e:u`(${e})`,impreciseEstimate:t}}function yR(e,t,r){switch(e){case"+":return t+r;case"-":return t-r;case"*":return t*r;case"/":return t/r;case"min":return Math.min(t,r);case"max":return Math.max(t,r);default:Dt(e)}}function SR(e){return Math.round(e*1e4)/1e4}function Ot(e){return e.type==="number-const"?e.value:e.impreciseEstimate}var wd=class{constructor(t,r,o,n,i){this.columns=t;this.nodeToAccurateCoordinateMap=r;this.nodeToRoughCoordinateMap=o;this.gap=n;this.contentHeight=i;w(this,"frToPxCache",new Map)}walkColumn(t,r){if(this.columns[t])for(let o of this.columns[t])r(o.nodeId)}getStackItem(t,r){return this.columns[t]?.[r]?.nodeId??null}findCoordinates(t){return this.findAccurateCoordinates(t)??this.findRoughCoordinatesOfConditionallyVisibleNode(t)}findAccurateCoordinates(t){return this.nodeToAccurateCoordinateMap.get(t)??null}findRoughCoordinatesOfConditionallyVisibleNode(t){return this.nodeToRoughCoordinateMap.get(t)??null}getFrToPxForColumn(t){let r=this.columns[t];if(!r)return null;if(!this.frToPxCache.has(t)){let o=[],n=[];for(let m of r)m.type==="regular"?o.push(m):m.type==="fr"?n.push(m):Dt(m);let i=o.reduce((m,d)=>V("+",m,d.getHeight()),_(0)),a=this.gap*(r.length-1),s=V("-",this.contentHeight,V("+",i,a)),l=n.reduce((m,d)=>m+d.frUnits,0),c=V("/",s,Math.max(l,1));for(n=n.sort((m,d)=>Ot(d.getMinHeightPerFr())-Ot(m.getMinHeightPerFr()));n[0]&&Ot(n[0].getMinHeightPerFr())>Ot(c);)s=V("-",s,n[0].getMinHeight()),l-=n[0].frUnits,c=V("/",s,Math.max(l,1)),n.shift();for(n=n.sort((m,d)=>Ot(m.getMaxHeightPerFr())-Ot(d.getMaxHeightPerFr()));n[0]&&Ot(n[0].getMaxHeightPerFr())<Ot(c);)s=V("-",s,n[0].getMaxHeight()),l-=n[0].frUnits,c=V("/",s,Math.max(l,1)),n.shift();this.frToPxCache.set(t,V("max",_(0),c))}return this.frToPxCache.get(t)??null}};function fl(e,t,r,o,n){let i=t.cache.getVerticalStackLayoutInfo(e.id);if(i)return i;let a=CR(e,t,r,o,n);return t.cache.setVerticalStackLayoutInfo(e.id,a),a}function CR(e,t,r,o,n){let i=Rd(e),a=St(i),s=V("-",r(e),Qe(e)+Bt(e)),l=Ot(s),c=new Map,m=new Map,d=[],p=0;for(let f of Mo(e)){if(!(Ke(f)&&ct(f)))continue;let h=Qr(f,e,t.tree,!1);if(h===!1)continue;if(dl(h)){m.set(f.id,{columnIndex:Math.max(d.length-1,0),columnItemIndex:Math.max(d[d.length-1]?.length??0,0)});continue}let y=vR(f,t,r,o,n);if(e.stackWrapEnabled){let S=Ot(y.type==="fr"?y.getMinHeight():y.getHeight());Math.ceil(p+a+S)>Math.ceil(l)||d.length===0?(d.push([y]),p=S):(d[d.length-1].push(y),p+=a+S)}else d[0]=d[0]??[],d[0].push(y);c.set(f.id,{columnIndex:d.length-1,columnItemIndex:d[d.length-1].length-1})}return new wd(d,c,m,a,s)}function vR(e,t,r,o,n){if(e.heightType===3){let i={nodeId:e.id,type:"fr",frUnits:e.height,getMinHeight:()=>t.cache.memo(`stack-getMinHeight-${e.id}`,()=>o(e)),getMaxHeight:()=>t.cache.memo(`stack-getMaxHeight-${e.id}`,()=>n(e)),getMinHeightPerFr:()=>t.cache.memo(`stack-getMinHeightPerFr-${e.id}`,()=>V("/",i.getMinHeight(),i.frUnits)),getMaxHeightPerFr:()=>t.cache.memo(`stack-getMaxHeightPerFr-${e.id}`,()=>V("/",i.getMaxHeight(),i.frUnits))};return i}else return{nodeId:e.id,getHeight:()=>t.cache.memo(`stack-getHeight-${e.id}`,()=>r(e)),type:"regular"}}function Rd(e){return ba(e)?Ut(e.gap):0}function tb(e,t){if(e.textFitViewBoxSize)throw new X;let r=e.widthType!==2,o=0;for(let[n,i]of e.getProsemirrorTextBlocks(!1).entries()){let a,[s,l]=TR(i,t);if(l==="px")a=s;else{let d=l==="%"?s/100:s;a=bR(i,t)*d}let c=0;n>0&&(c=NR(i,e,t)??0);let m=1;if(r){let d=i.attrs.tag;d==="h1"||d==="h2"||d==="h3"||d==="h4"||d==="h5"||d==="h6"?m=1:d==="p"||d==="div"?m=5:Dt(d)}o+=c+a*m}return o}function bR(e,t){let r=IR(e,t);return e.descendants(o=>{if(!Ea(o))return;let i=o.marks.find(ho)?.attrs.inlineStyles.fontSize;if(k(i))throw new X;if(N(i))return;let[a,s="px"]=cc(i)?i:[i],l=dc(a,s,"px");l>r&&(r=l)}),r}function IR(e,t){if(Ur(e)){let r=e.attrs.textStylePreset,o=t.getNodeWithTrait(r,lo);if(o){let[n,i]=Si(o.fontSize)?po(o.fontSize):[o.fontSize,"px"];return i==="rem"?fu(n*ka,0):n}}if(!N(e.attrs.inlineStyles.fontSize)){let r=e.attrs.inlineStyles.fontSize;if(k(r))throw new X;let[o,n="px"]=cc(r)?r:[r];return dc(o,n,"px")}return po(uc.fontSize)[0]}function TR(e,t){if(Ur(e)){let r=e.attrs.textStylePreset,o=t.getNodeWithTrait(r,lo);if(o)return o.lineHeight}return N(e.attrs.blockStyles.lineHeight)?uc.lineHeight:e.attrs.blockStyles.lineHeight}function NR(e,t,r){if(Ur(e)){let o=e.attrs.textStylePreset,n=r.getNodeWithTrait(o,lo);if(n)return n.paragraphSpacing}return t.paragraphSpacing}var xR=fe("simulateHeight"),wR=200;function rb(e,t){try{let r=Ce(e,t);return r.type==="number-const"?r.value:r.expr}catch(r){if(r instanceof X)return;xR.reportError(r,{nodeId:e.id});return}}function Ce(e,t){let r=t.cache.getHeight(e.id);if(r!==void 0)return r;if(t.workInProgress.isComputingHeightFor(e.id))throw new Error("Detected a circular walk in simulateHeight(): we\u2019re entering a node which is already being computed. This would result in a call stack overflow. Exiting early.");let o;try{t.workInProgress.startComputingHeightFor(e.id),o=RR(e,t)}finally{t.workInProgress.finishComputingHeightFor(e.id)}return t.cache.setHeight(e.id,o),o}function RR(e,t){if(!Fn(e))throw new X;let r=t.tree.getNodeParent(e);if(Ve(e))return _(Kt);if(g(Ke(e)&&ct(e),"Can\u2019t calculate the height on a node when it doesn\u2019t have size information"),vn(e)){let n=t.tree.getRect(e).height;return zi(u`${x.componentViewport}?.height || ${n}`,n)}if(yc(e))return Oe.startFromRowHeightMultipliedBySpan(e,t).getWithConstraints();if(!Rn(e,r)&&gt(e)&&e.top!==null&&e.bottom!==null)return(nr(e)?Oe.startFromFixedValue(_(Kt),e,t):Oe.startFromParentOuterHeight(e,t)).op((i,a)=>{let s=a.top,l=a.bottom;return g(s!==null&&l!==null,"Satisfying TypeScript"),V("-",i,_(s+l))}).getWithConstraints();if(e.heightType===0)return Oe.startFromFixedValue(_(e.height),e,t).getWithConstraints();if(e.heightType===1){g(r,"A node can\u2019t have a % height without a parent");let n;return nr(e)?n=Oe.startFromFixedValue(_(Kt),e,t):Go(e)?n=Oe.startFromParentOuterHeight(e,t):Pt(r)&&Wo(e)?n=Oe.startFromRowHeightMultipliedBySpan(e,t):n=Oe.startFromParentInnerHeight(e,t),n.op((i,a)=>V("*",i,_(a.height))).getWithConstraints()}if(e.heightType===4)return Oe.startFromFixedValue(_(e.height*Kt),e,t).getWithConstraints();if(e.heightType===3){if(g(!Go(e)&&!nr(e),"FractionOfFreeSpace height is not supported for fixed or absolute node"),g(r,"A node can\u2019t have a fractional height without a parent"),!Hr(r)&&Pt(r)){let n=hl(e,t);if(!n)throw new X;return n}if(g(Hr(r),"A node can have a fractional height only if it\u2019s inside a stack"),g(r.stackDirection,"A stack must have a direction defined"),k(r.stackDirection))throw new X;if(r.stackDirection==="horizontal")return Oe.startFromParentInnerHeight(e,t).op((n,i)=>V("*",n,_(i.height))).getWithConstraints();if(r.stackDirection==="vertical"){g(Ke(r)&&ct(r),"A stack must have a size and size-dimension type");let n=fl(r,t,l=>Ce(l,t),l=>gl(l,t),l=>yl(l,t)),i=n.findCoordinates(e.id);g(i,"Node must be found in stack");let a=n.getFrToPxForColumn(i.columnIndex);g(a,"frHeight must be available for column");let s=V("*",a,_(e.height));return Oe.startFromFixedValue(s,e,t).getWithConstraints()}W(r.stackDirection)}if(e.heightType===2){let n=hl(e,t);if(!n)throw new X;return n}if(e.heightType===5){if(!Tt(e))throw new X;let n=Oi(e),i=ul(e,t),a=N(i)||N(n)?e.height:Math.round(i*(1/n));return Oe.startFromFixedValue(_(a),e,t).getWithConstraints()}W(e.heightType)}var Zr,Wi,Zn,$i,Yt,Md,Vd,ob,Dd,jt=class jt{constructor(t,r,o,n){H(this,Zr);H(this,Wi);H(this,Zn);H(this,$i);se(this,Zr,t),se(this,Wi,r),se(this,Zn,o),se(this,$i,n)}static startFromFixedValue(t,r,o){return new jt(t,()=>{var i,a;let n=o.tree.getNodeParent(r);if(g(n,"Can\u2019t calculate the parent height on a node without a parent"),g(Ke(n)&&ct(n),"Can\u2019t calculate the parent height on a node when a parent doesn\u2019t have size information"),Pt(n)){let s=tt(i=jt,Yt,Md).call(i,r,n,o);return tt(a=jt,Yt,Vd).call(a,s,r,n)}else return Ce(n,o)},r,o)}static startFromParentOuterHeight(t,r){let o=r.tree.getNodeParent(t);g(o,"Can\u2019t call startFromParentOuterHeight() on a node without a parent");let n=Ce(o,r);return new jt(n,()=>n,t,r)}static startFromParentInnerHeight(t,r){let o=r.tree.getNodeParent(t);g(o,"Can\u2019t call startFromParentInnerHeight() on a node without a parent");let n=V("-",Ce(o,r),Qe(o)+Bt(o));return new jt(n,()=>n,t,r)}static startFromRowHeightMultipliedBySpan(t,r){var a,s;let o=r.tree.getNodeParent(t);g(o&&Pt(o),"Can\u2019t call startFromColumnHeightMultipliedBySpan() if the node isn\u2019t inside a grid");let n=tt(a=jt,Yt,Md).call(a,t,o,r),i=tt(s=jt,Yt,Vd).call(s,n,t,o);return new jt(i,()=>i,t,r)}op(t){return se(this,Zr,t(C(this,Zr),C(this,Zn))),this}getWithConstraints(){var t;return se(this,Zr,tt(t=jt,Yt,ob).call(t,C(this,Zr),C(this,Zn),C(this,$i),C(this,Wi))),C(this,Zr)}};Zr=new WeakMap,Wi=new WeakMap,Zn=new WeakMap,$i=new WeakMap,Yt=new WeakSet,Md=function(t,r,o){if(g(r.gridRowHeightType!==void 0,"A grid node must have gridRowHeightType defined"),r.gridRowHeightType==="fixed")return g(r.gridRowHeight!==void 0,"A fixed-height grid node must have gridRowHeight defined"),_(r.gridRowHeight);if(r.gridRowHeightType==="fit"){let n=tn(r,o);if(n.isEmpty())return _(0);let i=n.findCoordinates(t.id);g(i,"Node must be found in the grid layout");let a=i.rowIndex;return nb(o,n,a)}else if(r.gridRowHeightType==="auto"){let n=Ce(r,o),i=V("-",n,Qe(r)+Bt(r)),a=tn(r,o).rowCount,s=Ut(r.gap),l=St(s),c=(a-1)*l;return V("/",V("-",i,c),a)}else W(r.gridRowHeightType)},Vd=function(t,r,o){let n=ml(r,o),i=Ut(o.gap),a=St(i);return V("+",V("*",t,n),a*(n-1))},ob=function(t,r,o,n){var a,s;let i=t;return yo(r)&&(r.maxHeight&&(i=tt(a=jt,Yt,Dd).call(a,"maxHeight",i,r,o,n)),r.minHeight&&(i=tt(s=jt,Yt,Dd).call(s,"minHeight",i,r,o,n))),i},Dd=function(t,r,o,n,i){let a=t==="minHeight"?"max":"min",[s,l]=Ti(o[t]);if(l==="%"){let c=n.tree.getNodeParent(o);if(g(c,"parentNode must exist for a node with percentage min-max heights"),ct(c)&&c.heightType===2)return r;let m=i();return V(a,r,V("*",m,s/100))}else{if(l==="px")return V(a,r,s);if(l==="vh")return V(a,r,Kt*s/100);W(l)}},H(jt,Yt);var Oe=jt;function hl(e,t){return t.cache.memo(`autoHeight-${e.id}`,()=>MR(e,t))}function MR(e,t){if(qe(e)){let r=tb(e,t.tree);return Oe.startFromFixedValue(_(r),e,t).getWithConstraints()}if(U(e)){let r=e.getIntrinsicSize(P).height??wR;return Oe.startFromFixedValue(_(r),e,t).getWithConstraints()}if(Hr(e)){if(g(e.stackDirection,"A stack must have a direction defined"),k(e.stackDirection))throw new X;if(e.stackDirection==="horizontal"){if(e.stackWrapEnabled)throw new X;{let r=VR(e,t);return Oe.startFromFixedValue(r,e,t).op((o,n)=>V("+",o,Qe(n)+Bt(n))).getWithConstraints()}}else if(e.stackDirection==="vertical"){let r=DR(e,t),o=kR(e,t,r);return Oe.startFromFixedValue(o,e,t).op((n,i)=>V("+",n,Qe(i)+Bt(i))).getWithConstraints()}else W(e.stackDirection)}if(Pt(e)){if(g(e.gridColumnCount!==void 0,"A grid node must have gridColumnCount"),e.gridColumnCount==="auto-fill")throw new X;if(G(e.gridColumnCount)){g(e.gridRowHeightType!==void 0,"A grid must have gridRowHeightType defined");let r=tn(e,t);if(e.gridRowHeightType==="fixed"){g(e.gridRowHeight!==void 0,"A node with gridRowHeightType: fixed must have gridRowHeight defined");let o=r.rowCount,n=Ut(e.gap),i=St(n),a=(r.rowCount-1)*i,l=e.gridRowHeight*o+a;return Oe.startFromFixedValue(_(l),e,t).op((c,m)=>V("+",c,Qe(m)+Bt(m))).getWithConstraints()}else if(e.gridRowHeightType==="fit"){let o=_(0);for(let l=0;l<r.rowCount;l++){let c=nb(t,r,l);o=V("+",o,c)}let n=Ut(e.gap),i=St(n),a=(r.rowCount-1)*i,s=V("+",o,a);return Oe.startFromFixedValue(s,e,t).op((l,c)=>V("+",l,Qe(c)+Bt(c))).getWithConstraints()}else if(e.gridRowHeightType==="auto"){let o=_(0);for(let c=0;c<r.rowCount;c++)for(let m=0;m<r.columnCount;m++){let d=r.getGridItem(c,m);if(!d)continue;let p=t.tree.getNode(d);if(g(p,"Can\u2019t find grid item in the tree"),!Ke(p)||!ct(p))continue;let f;p.heightType===1||yc(p)?f=hl(p,t)??_(0):f=Ce(p,t);let h=ml(p,e);if(h>1){let y=Ut(e.gap),S=St(y)*(h-1);f=V("/",V("-",f,S),h)}o=V("max",o,f)}let n=V("*",o,r.rowCount),i=Ut(e.gap),a=St(i),s=(r.rowCount-1)*a,l=V("+",n,s);return Oe.startFromFixedValue(l,e,t).op((c,m)=>V("+",c,Qe(m)+Bt(m))).getWithConstraints()}else W(e.gridRowHeightType)}W(e.gridColumnCount)}return null}function VR(e,t){let r=_(0);for(let o of e.children??[])!Ke(o)||!ct(o)||Qr(o,e,t.tree,!0)&&(o.heightType===1||o.heightType===3||(r=V("max",r,Ce(o,t))));return r}function DR(e,t){if(Ke(e)&&yo(e)&&e.maxHeight!==void 0&&e.stackWrapEnabled){let r=yl(e,t),o=V("-",r,Qe(e)+Bt(e));return Ot(o)}return 1/0}function kR(e,t,r){let o=Rd(e),n=St(o),i=[];for(let s of Mo(e)){if(!Ke(s)||!ct(s)||!Qr(s,e,t.tree,!0))continue;let l;switch(s.heightType){case 3:l=gl(s,t);break;case 1:l=_(0);break;case 0:case 2:case 4:case 5:l=Ce(s,t);break;default:W(s.heightType)}let c=i[i.length-1]??_(0),m=V("+",c,n,l);Math.ceil(Ot(m))>Math.ceil(r)||i.length===0?i.push(l):i[i.length-1]=m}return V("max",...i)??_(0)}function nb(e,t,r){let o=_(0);for(let n=0;n<t.columnCount;n++){let i=t.getGridItem(r,n);if(!i)continue;let a=e.tree.getNode(i);if(g(a,"Can\u2019t find grid item in the tree"),!Ke(a)||!ct(a))continue;let s=a.heightType===1?hl(a,e)??_(0):Ce(a,e);o=V("max",o,s)}return o}function gl(e,t){let r=_(0);return Ke(e)?Oe.startFromFixedValue(r,e,t).getWithConstraints():r}function yl(e,t){let r=_(1/0);return Ke(e)?Oe.startFromFixedValue(r,e,t).getWithConstraints():r}var PR=fe("simulateCSSWidth");function sb(e,t){try{let r=Hi(e,t);return cl(r)}catch(r){if(r instanceof X)return;PR.reportError(r,{nodeId:e.id});return}}function Hi(e,t){let r=t.cache.getCSSWidth(e.id);if(r)return r;let o=FR(e,t);return t.cache.setCSSWidth(e.id,o),o}function FR(e,t){if(!Fn(e))throw new X;let r=t.tree.getNodeParent(e);if(Ve(e))return q(100,"vw");if(g(Ke(e)&&ct(e),`Can\u2019t calculate the width on a node ${e.id} when it doesn\u2019t have size information`),t.tree.isGroundNode(e)){if(De(e)&&pe(t.tree.getScopeNodeFor(e)))return q(100,"vw");if(vn(e)||De(e)){let n=q(100,"vw");return Ro(u`${x.componentViewport}?.width || ${n.expr}`)}else{let n=ul(e,t);if(N(n))throw new X;return q(n,"px")}}if(jm(e))return Rt.startFromColumnWidthMultipliedBySpan(e,t).getWithConstraints();if(!Rn(e,r)&&gt(e)&&e.left!==null&&e.right!==null)return Rt.startFromParentOuterWidth(e,t).op((n,i)=>{let a=i.left,s=i.right;return g(a!==null&&s!==null,"Satisfying TypeScript"),ge("-",n,q(a+s,"px"))}).getWithConstraints();if(ip(e)&&gt(e)&&G(e.aspectRatio)&&Vf(e)==="width"){let n=Ce(e,t),i=ge("*",ll(n),q(e.aspectRatio));return Rt.startFromRawValue(i,e,t).getWithConstraints()}if(e.widthType===0)return Rt.startFromRawValue(q(e.width,"px"),e,t).getWithConstraints();if(e.widthType===1){g(r,"A node can\u2019t have a % width without a parent");let n;return nr(e)?n=Rt.startFromRawValue(q(100,"vw"),e,t):Go(e)?n=Rt.startFromParentOuterWidth(e,t):Pt(r)?n=Rt.startFromColumnWidthMultipliedBySpan(e,t):n=Rt.startFromParentInnerWidth(e,t),n.op((i,a)=>ge("*",i,q(a.width))).getWithConstraints()}if(e.widthType===3){let n=t.tree.getNodeParent(e);if(g(n,"A node can\u2019t have a fractional width without a parent"),Pt(n))return Rt.startFromColumnWidthMultipliedBySpan(e,t).getWithConstraints();if(g(Hr(n),"A node can have a fractional width only if it\u2019s inside a stack"),g(n.stackDirection,"A stack must have a direction defined"),n.stackDirection==="horizontal")return ib(e,n.stackWrapEnabled??!1,t);if(n.stackDirection==="vertical")return ab(e,t);if(k(n.stackDirection)){let i=ib(e,n.stackWrapEnabled??!1,t),a=ab(e,t);if(vt(i,a))return i;let s=t.getVariableBinding(n.stackDirection,n);if(!s)throw new X;let l=u`${s} === "row"`,c=u`${l} ? ${cl(i)} : ${cl(a)}`;return Ro(c)}W(n.stackDirection)}if(e.widthType===2){if(yo(e)&&e.maxWidth){let[n,i]=Ti(e.maxWidth);return q(n,i)}throw new X}if(e.widthType===4){let n=q(e.width*100,"vw");return Rt.startFromRawValue(n,e,t).getWithConstraints()}if(e.widthType===5){if(!Tt(e))throw new X;let n=Oi(e),i=Ce(e,t),a=N(i)||N(n)?q(e.width,"px"):ge("*",ll(i),q(n));return Rt.startFromRawValue(a,e,t).getWithConstraints()}W(e.widthType)}function ib(e,t,r){return t?Rt.startFromParentInnerWidth(e,r).getWithConstraints():Rt.startFromParentInnerWidth(e,r).subtractSiblingWidths().getWithConstraints()}function ab(e,t){return Rt.startFromParentInnerWidth(e,t).op((r,o)=>ge("*",r,q(o.width))).getWithConstraints()}var ye,ei,sr,Vo,lr,lb,cb,kd,Pd,Qt=class Qt{constructor(t,r,o,n){H(this,ye);H(this,ei);H(this,sr);H(this,Vo);se(this,ye,t),se(this,ei,r),se(this,sr,o),se(this,Vo,n)}static startFromRawValue(t,r,o){return new Qt(t,()=>{let n=o.tree.getNodeParent(r);return g(n,"Can\u2019t calculate the parent width if the node doesn\u2019t have a parent"),Hi(n,o)},r,o)}static startFromParentOuterWidth(t,r){let o=r.tree.getNodeParent(t);g(o,"Can\u2019t call createFromParentWidth() if the node doesn\u2019t have a parent");let n=Hi(o,r);return new Qt(n,()=>n,t,r)}static startFromParentInnerWidth(t,r){var i;let o=r.tree.getNodeParent(t);g(o,"Can\u2019t call createFromParentWidthMinusPaddings() if the node doesn\u2019t have a parent");let n=Hi(o,r);return n=tt(i=Qt,lr,kd).call(i,n,o,r),new Qt(n,()=>n,t,r)}static startFromColumnWidthMultipliedBySpan(t,r){var a,s;let o=r.tree.getNodeParent(t);g(o&&Pt(o),"Can\u2019t call createFromColumnWidthMultipliedBySpan() if the node isn\u2019t inside a grid"),g(Wo(t),"Can\u2019t call createFromColumnWidthMultipliedBySpan() if the node doesn\u2019t have grid item layout");let n=tt(a=Qt,lr,lb).call(a,o,r),i=tt(s=Qt,lr,cb).call(s,n,o,t.gridItemColumnSpan??1,r);return new Qt(i,()=>i,t,r)}subtractSiblingWidths(){let t=C(this,Vo).tree.getNodeParent(C(this,sr));g(t&&Hr(t),"Can\u2019t call subtractSiblingWidths() if the node isn\u2019t inside a stack");let r=[],o=[],n=[],i=[],a=[],s=0;for(let d of Mo(t)){let p=Qr(d,t,C(this,Vo).tree,!1);if(p!==!1&&!dl(p))switch(g(Ke(d)&&ct(d),"It\u2019s impossible to have a regular visible node without width/height/widthType/heightType fields"),s++,d.widthType){case 0:{r.push(d);break}case 1:{o.push(d);break}case 3:{n.push(d);break}case 4:{i.push(d);break}case 2:throw new X;case 5:{if(!Tt(d)||!d.fillImagePixelWidth||!d.fillImagePixelHeight)throw new X;a.push(d);break}default:W(d.widthType)}}let c=1-o.reduce((d,p)=>d+p.width,0);if(c!==1&&se(this,ye,ge("*",C(this,ye),q(c))),r.length){let d=r.reduce((p,f)=>ge("+",p,q(f.width,"px")),q(0,"px"));se(this,ye,ge("-",C(this,ye),d))}if(a.length){let d=a.reduce((p,f)=>{let h=Oi(f);if(!h)throw new X;let y=Ce(f,C(this,Vo));if(!y)throw new X;return ge("+",p,ge("*",ll(y),q(h,"px")))},q(0,"px"));se(this,ye,ge("-",C(this,ye),d))}if(i.length){let d=i.reduce((p,f)=>ge("+",p,q(f.width*100,"vw")),q(0,"vw"));se(this,ye,ge("-",C(this,ye),d))}if(k(t.gap)){let d=C(this,Vo).getVariableBinding(t.gap,t);if(d){let p=Ro(he`${u`${d} * ${s-1}`}px`);se(this,ye,ge("-",C(this,ye),p))}}else{let p=Bn(t.gap)*(s-1);p!==0&&se(this,ye,ge("-",C(this,ye),q(p,"px")))}let m=n.reduce((d,p)=>d+p.width,0);return se(this,ye,ge("/",C(this,ye),q(m))),se(this,ye,ge("*",C(this,ye),q(C(this,sr).width))),se(this,ye,ge("max",C(this,ye),q(1,"px"))),this}op(t){return se(this,ye,t(C(this,ye),C(this,sr))),this}getWithConstraints(){var t,r;return yo(C(this,sr))?(C(this,sr).maxWidth&&se(this,ye,tt(t=Qt,lr,Pd).call(t,"maxWidth",C(this,ye),C(this,ei),C(this,sr))),C(this,sr).minWidth&&se(this,ye,tt(r=Qt,lr,Pd).call(r,"minWidth",C(this,ye),C(this,ei),C(this,sr))),C(this,ye)):C(this,ye)}};ye=new WeakMap,ei=new WeakMap,sr=new WeakMap,Vo=new WeakMap,lr=new WeakSet,lb=function(t,r){var o;if(g(t.gridColumnWidthType!==void 0,"A grid node must have a gridColumnWidthType defined"),t.gridColumnWidthType==="fixed")return g(t.gridColumnWidth!==void 0,"A grid node with fixed width columns must have a gridColumnWidth defined"),q(t.gridColumnWidth,"px");if(t.gridColumnWidthType==="minmax"){if(t.gridColumnCount==="auto-fill")throw new X;let n=Hi(t,r);if(n=tt(o=Qt,lr,kd).call(o,n,t,r),g(t.gridColumnCount!==void 0,"A grid node must have a gridColumnCount defined"),k(t.gap)){let i=r.getVariableBinding(t.gap,t);if(i){let a=Ro(he`${u`${i} * ${t.gridColumnCount-1}`}px`);n=ge("-",n,a)}}else{let a=Bn(t.gap)*(t.gridColumnCount-1);a!==0&&(n=ge("-",n,q(a,"px")))}return t.gridColumnCount>1&&(n=ge("/",n,q(t.gridColumnCount))),t.gridColumnMinWidth&&(n=ge("max",n,q(t.gridColumnMinWidth,"px"))),n}else W(t.gridColumnWidthType)},cb=function(t,r,o,n){if(o===1)return t;let i;if(G(o)){if(r.gridColumnCount==="auto-fill")throw new X;g(r.gridColumnCount!==void 0,"A grid must have gridColumnCount defined"),i=Math.min(o,r.gridColumnCount)}else if(o==="all"){if(r.gridColumnCount==="auto-fill")throw new X;g(r.gridColumnCount!==void 0,"A grid must have gridColumnCount defined"),i=r.gridColumnCount}else{if(k(o))throw new X;W(o)}if(i>1&&(t=ge("*",t,q(i))),k(r.gap)){let a=n.getVariableBinding(r.gap,r);if(a){let s=Ro(he`${u`${a} * ${i-1}`}px`);t=ge("+",t,s)}}else{let s=Bn(r.gap)*(i-1);s!==0&&(t=ge("+",t,q(s,"px")))}return t},kd=function(t,r,o){if(!vi(r))return t;let n;if(k(r.padding)){let i=o.getVariableBinding(r.padding,r);i&&(n=Ro(he`${u`${i} * 2`}px`))}else r.paddingPerSide?n=q((r.paddingLeft??0)+(r.paddingRight??0),"px"):n=q((r.padding??0)*2,"px");return n?ge("-",t,n):t},Pd=function(t,r,o,n){let i=t==="minWidth"?"max":"min",[a,s]=Ti(n[t]);if(s==="%"){let l=o();return ge(i,r,ge("*",l,q(a/100)))}else return ge(i,r,q(a,s))},H(Qt,lr);var Rt=Qt;var LR=fe("simulateYPosition");function ub(e,t){try{let r=Do(e,t);return r.type==="number-const"?r.value:r.expr}catch(r){if(r instanceof X)return;LR.reportError(r,{nodeId:e.id});return}}function Do(e,t){let r=t.cache.getYPosition(e.id);if(r)return r;let o=ER(e,t);return t.cache.setYPosition(e.id,o),o}function ER(e,t){if(!Fn(e))throw new X;let r=t.tree.getNodeParent(e);if(!(gt(e)&&$a(e))){if(Ve(e))return _(0);g(!1,"Can\u2019t calculate the y position on a node when it doesn\u2019t have position information")}if(t.tree.isGroundNode(e)){if(De(e)&&pe(t.tree.getScopeNodeFor(e)))return _(0);if(vn(e)||De(e))return zi(u`${x.componentViewport}?.y || 0`,0);throw new X}let o=zR(e,r,t);if(o==="fixed"){if(e.top!==null)return _(e.top);if(e.bottom!==null){let n=Ce(e,t);return V("-",Kt-e.bottom,n)}else{let n=Ce(e,t);return V("-",V("*",Kt,e.centerAnchorY),V("/",n,2))}}if(o==="absolute"){g(r&&gt(r)&&$a(r),"absolute position: parentNode for the node must exist, be pinnable, and have position type");let n=Do(r,t);if(e.top!==null)return V("+",n,_(e.top));if(e.bottom!==null){let i=Ce(r,t),a=Ce(e,t);return V("-",V("+",n,i),V("+",e.bottom,a))}else{let i=Ce(r,t),a=Ce(e,t);return V("+",n,V("-",V("*",i,e.centerAnchorY),V("/",a,2)))}}if(o==="sticky"||o===void 0){if(g(r&&gt(r)&&$a(r),"relative position: parentNode for the node must exist, be pinnable, and have position type"),Hr(r)){if(g(r.stackDirection,"parentNode for the node must have stackDirection"),r.stackDirection==="horizontal"){if(r.stackWrapEnabled)throw new X;if(k(r.stackAlignment))throw new X;let n=Ce(r,t),i=V("-",n,Qe(r)+Bt(r));if(g(r.stackAlignment,"parentNode for node must have stackAlignment"),r.stackAlignment==="start")return V("+",Do(r,t),_(Qe(r)));if(r.stackAlignment==="center"){let a=Ce(e,t),s=V("-",i,a);return V("+",Do(r,t),V("+",Qe(r),V("/",s,2)))}else if(r.stackAlignment==="end"){let a=Ce(e,t),s=V("-",i,a);return V("+",Do(r,t),Qe(r),s)}else W(r.stackAlignment)}if(r.stackDirection==="vertical"){let n=fl(r,t,c=>Ce(c,t),c=>gl(c,t),c=>yl(c,t)),i=n.findCoordinates(e.id);g(i,"Node must be found in stack layout info");let a=AR(i.columnIndex,n,t),s=BR(i.columnItemIndex,a,r,t),l=[Do(r,t),Qe(r),s];return WR(r,e,t)&&l.unshift(Kt),V("+",...l)}if(k(r.stackDirection))throw new X;W(r.stackDirection)}if(Pt(r)){if(g(r.gridColumnCount!==void 0,"parentNode for node must have gridColumnCount"),r.gridColumnCount==="auto-fill")throw new X;if(G(r.gridColumnCount)){let n=tn(r,t);if(n.isEmpty())return V("+",Do(r,t),Qe(r));let i=n.findCoordinates(e.id);g(i,"Node must be found in the grid layout info");let a=OR(i.rowIndex,n,r,t);return V("+",Do(r,t),Qe(r),a)}W(r.gridColumnCount)}g(!1,"Relative and sticky nodes can only exist in stacks or grids")}W(o)}function AR(e,t,r){let o=[];return t.walkColumn(e,n=>{let i=r.tree.get(n);g(i&&Ke(i)&&ct(i),"column item must exist, have size, and have size dimension type");let a;if(i.heightType===3){let s=t.getFrToPxForColumn(e);g(s,"frToPx must be available for the column"),a=V("*",s,i.height)}else a=Ce(i,r);o.push(a)}),o}function db(e,t,r){return r.cache.memo(`sumAllStackChildrenHeights-${e.id}`,()=>V("+",...t)??_(0))}function BR(e,t,r,o){let n=r.stackDistribution;if(g(n,"parentNode for node must have stackDistribution"),k(n))throw new X;let i=Ce(r,o),a=V("-",i,Qe(r)+Bt(r));if(n==="start"||n==="center"||n==="end"){let s=Ut(r.gap),l=St(s),c;if(n==="start")c=_(0);else{let p=db(r,t,o),f=l*(t.length-1),h=V("-",a,V("+",p,f));c=n==="center"?V("/",h,2):h}let m=pl("+",0,e,t)??_(0),d=l*e;return V("+",c,m,d)}if(n==="space-between"||n==="space-around"||n==="space-evenly"){g(!ba(r),"gap is not expected with stackDistribution:",r.stackDistribution);let s=db(r,t,o),l=V("-",a,s),c=t.length,m;switch(n){case"space-between":m=V("/",l,Math.max(1,c-1));break;case"space-around":m=V("/",l,c);break;case"space-evenly":m=V("/",l,c+1);break;default:W(n)}let d;switch(n){case"space-between":d=_(0);break;case"space-around":d=V("/",m,2);break;case"space-evenly":d=m;break;default:W(n)}let p=pl("+",0,e,t)??_(0),f=V("*",m,e);return V("+",d,p,f)}W(n)}function OR(e,t,r,o){if(g(r.gridRowHeightType!==void 0,"parentNode for node must have gridRowHeightType defined"),r.gridRowHeightType==="fixed"){g(r.gridRowHeight!==void 0,"A grid parent node with gridRowHeightType === 'fixed' (for node) must have gridRowHeight defined");let n=e*r.gridRowHeight,i=Ut(r.gap),a=St(i),s=e*a;return _(n+s)}if(r.gridRowHeightType==="fit"){let n=[];for(let c=0;c<e;c++)for(let m=0;m<t.columnCount;m++){let d=o.tree.get(t.getGridItem(c,m));if(!d)continue;g(Ke(d)&&ct(d),"grid child must have size and size-dimension type");let p=Ce(d,o);n[c]=V("max",n[c]??_(0),p)}let i=V("+",...n)??_(0),a=Ut(r.gap),s=St(a),l=e*s;return V("+",i,l)}if(r.gridRowHeightType==="auto"){let n=Ce(r,o),i=V("-",n,Qe(r)+Bt(r)),a=tn(r,o),s=a.rowCount,l=Ut(r.gap),c=St(l),m=(a.rowCount-1)*c,d=V("/",V("-",i,m),s),p=V("*",e,d),f=e*c;return V("+",p,f)}W(r.gridRowHeightType)}function zR(e,t,r){if(Ha(r.tree,e)&&e.position==="fixed")return"fixed";if(Ga(e,t)&&e.position==="absolute")return"absolute";if(fp(e,t)&&e.position==="sticky")return"sticky";if(t&&Ve(t))return"fixed";if(!(t&&ao(t)))return"absolute"}function WR(e,t,r){if(De(e)&&pe(r.tree.getScopeNodeFor(e))){let o=e.children?.findIndex(co);if(N(o))return!1;let n=r.tree.getIndex(t);return o<n}return!1}var Sl=class{constructor(t,r,o){this.treeStore=t;this.variables=r;this.valueTransforms=o;w(this,"simulationContext");this.simulationContext=Jv(this.treeStore.tree,this.variables,this.valueTransforms)}getCSSWidth(t){return sb(t,this.simulationContext)}getHeight(t){return rb(t,this.simulationContext)}getYPosition(t){return ub(t,this.simulationContext)}getComponentViewportContext(t){let r=this.getCSSWidth(t),o,n;return xn(t)||(o=this.getHeight(t),n=this.getYPosition(t)),{width:r,height:o,y:n}}};var Cl=class{constructor(t,r){this.tree=t;this.bindings=r;w(this,"ids",new Map)}create(t){let r=this.composeBaseId(t),o=this.tree.get(t);Ao(o,"AppearIdCollector: Node not found");let n=Ka(o,this.tree);return n.length>0?this.composeRepeaterId(r,n):r}composeBaseId(t){let r=be(t),o=this.ids.get(r);if(N(o))return this.ids.set(r,0),r;let n=o+1;return this.ids.set(r,n),`${r}-${n}`}composeRepeaterId(t,r){let o=[t];for(let n of r){let i=this.tree.get(n);i&&o.push(this.bindings.createWithNode("index",i))}return he.join(o,"-")}};var vl=class{constructor(t,r,o){this.declarations=t;this.scope=r;this.primaryVariantId=o}create(t,r){if(t===!0&&N(r))return{condition:!0};if(!N(t)&&N(r))return{condition:t};if(r){if(Array.from(r.values()).every(({value:f})=>f===t))return{condition:t};let o=new Set,n=new v.Set;wr(this.scope)&&this.primaryVariantId&&pb(this.primaryVariantId,t,o,n);let i=new Map,a=new Map,s=new Map,l=HR(s),c=l(t);for(let[f,h]of r){if(wr(this.scope)&&pb(f,h.value,o,n),!h.isGesture&&h.value===t)continue;let y=h.isGesture?i:a;$R(f,l(h.value),y)}let m=[],d=[];for(let f of s.keys()){let h=s.get(f);h&&(d.push(new v(f)),m.push(Y(h)))}let p=this.declarations.dedupe("isDisplayed",new v(re.lines(u`(${new v(m.join(", "))}) => {`,wr(this.scope)&&u`if (!${v.fn(x.isBrowser)}) return true`,...this.createConditionStatementsForGroup(i,"gestureVariant"),...this.createConditionStatementsForGroup(a,"baseVariant"),u`return ${c}`,u`}`)));return{condition:v.fn(p,...d),classNames:o,classNameExpressions:n}}return{condition:!0}}createConditionStatementsForGroup(t,r){if(t.size===0)return[];let o=[],n=new v(r);for(let[i,a]of t){let s=new v(i);if(a.size===1){let l=Array.from(a)[0];if(N(l))continue;o.push(u`if (${n} === ${l}) return ${s}`)}else o.push(u`if (${Array.from(a)}.includes(${n})) return ${s};`)}return o}};function $R(e,t,r){let o=Y(t),n=r.get(o)??new Set;r.set(o,n.add(e))}function HR(e){let t=new Set;return r=>{if(!It(r))return r;let o=Y(r),n=e.get(o)??new v(zp("value",t));return e.set(o,n),n}}function mb(e){return`hidden-${be(e)}`}function pb(e,t,r,o){if(t===!1){let n=mb(e);r.add(n)}else if(It(t)){let n=mb(e);o.add(u`!(${t}) && ${n}`)}}var Gi,rn,Ui,bl=class{constructor(t,r,o,n,i,a){this.scope=t;this.bindings=r;this.declarations=o;this.imports=n;this.variables=i;this.treeStore=a;H(this,Gi,new Map);H(this,rn,null);H(this,Ui,new Map)}isLayoutTemplateRef(t){if(nt(C(this,rn))){if(se(this,rn,new Set),!$o(this.scope)||!Jm(this.scope))return!1;let r=P.componentForIdentifier(this.scope.layoutTemplateIdentifier)?.properties;if(!r)return!1;let o=this.scope.getControlProps(r);for(let n in o){let i=o[n];if(N(i?.value)||k(i.value)||i.type!=="scrollsectionref")continue;let a=i.value.target;N(a)||k(a)||C(this,rn).add(a)}}return C(this,rn).has(t)}getNodeInPrimary(t){if(!t)return;let r=t.originalid?this.treeStore.tree.get(t.originalid):t;if(r)return r}scrollTargetInfo({target:t,collectionItem:r}){if(!t)return;if(ue(t))return{ref:this.variables.create(t)};let o=this.treeStore.tree.get(t);if(!o||!Ho(o)||this.treeStore.treeIndex.getScopeIdFor(o.id)!==this.scope.id)return;let n=this.getNodeInPrimary(o);if(!n)return;let i=this.ref(n,r);if(i)return{ref:i,offset:o.scrollMarginTop}}ref(t,r){let o=this.getNodeInPrimary(t);if(!o)return;let n=C(this,Gi).get(o.id);if(n)return n;let i=Ka(o,this.treeStore.tree),a=this.isLayoutTemplateRef(o.id);if(a||r||i&&i.length>0){let m=this.id(o,r);if(!m)return;let d=this.imports.addImport("framer",{exportSpecifier:a?"useSiteRefs":"useDynamicRefs"});return v.fn(this.declarations.component.dedupe("dynamicRef",v.fn(u`${d}<HTMLElement>`)),m)}let s=this.bindings.create("ref"),l=this.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),c=u`const ${s} = ${v.fn(u`${l}.useRef<HTMLElement>`,u`null`)}`;return this.declarations.component.create(c),C(this,Gi).set(o.id,s),s}getBaseId(t,r){if($(r)){if(Ho(t)){let o=[t.id];return r&&r.id!==this.scope.id&&o.push(r.id),this.declarations.component.dedupe("elementId",v.fn(this.imports.addImport("framer",{exportSpecifier:"useRouteElementId"}),...o))}return be(t.id)}if(Ue(r))return he`${x.layoutId}-${be(t.id)}`}getPortalAncestor(t){let r=this.treeStore.tree.getParent(t.id);if(r){if(Nt(t))return this.treeStore.tree.get(r.originalid??r.id);if(Ve(r)){let o=this.treeStore.tree.getParent(r.id);return this.treeStore.tree.get(o?.originalid??o?.id)}}}portalId(t){let r=this.getPortalAncestor(t);return r?this.id(r):void 0}id(t,r){let o=this.getNodeInPrimary(t);if(!o)return;let n=this.treeStore.treeIndex.getScopeIdFor(o.id),i=this.treeStore.tree.get(n);if(!$(i)&&!Ue(i))return;if($(i)&&Ho(o)){let s=Up(o,this.treeStore.tree);s&&C(this,Ui).set(o.id,s)}let a=this.getBaseId(o,i);if(a)return jp(o,this.treeStore.tree,s=>{if(s.id===o.id)return a;if(ue(r)&&r.id===s.id)return this.variables.create(r);if(Ba(r)&&r.key===s.id)return r.value;if(s.type==="slug")return this.variables.create(pn(s.id,s.providerId))})}annotation(){let t=Object.fromEntries(C(this,Ui));return we(t)?"":JSON.stringify(t)}};Gi=new WeakMap,rn=new WeakMap,Ui=new WeakMap;function UR(e){return e instanceof Error?!!Bc(e):!1}function jR(e){return A(e)?e:e instanceof Error?e.message:ot(e)?JSON.stringify(e):"Unknown error"}var ji,Il=class{constructor(t,r,o){this.scopeId=t;this.sourceNodeId=r;this.type=o;H(this,ji,[])}record(t,r,o){if(UR(r)){this.recordKnownError(t,r);return}C(this,ji).push({nodeId:t.id,reason:jR(r),moduleIdentifier:Se(o)?o:void 0})}get errors(){return C(this,ji).map(t=>new ps({...t,sourceNodeId:this.sourceNodeId,sourceNodeModuleType:this.type,scopeId:this.scopeId,type:"CodeGeneration"}))}recordKnownError(t,r){if(Bc(r)){let o=new Set;r.error.forEach(n=>{o.add(n),this.record(t,"CodeError",n)}),r.missing.forEach(n=>{o.has(n)||this.record(t,"MissingModule",n)})}}};ji=new WeakMap;function _R(e){return e==="string"||e==="vectorsetitem"}var on,Tl=class{constructor(t,r){this.modulesStore=t;this.tree=r;H(this,on,new Map)}get structure(){return Array.from(C(this,on).values())}addSection(t){if(!Tc(t)&&!ts(t))return;let r=cC(t);if(!r)return;let o={_id:r,_layerId:t.id,content:[]};return C(this,on).set(o._id,o),o._id}addCustomizations(t,r){if(!Tc(t)||!r)return;let o=C(this,on).get(r);if(o&&(U(t)&&JR(t,o,this.tree,this.modulesStore),!!Yp(t))){for(let n of t.customizations)if(qe(t))o.content.push({field:n.fieldPath,text:t.getTextContent()});else if(U(t)&&t.isVectorInstance){if(!Se(t.codeComponentIdentifier))return;let i=Ni(Z(t.codeComponentIdentifier),this.tree,this.modulesStore)?.name;if(!A(i))return;o.content.push({field:n.fieldPath,text:i})}C(this,on).set(r,o)}}};on=new WeakMap;function JR(e,t,r,o){let n=P.componentForIdentifier(e.codeComponentIdentifier)?.properties;if(!n)return;let i=e.getControlProps(n);for(let a in i){let s=i[a];if(!s)continue;let{type:l,value:c}=s;if(!A(l)||!_R(l))continue;let m=n[a]?.title??a;if(A(c))switch(l){case"string":t.content.push({field:m,text:c});break;case"vectorsetitem":{if(!Se(c))continue;let d=Ni(Z(c),r,o)?.name;if(!A(d))continue;t.content.push({field:m,text:c});break}default:W(l,"Unknown control type")}}}var nn,Nl=class{constructor(t){this.scopeNode=t;H(this,nn,new Map)}recordClassName(t,r,o){if(!pe(this.scopeNode)||t.parentid!==r||t.visible===!1||ff(t)&&t.locked)return;let n=r,i=C(this,nn).get(n)??new Set;i.add("."+o),C(this,nn).set(n,i)}annotation(){if(!pe(this.scopeNode)||C(this,nn).size===0)return"{}";let t={};for(let[r,o]of C(this,nn))t[r]=Array.from(o);return JSON.stringify(t)}};nn=new WeakMap;var an,sn,ti,xl=class{constructor(t){H(this,an);H(this,sn,new Set);H(this,ti,new Map);se(this,an,{...t})}count(t,r=1){C(this,an)[t]+=r}measureLength(t,r){return(typeof r=="string"||r instanceof v)&&(C(this,an)[t]+=r.length),r}get(){if(C(this,sn).size>0){let r=Array.from(C(this,sn),o=>o.metric).join(", ");throw Error(`Attempted to get metrics before completing timer(s): ${r}`)}let t={...C(this,an)};for(let[r,o]of C(this,ti)){let n=dy(o);t[r]+=Math.round(n.reduce((i,[a,s])=>i+(s-a),0))}return t}time(t){let r=performance.now(),o=!1,n={get metric(){return t},cancel:()=>{o||(C(this,sn).delete(n),o=!0)},done:()=>{g(!o,"Attempted to complete a cancelled timer");let i=C(this,ti).get(t);i||(i=[],C(this,ti).set(t,i)),i.push([r,performance.now()]),n.cancel()}};return C(this,sn).add(n),n}async timed(t,r){let o=this.time(t);try{return await r()}finally{o.done()}}};an=new WeakMap,sn=new WeakMap,ti=new WeakMap;var oi,wl=class{constructor(){H(this,oi,[])}add(t){let r=KR(t);r.length!==0&&C(this,oi).push(...r)}annotation(){if(C(this,oi).length===0)return;let t=new Set;for(let r of C(this,oi))t.add(JSON.stringify(r));return`[${Array.from(t).join(",")}]`}};oi=new WeakMap;function ri(e){return A(e)&&e.length>0}function XR(e){return ot(e)?"id"in e&&ri(e.id)&&(e.type===void 0||e.type==="click"||e.type==="form_submit"):!1}function B4(e){return tr(e)?e.every(XR):!1}function qR(e,t,r){if(e.includes(Oa))try{let n=bo(e).querySelectorAll(`[${Oa}]`);for(let i of n){let a=i.getAttribute(Oa);ri(a)&&r.push({id:a,nodeId:t,type:"click"})}}catch{}}function KR(e){let t=[],r=e.originalid??e.id;if(Io(e)&&ri(e.linkClickTrackingId)&&t.push({id:e.linkClickTrackingId,nodeId:r,type:"click"}),qe(e)){for(let o of e.getLinkClickTrackingId(!1))ri(o)&&t.push({id:o,nodeId:r,type:"click"});if(e.htmlLocalized)for(let o in e.htmlLocalized){let n=e.htmlLocalized[o]?.value;n&&qR(n,r,t)}}if(U(e)){let o=P.reactComponentForIdentifier(e.codeComponentIdentifier);if(o?.properties){let n=e.getControlProps(o.properties);for(let i in n){if(!n[i])continue;let a=n[i];a.type==="trackingid"&&ri(a.value)&&t.push({id:a.value,nodeId:void 0,type:void 0})}}}return Vr(e)&&ri(e.formSubmitTrackingId)&&t.push({id:e.formSubmitTrackingId,nodeId:r,type:"form_submit"}),t}var Rl=class{constructor(t,r,o,n){this.imports=t;this.treeStore=r;this.modulesStore=o;this.createBinding=n;w(this,"sets",new Set)}resolveVariableInstance(t){g(ue(t.dynamicVectorSetIdentifier),"Vector set identifier must be a variable reference"),g(Se(t.codeComponentIdentifier),"Code component identifier must be a module");let r=Z(t.codeComponentIdentifier),o=Ni(r,this.treeStore.tree,this.modulesStore)?.set.moduleId;return o&&this.sets.add(o),this.createBinding(t.dynamicVectorSetIdentifier,t,"Icon")}resolveControl(t,r,o){if(ue(t))return this.sets.add(r.setModuleId),this.createBinding(t,o,"Icon");g(Se(t),"Vector set item must be a module export identifier");let n=Kp(this.treeStore.tree,r,t);if(n)return this.imports.addModuleImport(n)}annotation(){if(this.sets.size!==0)return JSON.stringify(Array.from(this.sets))}};var _i,Ji,Fd,Ml=class{constructor(){H(this,Ji);H(this,_i,new Map)}set(t,r){C(this,_i).set(tt(this,Ji,Fd).call(this,t),r)}get(t){return C(this,_i).get(tt(this,Ji,Fd).call(this,t))}};_i=new WeakMap,Ji=new WeakSet,Fd=function(t){return t.originalid??t.id};var Ld=class{constructor(t,r){this.imports=t;this.declarations=r;w(this,"links",new Map);w(this,"scrollSectionRefs",new Map)}collect(t,r,o,n){if(!ju(n))return;let i=t==="link"?this.links:this.scrollSectionRefs,a=i.get(r)??new Set;a.add(o),i.set(r,a)}collectLink(t,r,o){return this.collect("link",t,r,o),o}collectScrollSectionRef(t,r,o){return this.collect("scrollSectionRef",t,r,o),o}values(t){let r=[],o={},n=u`resolvedLinks`,i=this.links.get(t);if(i?.size)for(let s of i)o[s]=u`${n}[${r.length}]`,r.push(u`props[${s}]`);let a=this.scrollSectionRefs.get(t);if(a?.size){let s=this.declarations.component.dedupe("siteRef",v.fn(this.imports.addImport("framer",{exportSpecifier:"useSiteRefs"})));for(let l of a)o[l]=v.fn(s,u`${n}[${r.length}]`),r.push(u`props[${l}]`)}if(!we(o))return{ResolveLinks:this.imports.addImport("framer",{exportSpecifier:"ResolveLinks"}),binding:n,links:r,props:o}}};function hb(e,t,r,o,n){let i=new as(n);return{bindings:n,imports:o,declarations:i,tree:e.tree,modulesStore:t,assets:new To(r.assetMap),unresolvedLinks:new Ld(o,i),wideGamutColors:new Ln}}function QR(e,t){let r={};for(let o in e)r[o]=t(o);return r}function ZR(e){return(t,r,o)=>{if(N(r))return t;let n=QR(r,o);if(!n||!ot(n)||we(n))return t;let i=e.declarations.file.dedupe("getLocalizedValue",u`(values, locale) => {${u.joinLines(u`while (locale) {${u.joinLines(u`const value = values[locale.id]`,u`if (value) return value`,u`locale = locale.fallback`)}}`)}}`),a=e.imports.addImport("framer",{exportSpecifier:"useLocaleInfo"}),{activeLocale:s}=e.declarations.component.dedupe({activeLocale:void 0},v.fn(a)),l=e.declarations.file.dedupe("localizedValues",n);return u`${v.fn(i,l,s)} ?? ${t}`}}function gb(e,t,r,o,{declarations:n,tree:i,modulesStore:a,assets:s,imports:l,unresolvedLinks:c,wideGamutColors:m}){let d=ZR({declarations:n,imports:l});return Qa(t,r,{resolveAsset:(p,f,h,y)=>{let b,S=mn(f)?f.__defaultAssetReference:void 0;return p!==S&&(b=(y?s.resolveResponsiveImage(p):s.resolve(p))?.src),!Va(h)||N(b)?b:d(b,h.valueLocalized,I=>{let T=h.valueLocalized?.[I]?.value;return ha(T)?void 0:T===S?u`undefined`:(y?s.resolveResponsiveImage(p):s.resolve(p))?.src})},resolveResponsiveImage:(p,f,h)=>{let y,b,S;if(ya(f)&&ga(f.__vekterDefault)?(y=f.__vekterDefault.assetReference,b=f.__vekterDefault.positionX,S=f.__vekterDefault.positionY):mn(f)&&(y=f.__defaultAssetReference),p===y&&h.positionX===b&&h.positionY===S)return;let I=v.fromValue(s.resolveResponsiveImage(p,{focalPoint:h})),T=d(I,h.valueLocalized,R=>{let M=h.valueLocalized?.[R];if(!Sa(M))return;if(M.value===y&&M.imageFocalPoint?.positionX===b&&M.imageFocalPoint?.positionY===S)return u`undefined`;let L=s.resolveResponsiveImage(M.value,{focalPoint:M.imageFocalPoint});return v.fromValue(L)});return v.fn(n.file.dedupe("wrapInAddImageAlt",_g),T,d(h.alt??Ya,h.altLocalized,R=>h.altLocalized?.[R]?.value))},resolveDynamicValue:(p,f)=>{},resolveLink:(p,f)=>{if(kt(f.value))return;let h=Oo(f.value);if(!N(h)){if(hr(h)){let y=f.valueLocalized;return y?d(h.url,y,b=>y[b]?.value):h.url}return c.collectLink(o,p,{href:Ic(h,i,a)})}},resolvePageScope:p=>{},resolveLocalizedValue:(p,f)=>d(p,f,h=>f?.[h]?.value),compileRichText:(p,f)=>{let y={collectors:{imports:l,assets:s,links:{create:S=>{if(!(N(S)||ue(S)))return hr(S)?S.url||void 0:Ic(S,i,a)}}},nodeId:e.originalid??e.id,useCreateElement:!0},b=n.file.dedupe("text",qr(p,y));return d(b,f,S=>{if(!f)return;let I=f[S];if(!I)return;let T=I.value;if(A(T))return qr(T,y)})},resolveFont:p=>Fa(p)?La(p):{},resolveScrollSectionRef:(p,f)=>{if(N(f)||ue(f)||!A(f.target))return;let{target:h,collectionItem:y}=f;if(!h||ue(h))return;let b={type:"webPage",webPageId:e.id,hash:h,hashVariables:Ba(y)?{[y.key]:y}:void 0};return c.collectScrollSectionRef(o,p,{href:{..._p(b,i,a),webPageId:e.id},refKey:!0})},resolveCustomCursor:(p,f)=>{if(!(N(f)||ue(f)))return $p(f,i)},resolveVectorSetItem:p=>{if(!(N(p)||ue(p)))return l.addModuleImport(p,{absolute:!0})},resolveColor:p=>m.resolveColor(p)})}function yb(e,t,r,o=void 0){if(!r&&!o)return;let n=o??Pg(r??[]);n.length&&zg.resetPropertiesToMasterValues(e,t,n)}function eM(e){let t=[];for(let r in e){let o=e[r];o&&t.push({hash:be(r),mediaQuery:Bh(o)})}return t}function tM(e,t,r,o){let n=new B({routeId:u`routeId`,style:u`style`,key:Y(e)});B.addSpreadAtStart(n,u`props`);let i=u`${o.addImport("react",{exportSpecifier:"*",importBinding:"React"})}.createElement`;if(!r)return Ad(t,u`return ${v.fn(i,e,n,u`children(true)`)};`);B.assign(n,r.props);let{ResolveLinks:a,binding:s,links:l}=r;return Ad(t,u`return ${v.fn(i,a,new B({links:l},1),u`(${s}) => ${v.fn(i,e,n,u`children(true)`)}`)};`)}function U8(e,t){let r=[];for(let o of t){if(!$(o)||!$o(o))continue;let n=Z(o.layoutTemplateIdentifier);if(!Vt(n)||n.type!=="layoutTemplate")continue;let i=e.getNodeWithTrait(n.localIdName,pe);i&&r.push(i)}return r}function j8(e,t,r,o,n,i){let a={},s={},l={},c=new Map,m={},d=hb(e,t,r,n,i),p=d.bindings.create("props"),f={},h=new Set,y=d.bindings.create("Template"),b=e.tree.getNodeWithTrait(e.tree.root.homePageNodeId,$);if(!$(b))return;for(let M of[b,...o]){if(!$(M,!0)||!$o(M)||h.has(M.id))continue;let L=Z(M.layoutTemplateIdentifier);if(!Vt(L)||L.type!=="layoutTemplate")continue;let F=e.tree.getNodeWithTrait(L.localIdName,pe);if(!F)continue;h.add(M.id);let z=t.getPersistedModuleByLocalId(L.localId)?.moduleURL;g(z,"An applied Layout Template must have a module URL.");let ee=t.forType("layoutTemplate").getByLocalId(L.localId).annotations(P.componentForIdentifier(M.layoutTemplateIdentifier),L.exportSpecifier)?.framerBreakpoints;wm(ee)&&c.set(L.localIdName,ee);let oe=P.componentForIdentifier(M.layoutTemplateIdentifier)?.properties;g(oe,"An applied Layout Template must have controls.");let ve=gb(M,oe,M.getControlProps(oe),F.id,d),D=f[F.id],ne=Yr(ve,D?.value,"js");if(D?.value&&!we(ve)&&(!ne||we(ne)))m[M.id]=D.binding;else if(Dr(ne)&&!we(ne)){let de=d.declarations.component.dedupe("props",rM(ne,D));m[M.id]=de,f[F.id]??={binding:de,value:ne}}a[M.id]=L.localIdName;let Q=s[L.localIdName]??[];Q.push(M.id),s[L.localIdName]=Q,!(L.localIdName in l)&&(l[L.localIdName]=d.imports.addImport(z,{exportSpecifier:"default",importBinding:Lu(F.name??"Template")}))}if(we(s))return;let S=[],I=[];for(let M in s){let L=s[M],F=l[M];if(!F||!L)continue;S.push(tM(F,L,d.unresolvedLinks.values(M),d.imports));let j=c.get(M);j&&I.push(Ad(L,u`return ${eM(j)}`))}let T=d.declarations.component.dedupe("templateProps",m),R=d.wideGamutColors.getWideGamutColorRules("body");return{binding:y,css:R.length?`@supports (color: color(display-p3 1 1 1)) { ${R.join(" ")} }`:"",declarations:u.joinLines(...d.declarations.file.list(),u`function ${y}({routeId, children, style, ...rest}) {${u.joinLines(...d.declarations.component.list(),u`const ${p} = ${T}[routeId] ?? {}`,u`switch (routeId) {${u.joinLines(...S,u`default: { return children(false) }`)}}`)}}`,u`export function getLayoutTemplateBreakpoints(routeId) {${u.joinLines(u`switch (routeId) {${u.joinLines(...I,u`default: { return undefined }`)}}}`)}`)}}function rM(e,t){if(!t)return e;let r=new B(e);return B.addSpreadAtStart(r,t.binding),r}function oM(e){let t=e.getPrimaryVariant();if(!(!t||!wn(t)))return t.children.findIndex(r=>co(r))}function Ad(e,t){return u.joinLines(...e.map(r=>u`case ${r}:`),t)}function Sb(e){return pi(e)&&e.layout==="stack"&&e.stackDirection==="vertical"}function nM(e,t){if(!wr(t))return;t.getPrimaryVariant().set(mp),yb(e,t.getReplicaVariants(),["layout","padding"])}function Vl(e){return Sb(e.getPrimaryVariant())&&e.getReplicaVariants().every(Sb)}function iM(e){let t=new Set,r=new Set;for(let o of e.tree.root.children){if(o.id===e.tree.root.homePageNodeId||!$(o)||!N(o.layoutTemplateIdentifierOverride))continue;let n=e.stores.modulesStore.forType("screen").getByStableName(o.id)?.annotations(P.componentForIdentifier(o.instanceIdentifier),"default")?.framerAcceptsLayoutTemplate;if(am(n)){n===!1&&t.add(o.id);continue}if(o.isLoaded()){Vl(o)===!1&&t.add(o.id);continue}r.add(o.id)}return{incompatible:t,shallow:r}}async function aM(e,t){let r=new Set,o=Array.from(t).map(i=>e.tree.getNodeWithTrait(i,$)),n=await e.tree.loadScopes(o);for(let i of n)nt(i)||Vl(i)||r.add(i.id);return r}function Ed(e,t,r,o=void 0,n=new Set){let i=Iu(r),a=i?r():r,s=t.id===e.tree.root.homePageNodeId?e.tree.root:e.tree.current(t);if(!s)return;for(let p of n)e.tree.getNodeWithTrait(p,$)?.set({layoutTemplateIdentifierOverride:null});if(s.set({layoutTemplateIdentifier:a.instanceIdentifier}),nM(e.tree,t),i&&e.stores.scopeStore.select(a.id,{keepHistory:!1}),!o)return;g(a.isLoaded(),"Layout Templates: template must be loaded to add a child.");let l=oM(a),c=P.activeBundleHash;if(!c)return;let m=Gh(e.tree,e.stores.treeStore.sandboxCollectionData,c,P,o.id),d=e.tree.current(o);if(d){for(let p of d.walk()){let f=Hh(e.tree,t.id,p,m);f&&p.set(f)}e.tree.moveNode(o,a.baseVariantId,l),e.stores.selectionStore.set(o.id)}}async function _8(e,t,r,o){if(t.id===e.tree.root.homePageNodeId){let{incompatible:n,shallow:i}=iM(e);if(i.size===0)Ed(e,t,r,o,n);else{let a=await aM(e,i),s=new Set([...n,...a]);e.scheduler.process(()=>{Ed(e,t,r,o,s)})}Ht("layout_template_apply",{onHomePage:!0})}else Ed(e,t,r,o),Ht("layout_template_apply",{onHomePage:!1})}function sM(e,t,r){if(!Array.from(t).some(a=>{let s=r.get(a);return Le(s)}))return;let n=r.get(e.parentid),i=e;for(;n;){if(t.has(n.originalid??n.id)){let a=r.get(n.originalid??n.id),s=Hp(r,a),l=i.originalid??i.id;if(Le(a)&&l===s?.id)return a}i=n,n=r.get(n.parentid)}}function lM(e){return e}function cM(e){let t=new Set;return zh(e,r=>{r.providerId&&t.add(r.providerId)}),t}var Dl=(e,t,r,o)=>(n,i,a,s=lM,l=void 0)=>{if(ue(n))return s(r.create(n));if(kt(n)){let c=s(o.createComputedValue(n,i,l));return wu(n)?c:t.component.dedupe(a,c,sM(i,cM(n),e.tree))}W(n)};function Bd(e){if(Te(e))return"screen";if(Re(e))return"vector";if(Me(e))return"design";let{type:t}=Z(e.instanceIdentifier);return t}function Cb(e,t,{treeStore:r,modulesStore:o,engineChanges:n,assetMap:i},a=new Set,s=`framer-${$n(5)}`,l=!1){let c=Bd(t),m=new _r(...a),d=new So(c,o,m);d.addImport("react",{exportSpecifier:"*",importBinding:"React"});let p=new Il(t.id,Te(t)?e.id:t.id,c),f=ws(t);Ao(f!=="ContentManagement"&&f!=="Analytics"&&f!=="LocalizationGlossary","Content management, Analytics & Localization glossary nodes cannot be code-generated");let h=new as(m),y=new os(t),b=new To(i),S=new Pn(t,d,m,y,r,o,()=>{let Ae=d.addImport("framer",{exportSpecifier:"useRouter"});return h.component.dedupe("router",v.fn(Ae))}),I=new Ms(t,r,y,h.file,m,d,b),T=new Rs(m,y,I,b,S),R=new Xg(t,y,r,d,h,T,o,c),M=new Jg(h.file,h.component,d,y,R,S,T,o,c),L=new bl(t,m,h,d,y,r),F=new wl,j=new vl(h.component,t,e.id),z=Dl(r,h,y,M),ee=new Nf(t,y,r,M,z),oe=new Qs(t,e,s,ee),ve=new Set,D=new qs(e,y,r,m,d,{type:c}),ne=new wo(h.font),Q=new xl(Tp()),de=new Set,me={dependencies:de,addDependency:Ae=>de.add(Ae)},Ie=$t(t)&&!l?t.getReplicaVariants():[],Je={};if(Ue(t))for(let Ae of Ie)!xr(Ae)||Eg(Ae.gesture)||(Je[Ae.replicaInfo.inheritsFrom??Ae.replicaInfo.master]=!0);let K=new Cl(r.tree,m),E=new Wp(t,ne,d,h.file,y,o,r),ie=new Tl(o,r.tree),xe=new Nl(t),Xe=new Rl(d,r,o,z),zt=new Sl(r,y,M),et=pe(t)?y.create({id:"children",providerId:t.id}):void 0;return{type:"jsxContext",treeStore:r,modulesStore:o,engineChanges:n,assetMap:i,simulatedDOM:zt,variants:Ie,topLevelVariantsWithGestures:Je,imports:d,errors:p,variables:y,fetches:T,assets:b,valueTransforms:M,elementIds:L,css:oe,renderFunctions:j,events:D,links:S,fonts:ne,metrics:Q,packages:me,appearIds:K,bindings:m,declarations:h,preload:I,localizedValues:R,componentPresetIds:ve,renderAsListNodes:new Map,repeaterInfo:new Map,renderConditions:new Map,nodesWithAnyGradientFill:new Map,customCursors:E,cssVariableDefinitions:ee,formIds:new Set,hitTargets:xe,createDeduplicatedDynamicValueBinding:z,trackingIds:F,vectorSets:Xe,kitSectionsStructure:ie,llmSnapshot:l,scopeId:t.id,scopeType:f,moduleType:c,rootId:e.id,linkClassName:oe.addRule({display:"block"},t),layoutTemplateSlotBinding:et,nodeRendersWithMotion:new Ml,serializationId:s,acceptsLayoutTemplate:$(t)&&t.isLoaded()&&t.baseVariantId?Vl(t):void 0}}function vb({ctx:e,ancestorInfo:t,jsxAttributes:r,usedVariableIds:o,dataRepeater:n,primaryVariantControlMap:i,shouldInlineQuery:a,variantId:s}){let l=[],c=r.subqueries,m=t.subqueries,d=Yg(n,i,o,y=>{if(a){let b=m;for(;b;){if(y.providerId===b.repeaterNode.id){let S=Vs(b.repeaterNode),[I,T]=Qg(y.id,S);return{type:"Identifier",name:T,collection:I}}b=b.parent}}return g(e.variables,"VariableCollector is required"),l.push(y),{type:"LiteralValue",value:e.variables.create(y)}},y=>{let b=e.imports.addModuleImport(y);return g(b,"Can't import collection"),b});g(c,"Subqueries must exist");let p=c.getSubqueries(s);for(let[y,b]of p)d.select.push({type:"FunctionCall",functionName:"ARRAY",alias:y,arguments:[{type:"Select",...b}]});let f=c.getVariableDependencies(s);l.push(...f);let h=d;return a?(g(m,"Parent subqueries must exist"),m.addSubquery(s,n.originalid??n.id,d),m.addVariableDependencies(s,l)):e.preload.addQuery(n,h,l),new B({query:h,pageSize:n.collectionPaginationPageSize})}function dM(e,t){return N(e.subqueries)||t.isAnyVariantPaginated?!1:e.inRepeatedItem??!1}function bb(e,t,r,o,n){let i=o.inheritedControlMap?.get(e.id);g(i,"Primary variant control map must be defined.");let a=dM(r,o),s=vb({ctx:t,ancestorInfo:r,jsxAttributes:o,usedVariableIds:n,dataRepeater:e,primaryVariantControlMap:i,shouldInlineQuery:a,variantId:"primary"}),l={};for(let c of t.variants){let m=Zo(c,e.id,t.treeStore.tree)??e;g(Le(m),"Node must be a data repeater");let d=vb({ctx:t,ancestorInfo:r,jsxAttributes:o,usedVariableIds:n,dataRepeater:m,primaryVariantControlMap:i,shouldInlineQuery:a,variantId:c.id});pr(s,d)||(l[c.id]=d)}return a?null:{props:s,overrides:we(l)?void 0:l}}function uM(e,t){let r=t.imports.addImport("framer",{exportSpecifier:"useQueryData"});if(Sr(e)){let o=t.imports.addImport("framer",{exportSpecifier:"useLoadMorePaginatedQuery"}),n=u`paginatedQuery`;return u.joinLines(u`const { ${n}, paginationInfo, loadMore } = ${o}(query, pageSize, ${e.id})`,u`const data = ${v.fn(r,n)}`,u`return children(data, paginationInfo, loadMore)`)}return u.joinLines(u`const data = ${v.fn(r,u`query`)}`,u`return children(data)`)}function Ib(e,t){return u`({ query, pageSize, children }) => {
        ${uM(e,t)}
    }`}function Tb({renderAsListNodes:e},t){return t.parentid?e.has(t.parentid):!1}function Nb(e,t,{isAnyVariantALink:r},o){let n=o?"motion.":"";return Io(t)&&(st(t)||r)?`${n}a`:Tb(e,t)?`${n}li`:Co(t)&&t.htmlTag&&zn(e.scopeType)?`${n}${t.htmlTag}`:`${n}${es}`}function xb(e,t,{isAnyVariantAnEffect:r,isAnyVariantOptimizedAppearEffect:o},n){let i=[];r&&i.push(t.imports.addImport("framer",{exportSpecifier:"withFX"})),o&&i.push(t.imports.addImport("framer",{exportSpecifier:"withOptimizedAppearEffect"}));let a=t.treeStore.tree.get(n.lastRepeaterId);return Gr(a)&&Sr(a)&&jo(e,a)&&i.push(t.imports.addImport("framer",{exportSpecifier:"withInfiniteScroll"})),t.scopeType==="SmartComponent"?t.imports.addImport("framer",{exportSpecifier:"SmartComponentScopedContainer",composeWithImports:i}):t.imports.addImport("framer",{exportSpecifier:"Container",composeWithImports:i})}function mM(e,t){if(!pp(t.treeStore.tree,e)||!!!P.reactComponentForIdentifier(e.codeComponentIdentifier)?.annotations?.framerImmutableVariables)return;let o=Z(e.codeComponentIdentifier);if(!Se(o))return;let{importSpecifier:n,importBinding:i}=Jr(o,t.moduleType,t.modulesStore);if(!n)return;let a=t.imports.addImport(n,{exportSpecifier:"*",importBinding:`${i}Info`});return[t.imports.addImport("framer",{exportSpecifier:"withMappedReactProps"}),a]}function pM(e,t,r,o){let n=[];or(e)&&t.scopeType==="CanvasPage"&&n.push(t.imports.addImport("framer",{exportSpecifier:"withGeneratedLayoutId"}));let i=fM(e,t,r);i&&n.push(i);let a=tl(e,t);if(n.push(...a),i||a.length>0){let s=mM(e,t);s&&n.push(s)}return o.isAnyVariantAVariantAppearEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withVariantAppearEffect"})),U(e)&&!e.isVectorInstance||(o.isAnyVariantATickerEffect&&n.unshift(t.imports.addImport("framer",{exportSpecifier:"withTickerFX"})),o.isAnyVariantAnEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withFX"})),o.isAnyVariantOptimizedAppearEffect&&n.push(t.imports.addImport("framer",{exportSpecifier:"withOptimizedAppearEffect"}))),n}function fM(e,t,r){let o=el(e,t);if(!o)return;let{importSpecifier:n,exportSpecifier:i}=o,a={scopeId:t.scopeId,nodeId:e.originalid??e.id,override:t.imports.addImport(n,{exportSpecifier:i}),inComponentSlot:r.inComponentSlot?!0:void 0};return[t.imports.addImport("framer",{exportSpecifier:"withCodeBoundaryForOverrides"}),a]}function hM(e,t){if(e.kind!=="localModuleExport")return;let{localId:r}=e,n=t.modulesStore.getPersistedModuleByLocalId(r)?.metadata.packageDependencies;Array.isArray(n)&&n.forEach(i=>{A(i)&&t.packages.addDependency(i)})}function wb(e,t){let r=Is(e,P);if(!r)return;let o=Fe("prototype",r);return t.imports.addImport(`../${o}`,{exportSpecifier:"default",importBinding:"Prototype"})}function gM(e){switch(e){case"BooleanShapeNode":case"CodeComponentNode":case"FormBooleanInputNode":case"FormPlainTextInputNode":case"FormSelectNode":case"FrameNode":case"OvalShapeNode":case"OverlayNode":case"PathNode":case"PolygonShapeNode":case"RectangleShapeNode":case"RichTextNode":case"ShapeContainerNode":case"ShapeGroupNode":case"StarShapeNode":case"SVGNode":case"TextNode":{let t=e;return!0}case"AnalyticsScopeNode":case"BlockquoteEntityTypeRootNode":case"BlockquoteStylePresetNode":case"BoxShadow":case"CanvasNode":case"CanvasPageNode":case"CanvasScopeNode":case"ChatTool":case"CMSEntityTypeRootNode":case"CodeFileEntityTypeRootNode":case"CollectionReferenceVariableEditTool":case"CollectionItemNode":case"CollectionNode":case"Color":case"ColorEntityTypeRootNode":case"ColorStyleTokenListNode":case"ColorStyleTokenNode":case"ComponentEntityTypeRootNode":case"ComponentPresetNode":case"ConicGradient":case"ContentManagementNode":case"CreateCodeComponentBaseTool":case"CreateFrameBaseTool":case"CreateShapeBaseTool":case"CreateTextTool":case"DateVariableEditTool":case"DesignPageNode":case"EntityFolderNode":case"EntityReferenceNode":case"EntityRootNode":case"ErrorListNode":case"ErrorNode":case"ExportOptions":case"EnumVariableEditTool":case"ExternalModuleNode":case"ExternalModulesListNode":case"FeedbackTool":case"FunnelNode":case"FunnelStepActionNode":case"FunnelStepNode":case"GapTool":case"GradientColorStop":case"GradientToolManagerTool":case"GuideMoveTool":case"HeaderRouteNode":case"HighlightStackItemTool":case"HighlightTool":case"ImageStylePresetNode":case"InitialTool":case"InlineCodeEntityTypeRootNode":case"InlineCodeStylePresetNode":case"LayoutTemplateEntityTypeRootNode":case"LayoutTemplateNode":case"LineAnchorMoveTool":case"LinearGradient":case"LinkEntityTypeRootNode":case"LinkStylePresetNode":case"LinkTool":case"LoadingShieldTool":case"LocalizationGlossaryItemNode":case"LocalizationGlossaryNode":case"LocalModuleNode":case"LocalModulesListNode":case"Menu":case"MoveTool":case"MutableNode":case"PaddingTool":case"PageLinkTool":case"PanTool":case"PathCurveBendTool":case"PathDefaultTool":case"PathSegment":case"PathSegmentAdditionTool":case"PathSegmentHandleMoveTool":case"PathSegmentMoveTool":case"PathSegmentSelectTool":case"PresetsListNode":case"PreviewSettings":case"ProxyRouteNode":case"RadialGradient":case"RadiusTool":case"RecoveryTool":case"RedirectRouteNode":case"ResizeTool":case"RewriteRouteNode":case"RichTextEditTool":case"RichTextVariableEditTool":case"RootNode":case"RotateTool":case"RouteNode":case"RouteSegmentNode":case"RouteSegmentRootNode":case"RoutesNode":case"SampleColorTool":case"ScaleTool":case"ScopeNode":case"SelectTool":case"Shadow":case"SlotConnectTool":case"SlotNode":case"SlotPropertyNode":case"SmartComponentNode":case"StringVariableEditTool":case"StyledTextDraft":case"TableStylePresetNode":case"TestTool":case"TextEditTool":case"TextEntityTypeRootNode":case"TextStylePresetNode":case"VectorSetEntityTypeRootNode":case"VectorSetNode":case"VekterGradientTool":case"VekterPathEngine":case"VekterTool":case"ViewportResizeTool":case"WebPageNode":case"ZoomSelectTool":case"ZoomTool":{let t=e;return!1}default:W(e)}}function Rb(e,t,r,o){if(!gM(e.__class))throw Error(`jsxTagNameForNode: ${e.__class} does not support serialization to JSX.`);let n=pM(e,t,r,o);switch(e.__class){case"SVGNode":case"ShapeContainerNode":case"BooleanShapeNode":case"OvalShapeNode":case"PathNode":case"PolygonShapeNode":case"RectangleShapeNode":case"ShapeGroupNode":case"StarShapeNode":return t.imports.addImport("framer",{exportSpecifier:"SVG",composeWithImports:n});case"TextNode":return t.imports.addImport("framer",{exportSpecifier:"Text",composeWithImports:n});case"RichTextNode":return t.imports.addImport("framer",{exportSpecifier:"RichText",composeWithImports:n});case"FrameNode":{if(Vr(e))return t.imports.addImport("framer",{exportSpecifier:"FormContainer",composeWithImports:n});if(Tt(e)||o.isAnyVariantAnImage)return t.imports.addImport("framer",{exportSpecifier:"Image",composeWithImports:n});let i=t.nodeRendersWithMotion.get(e);g(!N(i),"Node must have had `rendersWithMotion` computed for it.");let a=Nb(t,e,o,i);return i?t.imports.addImport("framer-motion",{exportSpecifier:a,composeWithImports:n}):new v(a)}case"CodeComponentNode":{if(g(mo(e),"Nodes with a ClassDiscriminator of CodeComponentNode must be a Code Component"),BC(e))return t.imports.addImport("framer",{exportSpecifier:OC(e)});if(gn(e)||o.identifiers&&o.identifiers.size>1)return t.imports.addImport("framer",{exportSpecifier:"Instance",composeWithImports:n});let i=Z(e.codeComponentIdentifier);if(!Se(i)){let c=au(e.codeComponentIdentifier);return g(c,"A package must have module information to be included in code-generation."),t.packages.addDependency(c.packageName),t.imports.addImport(c.moduleURL,{exportSpecifier:c.exportIdentifier,composeWithImports:[t.imports.addImport("framer",{exportSpecifier:"withMeasuredSize"})]})}g(Se(i),"A code component that is not a package must be a module.");let{importSpecifier:a,exportSpecifier:s,importBinding:l}=Jr(i,t.moduleType,t.modulesStore);return g(a,"A module must have an import specifier."),hM(i,t),t.fonts.addFontReference({componentIdentifier:e.codeComponentIdentifier,fontReference:t.imports.addImport(a,{exportSpecifier:s,importBinding:l,composeWithImports:[t.imports.addImport("framer",{exportSpecifier:"getFonts"})]})}),t.imports.addImport(a,{exportSpecifier:s,importBinding:l,composeWithImports:n})}case"OverlayNode":return t.imports.addImport("framer",{exportSpecifier:"ResetOuterLinkContext"});case"FormBooleanInputNode":return t.imports.addImport("framer",{exportSpecifier:"FormBooleanInput",composeWithImports:n});case"FormPlainTextInputNode":return t.imports.addImport("framer",{exportSpecifier:"FormPlainTextInput",composeWithImports:n});case"FormSelectNode":return t.imports.addImport("framer",{exportSpecifier:"FormSelect",composeWithImports:n});default:W(e.__class)}}function Mb(e,t){if(mt(t)){let r=e.dataForIdentifier(t.dataIdentifier);return g(r,"A Data Repeater must have an evaluated data entity in the sandbox."),{id:t.id,annotations:r.annotations}}if(Xo(t))return{id:t.id,annotations:void 0};W(t,"A data repeater must have either an identifier or array variable")}function yM(e,t,r){let o=[];for(let n of t){if(ic(n))continue;let i=r?.get(n);if(!i)continue;let a=_o(n,e.id,!1),s=sm(i.type);Dr(s)&&o.push(u`${a} ??= ${s}`)}return o}function SM(e,t,r,o){if(mt(e)){let n=r?.framerRecordIdKey;return n?t.variables.create(pn(n,e.id)):o}return t.bindings.create("id")}function CM(e,t){if(mt(e))return t.bindings.createWithNode("collection",e);if(Xo(e))return t.variables.create(e.dataRepeaterArray);W(e,"parent should be a collection or array repeater")}function vM(e,t,r,o,n){let i=mt(e)?{}:{[gh]:t};for(let a of r)ic(a)||(i[a]=_o(a,e.id,!1));if(mt(e)){g(o,"Subqueries must exist");for(let a of o.childRepeaterIds){let s=n.treeStore.tree.get(a);g(s,"Repeater node must exist");let l=n.bindings.createWithNode("collection",s);i[a]=l}}return i}function Vb(e,t,r,o,n){let i=SM(e,o,t,n),a=CM(e,o),s=o.variables.variableIdsByProviderId.get(e.id)??new Set,l=vM(e,i,s,r.subqueries,o),c=r.inheritedControlMap?.get(e.id),m=Ia(e);return{args:u`${l}, ${n}`,variableFallbackList:yM(e,s,c),data:a,key:m?u`${i} ?? ${n}`:i}}var bM=fe("jsxForNode");async function IM(e,t,r,o){let n=Ns(t.treeStore.tree,e,P);for(let i in n){if(i==="children")continue;let a=[],s=n[i];if(s){for(let l=0;l<s.length;l++){let c=s[l];if(!c)continue;let m=await Pl(c.node,e,t,{...o,inComponentSlot:!0,layoutId:`${c.key}-${o.layoutId??c.node.originalid??c.node.id}-${l}`});m&&m.length>0&&a.push(m)}r.props[i]=a}}}function TM(e,t,r){if(Ve(e))return Y(Ar(t.imports.addImport("framer-motion",{exportSpecifier:"motion.div"}),t,r));if(U(e)&&e.codeComponentIdentifier==="framer/Prototype"){let o=wb(e,t);if(o)return Y(ce.tag(o,void 0))}return""}function NM(e,t,r){if(Le(t)){let o=Mb(P,t);return r.repeaterInfo.set(t.id,o),t.id}return e.lastRepeaterId}function xM(e,t,r){return Le(t)?!1:!!(kn(r.treeStore.tree,t)||e.inRepeatedItem)}function wM(e,t,r,{itemsOrderOverrides:o,hiddenInVariants:n,inheritedControlMap:i,inCodeOverride:a,subqueries:s,kitSectionId:l}){return{...e,lastRepeaterId:NM(e,t,r),inRepeatedItem:xM(e,t,r),subqueries:s,itemsOrderOverrides:o,hiddenInVariants:n,inheritedControlMap:i,inCodeOverride:a,kitSectionId:e.kitSectionId??l,inComponentSlot:e.inComponentSlot||U(t)&&t.codeComponentIdentifier!=="framer/Prototype"}}function RM(e,t,r,o,n){let i=[],s=o.treeStore.tree.getPresetsListNode()?.getComponentPresets();if(qe(e)&&ue(e.htmlContent)&&s&&s.length>0){let p=o.imports.addImport(`../${Hn}`,{exportSpecifier:"*",importBinding:"componentPresets"}),f={},h=e.getComponentPresets();for(let[y,b]of h)o.componentPresetIds.add(b),f[y]=u`${p}.props[${b}]`;i.push(y=>ce.tag(o.imports.addImport("framer",{exportSpecifier:"ComponentPresetsProvider"}),new B({presets:f}),y))}U(e)&&vr(e)&&i.push(p=>Ar(xb(e,o,r,n),o,r.propsForContainer,p)),U(e)&&!e.isVectorInstance&&i.push(p=>Ar(o.imports.addImport("framer",{exportSpecifier:"ComponentViewportProvider"}),o,r.propsForComponentViewport,p));let l=o.links.getUnresolvedLinksForNode(e);if(l){let{unresolvedLinks:p,binding:f}=l;if(Dr(p)||vu(p)){let h=o.imports.addImport("framer",{exportSpecifier:"ResolveLinks"}),y=new B({links:p});i.push(b=>Ar(h,o,{props:y},u`(${f}) => (${b})`))}}if(r.isAnyVariantALink&&i.push(p=>Ar(o.imports.addImport("framer",{exportSpecifier:"Link"}),o,r.propsForLink,p)),Le(e)&&go(e)&&Db(e,o,n,r,i),r.isAnyVariantATransitionOverride){let p=o.imports.addImport("framer-motion",{exportSpecifier:"MotionConfigContext"}),f=o.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),h=o.declarations.file.dedupe("Transition",new v(re.lines(u`({value, children}) => {`,u`const config = ${f}.useContext(${p})`,u`const transition = value ?? config.transition`,u`const contextValue = ${f}.useMemo(() => ({ ...config, transition }), [JSON.stringify(transition)])`,u`return <${p}.Provider value={contextValue}>{children}</${p}.Provider>`,u`}`)));i.push(y=>Ar(h,o,r.propsForTransition,y))}let c=o.events.overlayTriggerOverlayBindings.get(e.id);if(c&&c.size>0){i.push(b=>ce`<>${b}</>`);let p=u`visible`,f=u`setVisible`,h={visible:u`enabled && ${p}`,[Ks.show]:u`() => ${v.fn(f,u`true`)}`,[Ks.hide]:u`() => ${v.fn(f,u`false`)}`,[Ks.toggle]:u`() => ${v.fn(f,u`!${p}`)}`},y=o.declarations.file.dedupe("Overlay",new v(re.lines(u`({ children, blockDocumentScrolling, enabled = true, }) => {`,u`const ${[p,f]} = ${v.fn(o.imports.addImport("framer",{exportSpecifier:"useOverlayState"}),u`{ blockDocumentScrolling }`)}`,u`return children(${h})`,u`}`)));for(let[b,S]of c){let I=o.treeStore.tree.get(b);if(!I)continue;let T=new B({blockDocumentScrolling:Ve(I)?I.blockDocumentScrolling:!1}),R=o.renderConditions.get(b);It(R)&&(T.enabled=R),i.push(M=>ce.tag(y,T,u`${S} => (${M})`))}}let m=o.events.overlayState.get(e.id);if(m&&Ve(e)){let p=t?o.elementIds.id(t):u`undefined`;i.push(S=>ce.tag(o.imports.addImport("framer",{exportSpecifier:"InjectSelectionStyle"}),new B({triggerId:p}),S));let f=o.imports.addImport("react-dom",{exportSpecifier:"*",importBinding:"ReactDOM"}),h=`#${wa}`,y=`#${xa}`,b=o.declarations.file.dedupe("getContainer",u`() => {${u.joinLines(u`return document.querySelector(${h}) ?? document.querySelector(${y}) ?? document.body`)}}`);i.push(S=>ce`<>{${f}.createPortal(${S}, ${v.fn(b)})}</>`)}t&&m&&Lt(e)&&r.isAnyVariantFloating&&i.push(p=>Ar(o.imports.addImport("framer",{exportSpecifier:"Floating"}),o,r.propsForFloating,p)),m&&Nt(e)&&i.push(p=>ce.tag(o.imports.addImport("framer-motion",{exportSpecifier:"AnimatePresence"}),void 0,u`${m}.visible && (${p})`)),r.renderCondition!==!0&&i.push(p=>u`${r.renderCondition} && (${p})`);let d=o.fetches.getResultBinding(e);if(r.propsForFetcher&&d&&i.push(p=>Ar(o.imports.addImport("framer",{exportSpecifier:"Fetcher"}),o,r.propsForFetcher,u`${d} => (${p})`)),Le(t)&&kn(o.treeStore.tree,e)){let p=o.repeaterInfo.get(t.id);if(g(p,"jsxForNode: `repeaterInfo` must exist when transforming the child of a repeater."),mt(t)){let T=o.links.getPathVariablesForRepeaterInfo(p);T&&i.push(R=>ce.tag(o.imports.addImport("framer",{exportSpecifier:"PathVariablesContext.Provider"}),new B({value:T}),R))}let f=o.bindings.createWithNode("index",t),{data:h,args:y,variableFallbackList:b,key:S}=Vb(t,p.annotations,r,o,f),I=o.variables.variableIdsByProviderId.get(t.id)?.has(nc)?new v(_o(nc,t.id,!1)):void 0;i.push(T=>u`${h}?.map((${y}) => {${u.joinLines(...b,I&&u`const ${I} = ${f} + 1`,...o.declarations.component.list(t),u`return (${ce.tag(o.imports.addImport("framer-motion",{exportSpecifier:"LayoutGroup"}),new B({key:S,id:he`${t.id}-${S}`}),T)})`)}})`)}return i}function MM(e,t,r){let n=vr(e)?t.propsForContainer:t.propsForElement,i=r.events.overlayTriggerOverlayBindings.get(e.id);if(i&&i.size>0){let l=n.props;l||(l=new B),l.id=l.id??r.elementIds.id(e)}let s=r.cssVariableDefinitions.getDefinitionsForNode(e)??{};if(!we(s)){let l=n.props;l||(l=new B),l.style?Object.assign(l.style,s):l.style=s}}async function Pl(e,t,r,o){try{if(co(e)){g(t&&r.layoutTemplateSlotBinding,"A SlotNode must be in a Layout Template and have a parent.");let l=_v(e,t,r);return ce`${u.joinLines(ce.children(r.layoutTemplateSlotBinding),ce.tag(u`div`,new B({className:l})))}`}await kM(e,r),r.metrics.count("nodes");let n=jv(e,t,r,o);if(!n)return ce``;U(e)&&await IM(e,r,n.propsForElement,o);let i=TM(e,r,n.propsForElement),a=wM(o,e,r,n);for(let l of PM(e,r)){if(Nt(l)&&!r.events.overlayState.has(l.id))continue;let c=await Pl(l,e,r,a);c&&(i+=Y(ce.children(c)))}MM(e,n,r);let s=await LM(e,r,o,a,n,ce.fromTrustedString(i));return ce.applyTransforms(s,RM(e,t,n,r,o))}catch(n){return bM.reportError(n,{node:e.id,primaryVariant:r.rootId}),r.errors.record(e,n),ce``}}async function Fl(e,t,r,o,n=`framer-${$n(5)}`,i=!1){let{combinedVariableControlMap:a}=t.combineVariableControlMap(r.treeStore.tree,void 0,P,P.activeBundleHash),s={inheritedControlMap:a},l=Cb(e,t,r,o,n,i);return{ctx:l,jsx:await Pl(e,null,l,s)}}async function kl(e,t,{modulesStore:r,errors:o,treeStore:n,rootId:i}){let a=n.tree.get(i),s=n.tree.getScopeNodeFor(a);if(Km(n.tree,s,e))return;for(let c of t)if(Vt(c)&&c.type==="codeFile"){let d=P.componentForIdentifier(c.value),p=P.errorForIdentifier(c.value);d?p&&o.record(e,"CodeError",c.value):o.record(e,"MissingModule",c.value);return}let l=VM(t);l.length>0&&await r.preloadExternalModules(l),await Wn(P,t.map(c=>c.value),r)}function VM(e){let t=[];for(let r of e)Ir(r)&&t.push(r);return t}function DM(e,t){if(!Se(e.codeComponentIdentifier))return;let r=new Set([e.codeComponentIdentifier]);for(let o of t.variants){let n=Zo(o,e.id,t.treeStore.tree);n&&(g(U(n),"Expected a CodeComponentNode in the variant",n?.id),Se(n.codeComponentIdentifier)&&r.add(n.codeComponentIdentifier))}return r}async function kM(e,t){if(U(e)){if(e.codeComponentIdentifier==="framer/Prototype"){let n=Is(e,P);if(!n)return;await kl(e,[dt("prototype",n,"default")],t)}let r=DM(e,t);if(!r)return;let o=[];for(let n of r)o.push(Z(n));await kl(e,o,t)}if(Um(e)){if(!Se(e.codeOverrideIdentifier))return;await kl(e,[Z(e.codeOverrideIdentifier)],t)}mt(e)&&await kl(e,[Z(e.dataIdentifier)],t)}function PM(e,t){return!wn(e)||hn(e)||qe(e)?Zd():U(e)&&e.codeComponentIdentifier!=="framer/Prototype"?Ig(t.treeStore.tree,e,P).map(r=>r.node):e.children}function Db(e,t,r,o,n){if(!Ia(e)){if(mt(e)){let i=t.variables.variableIdsByProviderId.get(e.id)??new Set,a=bb(e,t,r,o,i);if(a){let s=t.declarations.file.dedupe("QueryData",Ib(e,t)),l=t.bindings.createWithNode("collection",e),c=t.bindings.createWithNode("paginationInfo",e),m=t.bindings.createWithNode("loadMore",e);n.push(d=>ce.tag(t.imports.addImport("framer",{exportSpecifier:"ChildrenCanSuspend"}),void 0,Ar(s,t,a,u`(${l}, ${c}, ${m}) => (<>${d}</>)`)))}return}W(e,"All data repeater types should be handled")}}function FM(e,t,r,o){let n=[];return Vr(e)&&n.push(i=>u`(${Sd}) => (<>${i}</>)`),Le(e)&&!go(e)&&Db(e,t,r,o,n),n}async function LM(e,t,r,o,n,i){let a=Ar(Rb(e,t,r,n),t,Ve(e)?void 0:n.propsForElement,ce.applyTransforms(i,FM(e,t,r,n)));if((U(e)||qe(e))&&lp(e,"framer/useShowRelativeOverlay")){let s=Y(a);for(let l of e.children){if(!Nt(l)||!t.events.overlayState.has(l.id))continue;let c=await Pl(l,e,t,o);c&&(s+=Y(ce.children(c)))}return ce.fromTrustedString(s)}return a}function Ar(e,t,r,o){if(!r)return ce.tag(e,void 0,o);let{props:n=new B,overrides:i}=r,a=[];if(i)switch(t.scopeType){case"SmartComponent":B.addSpreadAtEnd(n,v.fn(u`addPropertyOverrides`,i,u`baseVariant`,u`gestureVariant`));break;case"WebPage":case"LayoutTemplate":a.push(s=>ce.tag(t.imports.addImport("framer",{exportSpecifier:"PropertyOverrides"}),new B({breakpoint:u`baseVariant`,overrides:i}),s));break;default:break}return ce.applyTransforms(ce.tag(e,n,o),a)}async function Ll(e,t,r,o,n,i){return fo(t)&&t.usesDOMRectCached()&&!t.getDOMRect()&&(await EM(t,o,r,n),!t.cache.getRawDOMRect(t.id)&&i)?rt.atOrigin(i):e.getRect(t)}async function EM(e,t,r,o){if(t){let a=(await t({ids:[e.id]}))?.measurements?.[0];if(a){let{layoutMetrics:s}=a,l=rt.from(s);e.cache.setRawDOMRect(e.id,l);return}}if(!r)return;let n=AM(r,o);if(n){let i=rt.atOrigin(n);e.cache.setRawDOMRect(e.id,i)}}function AM(e,t){if(!Vt(e))return;let r=t.getPersistedModuleByLocalIdentifier(e);if(!r)return;let{intrinsicWidth:o,intrinsicHeight:n}=r.metadata;if(G(o)&&G(n))return{width:o,height:n}}var Zt={Screen:u`Screen`,activeVariantCallback:x.activeVariantCallback,css:x.css,delay:x.delay,ref:x.ref,serializationHash:x.serializationHash,sharedStyleClassNames:x.sharedStyleClassNames,restProps:x.restProps,refBinding:x.refBinding},BM=new Set(Object.values(Zt).map(e=>Y(e))),kb=wt(async(e,t,{serializationId:r,initialIntrinsicSize:o})=>{let n=t.treeStore.tree.getScopeNodeFor(e);if(!Te(n))return[];let i=t.treeStore.tree.get(e.id);g(i,"Must have a source node to serialize. This should be a primary variant."),g(Te(n),"Must have a scope node to serialize. This should be a CanvasPage Node.");let{assetMap:a,engineChanges:s,modulesStore:l,treeStore:c}=t,m={assetMap:a,engineChanges:s,modulesStore:l,treeStore:c},d=`FramerScreen${be(e.id)}`,p=dt("screen",e.id,"default").value,{jsx:f,ctx:h}=await Fl(i,n,m,new Set(BM).add(d),r);g(f,"There must be JSX to serialize.");let y=h.imports,b=await Ll(m.treeStore.tree,i,p,t.measureNodes,m.modulesStore,o),S=h.events.navigationTargets.size>0,I=h.events.handlers.size>0,T=h.events.variantOnAppearId.get(e.id),R=h.events.keyBindHooks.size>0,M=[];for(let me of h.events.navigationTargets)me!==ud&&M.push(me);let L=h.fonts.fontObjects,F=new Map(h.fonts.fontReferences),{variables:j}=h.variables,z=[],ee=new Set(h.css.sharedStyleIds),oe=[];for(let me of ee){let Ie=Fe("css",me),Je=y.addImport(`../${Ie}`,{exportSpecifier:"*",importBinding:"sharedStyle"});oe.push(Je),z.push(v.fn(y.addImport("framer",{exportSpecifier:"getFontsFromSharedStyle"}),u`${Je}.fonts`))}let ve;for(let me of h.componentPresetIds){ve??=y.addImport(`../${Hn}`,{exportSpecifier:"*",importBinding:"componentPresets"});let Ie=u`${ve}.fonts?.[${me}]`;z.push(u`(${Ie} ? ${v.fn(h.imports.addImport("framer",{exportSpecifier:"getFontsFromComponentPreset"}),Ie)} : [])`)}let D=new Map;En(h.css.get(),D);let ne=new v(d),Q=y.addImport("react",{exportSpecifier:"useRef"}),de=re.lines(S&&`const preload = ${Y(M)};`,...h.declarations.file.list(),u`const ${Zt.serializationHash} = ${r}`,u`const ${Zt.Screen} = ${OM({props:u`style, className`},u`const fallbackRef = ${v.fn(u`${Q}<HTMLElement>`,u`null`)}`,u`const ${Zt.refBinding} = ${Zt.ref} ?? fallbackRef`,S?u`const navigate = ${v.fn(y.addImport("framer",{exportSpecifier:"usePrototypeNavigate"}),{preload:u`preload`})}`:void 0,I&&u`const { ${Zt.activeVariantCallback}, ${Zt.delay} } = ${v.fn(y.addImport("framer",{exportSpecifier:"useActiveVariantCallback"}))}`,...h.events.handlers.values(),u`const ${Zt.sharedStyleClassNames} = ${oe.map(me=>u`${me}.className`)}`,...h.declarations.component.list(),R&&re.linesFrom(h.events.keyBindHooks),T&&v.fn(y.addImport("framer",{exportSpecifier:"useOnAppear"}),T),j.size>0&&u`const { ${u.listFrom(j)} } = {}`,u`return ${f}`)}`,u`const ${Zt.css} = ${[...h.css.conditionalRules(r),ss,...An(D),...oe.map(me=>u`...${me}.css`)]}`,ls(ne,r,Zt.Screen,Zt.css,{framerIntrinsicHeight:b.height,framerIntrinsicWidth:b.width,framerSupportedLayoutWidth:"fixed",framerSupportedLayoutHeight:"fixed",framerScreen:void 0,framerDisplayContentsDiv:!1},y),u`${ne}.displayName = ${`Screens/${n.name?.trim()||"Generated Component"}`};`,u`${ne}.defaultProps = ${{width:b.width,height:b.height}};`,_s({componentName:ne,fontObjects:L,fontReferences:F,imports:y,declarations:h.declarations.font,sharedFontArrays:z}));return[{type:"screen",revision:void 0,source:new v(re.sections(re.linesFrom(y.statements),de)),artifacts:{assets:h.assets.keys,packageDependencies:h.packages.dependencies,metrics:h.metrics.get()}}]});function OM({props:e},...t){return new v(re.lines(u`React.forwardRef(function({ ${e}, ...${Zt.restProps} }, ${Zt.ref}) {`,...t,u`});`))}var Fb="{serializationId}";function Pb(e){return`.${Fb} ${e}`}var Lb=wt(async(e,{treeStore:t},{serializationId:r})=>{let o=new _r,n=new is(o),i=new wo(n),a=e.getFontsForCodeGeneration(),s=e.moduleSourceRevision,l=Cn(e);for(let S of a)i.addFontObjectBySelector(S,l);let c=[],m=new Ln,d={colors:m};for(let{selectors:S,declarations:I}of e.getCSS(d)){let T=S.map(Pb);c.push(`${T.join(", ")} { ${I} }`)}let p=t.tree.getNodesWithTrait(e.cache.replicaInstances??[],Sh).filter(Ip).sort((S,I)=>(I.breakpointWidth??0)-(S.breakpointWidth??0));for(let S=0;S<p.length;S++){let I=p[S];if(I===void 0)continue;let T=p[S+1],R=I.breakpointWidth-1,M=T?.breakpointWidth??0;for(let{selectors:L,declarations:F}of I.getCSS(d)){let z=`${L.map(Pb).join(", ")} { ${F} }`;c.push(`@media (max-width: ${R}px) and (min-width: ${M}px) { ${z} }`)}}let f=m.getWideGamutColorRules(`.${r}`);f.length&&c.push(`@supports (color: color(display-p3 1 1 1)) { ${f.join(" ")} }`);let h=c.map(S=>S.replaceAll(Fb,r)),y=Li({fontObjects:i.fontObjects,fontReferences:i.fontReferences}),b=u.joinLines(u`import { fontStore } from "framer";`,u`fontStore.loadFonts(${a});`,...n.list(),u`export const fonts = ${y};`,u`export const css = ${h};`,u`export const className = ${r};`);return[{revision:s,type:"css",source:b,artifacts:{metrics:{nodes:c.length}}}]});function zd(e){if(gt(e))return{widthType:e.widthType,heightType:e.heightType,...yo(e)?{minHeight:e.minHeight,maxHeight:e.maxHeight,minWidth:e.minWidth,maxWidth:e.maxWidth}:ap}}function Wd(e,t){if(De(t))return{min:e.getRect(t).width}}var zM=new Set(Object.values(x).map(e=>Y(e)));function WM(e,t){if(or(e)){let r=t.get(e.parentid);return!Me(r)||!r.isLoaded()?null:r}return t.current(e)}var $d=wt(async(e,t,{serializationId:r,initialIntrinsicSize:o})=>{let{assetMap:n,engineChanges:i,modulesStore:a,treeStore:s,aiGenerationStore:l,measureNodes:c}=t,m=Et(e,s.tree)?e.moduleSourceRevision:void 0,d=WM(e,s.tree);g(d?.isLoaded(),"The scope node must be valid.");let p=Bd(d),f=$t(d)?d.baseVariantId:e.id,h=s.tree.get(f);g(h,"Must have a source node to serialize. This should be a primary variant.");let y={assetMap:n,engineChanges:i,modulesStore:a,treeStore:s},b=`Framer${e.id}`,S=new v(b),{jsx:I,ctx:T}=await Fl(h,d,y,new Set(zM).add(b),r);g(I,"There must be JSX to serialize.");let R=T.imports,M=Me(d),L=M?void 0:d.instanceIdentifier,F=await Ll(y.treeStore.tree,h,L,c,y.modulesStore,o),j=$t(d)?d.getReplicaVariants():[],{variants:z,hook:ee}=T.preload.getHook(),{gestures:oe,breakpoints:ve,classNames:D,sizes:ne,appearEventMap:Q}=ZM(h,j,T,y,z),de=Ue(d)?[d.baseVariantId,...d.getTopLevelReplicaVariants().map(Fs)]:[],me=de.length>1,Ie=!we(oe),Je=!we(Q),K=!we(ve),E=u`${R.addImport("react",{exportSpecifier:"*",importBinding:"React"})}.useId`,{mediaQueries:ie,sharedStyleImports:xe,sharedFontArrays:Xe,css:zt}=KM(r,T,j,ve,d),et=ce.applyTransforms(I,eV(d,T,qM(d,h,j,ie,y.treeStore,T))),Ae=UM(d,t),Wt=$(d)?oy(d,Ae?.controlMap):new Set,cr={};for(let mr of Wt){let Jt=pn(mr,d.id);cr[mr]=T.variables.create(Jt)}let{props:br,types:_t,propertyControls:ze,variableMap:te}=Ls(d,y,T,ws(d),p,F),le=!K&&u`const ${x.layoutDependency} = ${v.fn(T.declarations.file.dedupe("createLayoutDependency",u`(props, variants) => {${u.joinLines(u`if (props.layoutDependency) return variants.join('-') + props.layoutDependency`,u`return variants.join('-')`)}}`),u`props`,x.variants)}`,{cursors:We}=T.customCursors,dr=R.addImport("react",{exportSpecifier:"useRef"}),ur=re.sections(Ie&&u`const ${x.enabledGestures} = ${oe};`,me&&`const ${x.cycleOrder} = ${Y(de)};`,K&&`const ${x.breakpoints} = ${Y(ie)}`,K&&`const ${x.isBrowser} = () => typeof document !== "undefined";`,M&&u`const ${x.variant} = undefined;`,M&&u`const ${x.breakpoints} = undefined;`,M&&u`const ${x.layoutId} = undefined;`,M&&u`const ${x.className} = undefined;`,M&&u`const ${x.style} = undefined;`,u`const ${x.serializationHash} = ${r}`,`const ${x.variantClassNames} = ${Y(D)};`,!K&&jM,...T.declarations.file.list(),`export interface Props extends React.HTMLAttributes<HTMLDivElement> { ${_t} }`,`const ${x.Component} = ${HM(u`const fallbackRef = ${v.fn(u`${dr}<HTMLElement>`,u`null`)}`,u`const ${x.refBinding} = ${x.ref} ?? fallbackRef`,u`const ${x.defaultLayoutId} = ${v.fn(E)}`,`const { ${x.activeLocale}, ${x.setLocale} } = ${v.fn(R.addImport("framer",{exportSpecifier:"useLocaleInfo"}))}`,T.variables.shouldProvideLayoutDirection?u`const ${x.layoutDirection} = ${v.fn(R.addImport("framer",{exportSpecifier:"useLayoutDirection"}))}`:void 0,Ue(d)||$(d)?u`const ${x.componentViewport} = ${v.fn(T.imports.addImport("framer",{exportSpecifier:"useComponentViewport"}))}`:void 0,XM({data:Ae,imports:R,variables:T.variables.variables}),br,$(d)&&_M({webPageNodeId:e.id,metadataDependencies:cr,imports:R,bindings:T.bindings}),K?u.joinLines(u`const [${x.baseVariant}, ${x.hydratedBaseVariant}] = ${v.fn(R.addImport("framer",{exportSpecifier:"useHydratedBreakpointVariants"}),x.variant,x.breakpoints,u`false`)};`,u`const ${x.gestureVariant} = undefined;`):$M(h.id,Ie,me,R),le,QM(T),...T.events.routeHandlers.values(),T.events.handlers.size>0&&u`const { ${x.activeVariantCallback}, ${x.delay} } = ${v.fn(R.addImport("framer",{exportSpecifier:"useActiveVariantCallback"}),K?u`undefined`:x.baseVariant)}`,...T.events.handlers.values(),Je&&v.fn(R.addImport("framer",{exportSpecifier:"useOnVariantChange"}),K?x.hydratedBaseVariant:x.baseVariant,Q),u`const ${x.sharedStyleClassNames} = ${xe.map(mr=>u`${mr}.className`)}`,...T.declarations.component.list(),We,ee?.(Ie?x.enabledGestures:u`undefined`),u`return (${et})`)}`,zt,ls(S,r,x.Component,x.css,GM(d,T,F,ne,te),R),`${b}.displayName = ${Y(d.name?.trim()||"Generated Component")};`,`${b}.defaultProps = ${Y({width:F.width,height:F.height})};`,ze&&v.fn(R.addImport("framer",{exportSpecifier:"addPropertyControls"}),S,new v(`${Y(ze)} as any`)),_s({componentName:S,fontObjects:T.fonts.fontObjects,fontReferences:T.fonts.fontReferences,imports:R,declarations:T.declarations.font,sharedFontArrays:Xe})),[no]=$(d)?await ry(d,t,{serializationId:r}):[];return Ds([{type:p,revision:m,source:new v(re.sections(re.linesFrom(R.statements),ur)),artifacts:{packageDependencies:T.packages.dependencies,errors:T.errors.errors,assets:T.assets.keys,metrics:T.metrics.get(),kitSectionsStructure:l.cacheKitSectionsStructure(e.id,T.kitSectionsStructure.structure)}},no,T.localizedValues.module(m)])});function $M(e,t,r,o){let n=B.fromEntries([[x.defaultVariant,e],[x.variant,x.variant],[x.variantClassNames,x.variantClassNames],[x.enabledGestures,t?x.enabledGestures:void 0],[x.cycleOrder,r?x.cycleOrder:void 0],[x.ref,x.refBinding]]),i=v.fn(o.addImport("framer",{exportSpecifier:"useVariantState"}),n),a=x.variants,s=x.baseVariant,l=u`setVariant`,c=x.gestureVariant,m=x.classNames,d=x.setGestureState,p=x.gestureHandlers,f=x.clearLoadingGesture,h=x.isLoading;return re.lines(u`const ${{variants:a,baseVariant:s,setVariant:l,gestureVariant:c,classNames:m,setGestureState:d,gestureHandlers:p,clearLoadingGesture:f,isLoading:h}} = ${i}`)}function HM(...e){return re.sections(u`React.forwardRef<HTMLDivElement, Props>(function(props, ${x.ref}) {`,...e,u`});`)}function GM(e,t,r,o,n){let{height:i,width:a}=r,s={propertyName:"variant",data:Object.fromEntries(Object.entries(o).map(([c,m])=>[c,Ap(m)]))},l={framerIntrinsicHeight:i,framerIntrinsicWidth:a,framerRootFontSize:wr(e)?e.getPrimaryVariant()?.rootFontSize:void 0,framerCanvasComponentVariantDetails:JSON.stringify(s),framerVariables:n&&JSON.stringify(n),framerImmutableVariables:!0,framerDisplayContentsDiv:!1,framerAutoSizeImages:!0,framerComponentViewportWidth:!0,framerColorSyntax:!0,framerVectorSets:t.vectorSets.annotation()};if(pe(e)){let c={},m=e.getBreakpointValues();for(let d in m){let p=t.treeStore.tree.get(d);c[d]={...m[d],canvasClassName:Ob(d),minHeight:p?.height,viewportHeight:p?.viewportHeight,name:p?.name??void 0,width:p?.widthType===0?p?.width:void 0,rootFontSize:p?.rootFontSize??ka}}l.framerHitTargets=t.hitTargets.annotation(),l.framerBreakpoints=JSON.stringify(c),l.framerDefaultVariant=e.baseVariantId,l.framerTrackingIds=t.trackingIds.annotation(),l.framerLayoutTemplate=""}else $(e)?(l.framerAcceptsLayoutTemplate=t.acceptsLayoutTemplate,l.framerTrackingIds=t.trackingIds.annotation(),l.framerScrollSections=t.elementIds.annotation(),l.framerResponsiveScreen=""):Ue(e)?l.framerTrackingIds=t.trackingIds.annotation():Me(e)?l.framerDesign="":Ue(e)||(l.framerScreen="");return l}function UM(e,t){if(!$(e)||!mt(e)||!qa(t.treeStore.tree,e))return;let o=e.getVariableControlMap(t.treeStore.tree,P,P.activeBundleHash)??new Map;return{defaultCollectionAlias:Vs(e),identifier:e.dataIdentifier,controlMap:o}}var jM=re.lines("function addPropertyOverrides(overrides, ...variants) {","const nextOverrides = {}","variants?.forEach(variant => variant && Object.assign(nextOverrides, overrides[variant]))","return nextOverrides","}");function _M({webPageNodeId:e,metadataDependencies:t,imports:r,bindings:o}){let n=r.addImport(`../${ey(e).localId}`,{exportSpecifier:"default",importBinding:"metadataProvider"}),i=o.create("metadata"),a=r.addImport("framer",{exportSpecifier:"useMetadata"}),s=v.fn(n,t,x.activeLocale),l=Object.values(t).concat(x.activeLocale);return re.lines(u`const ${i} = React.useMemo(() => ${s}, ${l})`,v.fn(a,i))}function JM(e){if(xr(e))return{type:e.gesture,topLevel:e.replicaInfo.inheritsFrom}}function XM({data:e,imports:t,variables:r}){if(!e)return;let o=t.addImport("framer",{exportSpecifier:"useCurrentPathVariables"}),n=t.addImport("framer",{exportSpecifier:"NotFoundError"}),i=t.addImport("framer",{exportSpecifier:"useQueryData"}),a=t.addImport("framer",{exportSpecifier:"getWhereExpressionFromPathVariables"}),s=new Set;for(let[h]of e.controlMap){let y=_o(h,void 0,!0);r.has(y)&&s.add(h)}function l(h){let y=t.addModuleImport(h);return g(y,"Can't import collection"),y}let c=new Set,m=Kg(e.controlMap,s,c,e.defaultCollectionAlias,l),d=qg(e.identifier,e.controlMap,c,e.defaultCollectionAlias,l),p=u`const [${x.currentRouteData}] = ${v.fn(i,{from:d,select:m,where:v.fn(a,x.currentPathVariables,e.defaultCollectionAlias)})};`;return u.joinLines(u`const ${x.currentPathVariables} = ${v.fn(o)};`,p,u`const ${x.getFromCurrentRouteData} = (key) => {
            if (!${x.currentRouteData}) throw new ${n}(\`No data matches path variables: \${JSON.stringify(${x.currentPathVariables})}\`);
            return ${x.currentRouteData}[key];
        };`)}function Ob(e){return`framer-${be(e)}-override`}function Eb(e,t){if(!(!yn(e)||Sn(e)&&!e.fillEnabled))return e.fillType==="color"&&k(e.fillColor)?t(e.fillColor,e,"fill"):wp(e)}function Ab(e){if(!gm(e))return;let t=e.rootFontSize/16*100;return ym(t,"%")}function Bb(e,t){return A(e)?e:v.fn(t.imports.addImport("framer",{exportSpecifier:"safeCSSValue"}),e)}function qM(e,t,r,o,n,i){if(!pe(e)&&!$(e))return;let a=Dl(n,i.declarations,i.variables,i.valueTransforms),s=pe(e)?":root":"html",l=`${s} body`,c=Ab(t),m=Eb(t,a)??"none",d=[he`${l} { background: ${Bb(m,i)}; }`];A(c)&&d.push(`${s} { font-size: ${c}; }`);for(let p of r){let f=o[p.id];if(f){let h=Eb(p,a)??"none",y=Ab(p),b=[];if(vt(m,h)||b.push(he`${l} { background: ${Bb(h,i)}; }`),vt(c,y)||b.push(`${s} { font-size: ${y}; }`),b.length===0)continue;d.push(he`@media ${f} { ${he.join(b," ")} }`)}}return he.join(d," ")}function KM(e,t,r,o,n){let i=Ah(Eh(o)),a=[],s=new Map;if(pe(n)){let y=n.getPrimaryVariant(),b={marginBottom:On(y,t)};t.css.createRule(`[${Ai}="true"] > #overlay`,Mn(b));for(let S of r){let I={marginBottom:On(S,t)},T=Yr(I,b);!T||we(T)||t.css.createRule(`[${Ai}="true"] > #overlay`,Mn(T),S.id)}}En(t.css.get(),s);let l={},c={};for(let y of r){let b=i[y.id];if(b){let S=new Map;if(En(t.css.get(y.id),S),!S.size)continue;pe(n)?(l[y.id]=An(S),c[y.id]=`.${Ob(y.id)}`):a.push(he`@media ${b} { ${he.join(An(S)," ")}}`)}else En(t.css.get(y.id),s)}let m=[],d=[];for(let y of t.css.sharedStyleIds){let b=Fe("css",y),S=t.imports.addImport(`../${b}`,{exportSpecifier:"*",importBinding:"sharedStyle"});d.push(S),m.push(v.fn(t.imports.addImport("framer",{exportSpecifier:"getFontsFromSharedStyle"}),u`${S}.fonts`))}let p;for(let y of t.componentPresetIds){p??=t.imports.addImport(`../${Hn}`,{exportSpecifier:"*",importBinding:"componentPresets"});let b=u`${p}.fonts?.[${y}]`;m.push(u`(${b} ? ${v.fn(t.imports.addImport("framer",{exportSpecifier:"getFontsFromComponentPreset"}),b)} : [])`)}let f=[ss,...An(s),...d.map(y=>u`...${y}.css`),...t.css.conditionalRules(e)],h=YM(n,t,f,a,l,c,i);return{sharedStyleImports:d,sharedFontArrays:m,mediaQueries:i,css:u`const ${x.css} = ${h}`}}function YM(e,t,r,o,n,i,a){if(Ue(e)||Me(e))return r;if($(e))return[...r,...o];if(pe(e)){let s=t.declarations.file.dedupe("breakpointRules",n),l=t.declarations.file.dedupe("breakpointKeys",u`Object.keys(${s})`),c=t.declarations.file.dedupe("selectors",i),m=t.declarations.file.dedupe("rules",r),d=t.declarations.file.dedupe("mediaQueries",a),p=t.bindings.create("target"),f=t.bindings.create("query"),h=t.bindings.create("selector"),y=t.bindings.create("rule"),b=t.imports.addImport("framer",{exportSpecifier:"RenderTarget"});return u`(target) => {${u.joinLines(u`const isStaticRenderer = ${p} === ${b}.canvas || ${p} === ${b}.export`,u`if (!isStaticRenderer) {${u.joinLines(u`return [...${m}, ...${l}.map(key => {${u.joinLines(u`const ${f} = ${d}[key]`,u`return ${he`@media ${f} { ${u`${s}[key].join(" ")`} }`}`)}})]`)}}`,u`return [...${m}, ...${l}.flatMap(key => {${u.joinLines(u`const ${h} = ${c}[key]`,u`return ${s}[key].map(${y} => ${he`${h} {${y}}`})`)}})]`)}}`}W(e)}function QM(e){if(e.events.needsPathVariables)return`const ${EC} = React.useContext(${e.imports.addImport("framer",{exportSpecifier:"PathVariablesContext"})});`}function ZM(e,t,r,o,n){let i=zd(e);g(i,"The primary variant should have a default size as it must be a FrameNode.");let a={default:i},s={[e.id]:`framer-v-${be(e.id)}`},l={},c={},m={},d=Wd(o.treeStore.tree,e);d&&(m[e.id]=d);let p=r.events.variantOnAppearId.get(e.id),f={};!N(p)&&!v.isUndefined(p)&&(f.default=p);for(let h of t){r.metrics.count("variants");let y=JM(h);if(y){let R=l[y.topLevel]??{};R[y.type]=y.type==="loading"?n?.has(y.topLevel):!0,l[y.topLevel]=R,c[y.topLevel]=[...c[y.topLevel]??[],h.id]}else s[h.id]=`framer-v-${be(h.id)}`;let b=zd(h);b&&(a[h.id]=b);let S=Wd(o.treeStore.tree,h);S&&(m[h.id]=S);let I=r.events.variantOnAppearId.get(h.id),T=Y(f[h.replicaInfo.inheritsFrom??""]??p);!N(I)&&Y(I)!==T&&(f[h.id]=I)}return{gestures:l,breakpoints:m,classNames:s,sizes:a,appearEventMap:f}}function eV(e,t,r){let o=[];if((pe(e)||$(e))&&r){let i=t.declarations.file.dedupe("HTMLStyle",u`({value}) => {${u.joinLines(u`const onCanvas = ${v.fn(t.imports.addImport("framer",{exportSpecifier:"useIsOnFramerCanvas"}))}`,u`if (onCanvas) return null`,u`return ${ce.tag(u`style`,new B({"data-framer-html-style":"",dangerouslySetInnerHTML:{__html:u`value`}}))}`)}}`);o.push(a=>ce`${u.joinLines(ce.tag(i,new B({value:r})),a)}`)}if(Ue(e)){let i=t.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),a=t.imports.addImport("framer-motion",{exportSpecifier:"motion.create"}),s=t.declarations.file.dedupe("Variants",v.fn(a,u`${i}.Fragment`));o.push(l=>ce.tag(s,new B({initial:!1,animate:x.variants}),l))}if($(e)||pe(e)||Me(e)){let i=new B({id:pe(e)?wa:xa});o.push(a=>ce`${u.joinLines(a,ce.tag(u`div`,i))}`)}let n=t.imports.addImport("framer-motion",{exportSpecifier:"LayoutGroup"});if(o.push(i=>ce.tag(n,new B({id:u`layoutId ?? ${x.defaultLayoutId}`}),i)),$(e)||pe(e)){let i=t.imports.addImport("framer",{exportSpecifier:"GeneratedComponentContext"});o.push(a=>ce.tag(u`${i}.Provider`,new B({value:{primaryVariantId:e.baseVariantId,variantClassNames:x.variantClassNames,isLayoutTemplate:pe(e)?!0:void 0}}),a))}return o}function zb(){let e=new v("ed41f9e");return u`// Generated by Framer (${e})`}var Wb={ref:x.ref,restProps:x.restProps,style:x.style,className:x.className,layoutId:x.layoutId},Hd=u`css`,Xi=u`Icon`,El=u`Component`,qi=u`Props`,tV=[...Object.values(Wb),Hd,Xi,El,qi].map(e=>Y(e)),$b=wt(async(e,t,r)=>{let{serializationId:o}=r,{assetMap:n,engineChanges:i,modulesStore:a,treeStore:s,vectorsStore:l}=t,c=s.tree.getScopeNodeFor(e);g(Re(c),"Vector set item must be in a VectorSetNode.");let m=s.tree.get(e.id);g(m,"Must have a source node to serialize");let d={assetMap:n,engineChanges:i,modulesStore:a,treeStore:s},{ctx:p,jsx:f,svg:h,type:y}=Rf(m,c,d,o,tV),b=dt("vectorSet",c.id,"default").localId,S=a.getPersistedModuleByLocalId(b);g(S,"VectorSet must be persisted.");let I=s.tree.getRect(e),{propertyControls:T,variableMap:R,types:M,props:L}=Ls(c,d,p,"VectorSet","vector",I),F=rV(p),j={name:m.name??"Vector",empty:oV(m)?!0:void 0,color:F,set:{localId:b,id:c.id,moduleId:S.id}},z=p.imports.addImport("react",{exportSpecifier:"*",importBinding:"React"}),ee=p.imports.addImport("framer",{exportSpecifier:"withCSS"}),oe=nV[y],ve=re.lines(...p.declarations.file.list(),u`interface ${qi} extends ${z}.HTMLAttributes<${z}.${oe}> { ${M??u``} }`,u`const ${El}: ${z}.ComponentType<${qi}> = ${z}.forwardRef<${z}.${oe}, ${qi}>(function(props, ${Wb.ref}) {${u.joinLines(L,...p.declarations.component.list(),u`return (${f})`)}})`,u`const ${Hd} = ${p.css.rules}`,vo("This is a generated Framer component.",{framerIntrinsicWidth:I.width,framerIntrinsicHeight:I.height,framerSupportedLayoutWidth:"any-prefer-fixed",framerSupportedLayoutHeight:"any-prefer-fixed",framerVariables:R&&JSON.stringify(R),framerImmutableVariables:!0,framerVector:JSON.stringify(j),framerDisableUnlink:ky.has(j.set.moduleId)?!0:void 0}),u`const ${Xi}: ${z}.ComponentType<${qi}> = ${v.fn(ee,El,Hd,o)} as typeof ${El};`,u`${Xi}.displayName = ${m.name??"Vector"};`,u`export default ${Xi}`,T&&v.fn(p.imports.addImport("framer",{exportSpecifier:"addPropertyControls"}),Xi,new v(`${Y(T)} as any`)));return l.cache(e.id,{svg:Y(h),color:F}),Ds([{revision:m.moduleSourceRevision,type:"vector",source:new v(re.sections(re.linesFrom(p.imports.statements),ve)),artifacts:{files:[{name:"icon.svg",type:"svgIcon",content:Y(h)}]}}])});function rV(e){if(e.colors.uniqueColorCount!==1)return;let t=e.colors.singleColor;if(t)return{type:"static",value:t};let r=e.colors.singleVariableColor;if(r)return{type:"variable",value:be(r)}}function oV(e){return!e.children||e.children.length===0?!0:e.children.every(t=>t.visible===!1)}var nV={0:u`HTMLImageElement`,1:u`HTMLDivElement`,3:u`HTMLSVGElement`,2:u`HTMLSVGElement`};var Hb=wt(async(e,{modulesStore:t},r)=>{let o=[];for(let a of e.getVectorSetItems()){let s=dt("vector",a.id,"default").localId,l=t.getPersistedModuleByLocalId(s);l&&o.push({id:a.id,name:a.name??"Vector",moduleId:l.id,saveId:r.includeVectorSetSaveIds?l.saveId:void 0})}let n={framerVectorSet:JSON.stringify({name:e.name??"Set",items:o})},i=new v(re.lines(vo("This is a generated Framer component.",n),u`const VectorSet: React.ComponentType<unknown> = function VectorSet() { return null; };`,u`export default VectorSet;`));return[{revision:e.moduleSourceRevision,type:"vectorSet",source:i}]});function ln(e,t){if(Ue(e,!0))return["canvasComponent"];if($(e,!0))return["screen","webPageMetadata"];if(pe(e,!0))return["layoutTemplate"];if(Te(t.get(e.parentid)))return["screen"];if(Re(e,!0))return["vectorSet"];if(Te(e,!0))return["prototype"];if(yt(e,!0))throw new Error("Unhandled scope node type");if(it(e))return["collection","draftCollection"];if(Jo(e))return["css"];if(Tr(e))return["componentPresets"];if(hn(e)&&Re(t.getScopeNodeFor(e)))return["vector"];if(rr(e))return["siteMetadata"];if(xt(e))return["vector"];if(Me(t.get(e.parentid)))return["design"];throw new Error(`Unsupported component node: ${e.__class} ${e.id}`)}function jb(e){return Math.ceil(e/Math.ceil(e/100))}var Gb=class{constructor(t,r){w(this,"status",null);w(this,"results");w(this,"reportProgress");w(this,"onDone");this.reportProgress=t,this.onDone=r}async import(t,r,o){this.status="importing",this.results={scopeId:r,vectors:[],targetLayout:o};let n=o?{left:o.x+o.width*2,top:o.y}:{left:0,top:0};for(let i=0;i<t.length;i++){let a=t[i];if(!a)continue;let s=await aV(a,r,n);if(this.status!=="importing")return;s&&this.results.vectors.push(s),this.reportProgress?.({status:this.status,finishedCount:i+1})}await this.done()}cancel(){this.status="canceled"}async done(){this.results&&await this.onDone?.(this.results),this.status="done"}},Ub="run-svgo",iV=1e6;async function aV(e,t,r){if(e.size>iV){Cr({type:"add",variant:"error",key:Ub,text:"Your SVG is too large to upload. You may need to convert to a different format, such as PNG.",icon:"error",duration:5e3});return}try{let o=await e.text(),n=Hg(o),i=lV(e.name),a=Lg(o,Tg.createEmpty,n);return a?(a.parentid=t,a.set({name:i,isVectorSetItem:!0,...r}),{node:a,size:n}):void 0}catch(o){console.error("Failed to insert SVG:",o),Cr({type:"add",variant:"error",key:Ub,text:"Failed to insert SVG",icon:"error"});return}}var sV=/[_-]/gu;function lV(e){let[t]=du(e);return Nu(t.replace(sV," "))}var cV=2;function Gd(e){if($(e))return cV}function tK(e,t,r){if(t.type==="siteMetadata"||t.type==="webPageMetadata")return!0;let o=ln(e,r).includes(t.type);if(g(e.id===t.name&&o,"sourceNode and module must match"),Ps(t))return!1;let n=Gd(e);if(n===void 0)return!0;let i=t.metadata.codeGenVersion;return G(i)&&i>=n}var Ud=1;function dV(e){let t=e.metadata.compatibleTextStyleVersion;return G(t)?t:0}function iK(e){return dV(e)<Ud}var ko=Wr(un());function _b(e,t){if(Ue(e))return"Smart Component";if($(e))return"web page";if(Te(t.get(e.parentid)))return"prototype screen";if(Te(e))return"prototype";if(it(e))return"CMS collection"}function Jb(e,t){return $(t)?ny(e,t):t.name??void 0}function Xb(e,t="module",r){let o="is too large and will not update";Cr({type:"add",variant:"warning",text:r?(0,ko.jsxs)(ko.Fragment,{children:[(0,ko.jsxs)(xs,{children:["The ",t]})," \u201C",r,"\u201D ",(0,ko.jsx)(xs,{children:o})]}):(0,ko.jsxs)(xs,{children:["A ",t," ",o]}),key:`module-too-large-${e}`,duration:1/0,extraAction:{title:"Learn more",onClick(){Ht("ui_interaction",{page:"module-too-large-toast",id:"learn_more"}),xg("https://www.framer.com/help/articles/how-to-fix-module-too-large-warning/")}}});let i=`module-too-large-toast-${t.split(" ").join("-")}`;Ht("ui_impression",{page:i})}var Al=class{constructor(){w(this,"queue",[]);w(this,"synchronize",async()=>{for(let t of this.snapshot())await t.task()})}snapshot(t){return this.queue=this.queue.filter(t??(r=>!r.promise.isResolved())),Array.from(this.queue)}get size(){return this.snapshot().length}async request(t,r){let o=new tu;this.queue.push({id:r?.id,promise:o,task:()=>(o.state!=="initial"||(o.pending(),(t()??Promise.resolve()).finally(()=>o.resolve())),o)}),r?.synchronize!==!1&&await this.synchronize()}};function Bl(e,t){if(!Zu(e)||!t.isGroundNode(e))return!1;let r=t.get(e.parentid);return!!(r&&Te(r))}function eo(e){if(rr(e))return Zg.localIdName;switch(e.id){case _h:return"componentPresets";default:return e.id}}function cn(e,t){return ln(e,t).map(o=>Fe(o,eo(e)))}function Ki(e,t,r){return e?cn(e,t).every(o=>!N(r.getModuleEntryByLocalId(o))):!1}function qb(e,t){if(!Po(e,t)||Me(e))return!1;if(!yt(e)){let r=t.getScopeNodeFor(e);if(Me(r))return!1}return!0}function Po(e,t){if(rr(e))return!0;if(!t.has(e.id))return!1;if($t(e))return!0;if(mi(e))return!1;if(it(e)||Jo(e)||Tr(e)||Re(e))return!0;if(xt(e)){let r=t.get(e.parentid);return Re(r)}if(Me(e))return!1;if(t.isGroundNode(e)&&or(e)){let r=t.getScopeNodeFor(e);if(Me(r))return!0}return!!(Te(e)||Bl(e,t))}var uV=1e4,mV=1e3,Yi=fe("CodeGenerationStore");function pV(e){return!(it(e)||Te(e)||rr(e)||or(e)||Tr(e)||Re(e))}function fV(e,t){if(!xt(t))return;let r=e.getScopeNodeFor(t);return g(Re(r),"Vector set item must be in a VectorSetNode."),r.variables}function hV(e){let t=e.name?.trim();return t||(at(e)?"Text":Lh(e,e.__class))}function Kb(e,t,r,o,n){let i={},a=hV(t);i.metadata||(i.metadata={});let s=[...n?.files??[]];pV(t)&&s.push({name:"tree.json",type:"nodeTree",content:JSON.stringify(Object.assign(t.toJS(),{__treeSerializationVersion:e.serializationVersion,__vectorSetVariables:fV(e,t)}))});let l=Gd(t);l&&(i.metadata.codeGenVersion=l);let c=n?.packageDependencies;return c&&(i.metadata.packageDependencies=Array.from(c)),my(r)&&(i.metadata.compatibleCmsVersion=uy),lo(t)&&(i.metadata.compatibleTextStyleVersion=Ud),i.assets=n?.assets?Array.from(n.assets):[],{...i,title:a,files:s,errors:n?.errors??[],type:r,name:o}}async function gV(e,t,r,o){if(e&&t instanceof ru&&t.code===1001){let n=Ch(e,a=>r.treeIndex.getScopeIdFor(a))??void 0,i=new ps({type:"CodeGeneration",nodeId:$t(e)?e.baseVariantId:e.id,reason:"FileTooLarge",sourceNodeId:e.id,scopeId:n});Xb(e.id,_b(e,r.tree),Jb(r.tree,e)),await o(a=>{if(a.isViewOnly)return;a.lineage.setEditReason("codegeneration");let s=a.ensureErrorListNode();Yi.debug("Writing ClientFileTooLarge error to tree for",e.id),a.insertNode(i,s.id)})}else Yi.reportError(t)}var er,Qi,Ol=class{constructor(t,r,o,n){this.treeStore=t;this.modulesStore=r;this.runWhenIdle=o;this.scheduleDocumentUpdateIgnoringUndo=n;H(this,er,new Al);H(this,Qi,new da({delay:uV,task:()=>this.runWhenIdle(()=>void C(this,er).synchronize())}));w(this,"process",C(this,er).synchronize);w(this,"changeScope",()=>C(this,Qi).debounce(mV));w(this,"isIdle",()=>C(this,er).size===0);w(this,"isBlocking",()=>C(this,er).snapshot().some(t=>t.promise.state==="pending"))}enqueue(t,r){C(this,er).snapshot(a=>a.promise.isResolved()?!1:a.id===t?a.promise.state!=="initial":!0);let o=this.treeStore.tree.get(t);if(!o||!qb(o,this.treeStore.tree))return;let n=eo(o),i={};for(let{type:a,artifacts:s}of r){let l=Kb(this.treeStore.tree,o,a,n,s);i[Fe(a,n)]=l}C(this,er).request(async()=>{try{Yi.debug("Persisting transient modules for",t),await this.modulesStore.upsertBatch(i)}catch(a){await gV(o,a,this.treeStore,this.scheduleDocumentUpdateIgnoringUndo)}},{id:t,synchronize:!1})}async persist(t,r,o){let n=this.treeStore.tree.get(t);if(n)return this.enqueue(t,r),o?C(this,Qi).debounce():(await C(this,er).synchronize(),cn(n,this.treeStore.tree).map(i=>this.modulesStore.getPersistedModuleByLocalId(i)))}async persistBatch(t){let r={},o="batch";for(let n in t){let i=this.treeStore.tree.get(n),a=t[n];if(!i||!a)continue;let s=eo(i),l=new Set;for(let{type:c,artifacts:m}of a){let d=Fe(c,s);g(!l.has(d),"Duplicate local module id",d),l.add(d),r[d]=Kb(this.treeStore.tree,i,c,s,m),o+=`-${d}`}}C(this,er).snapshot(n=>n.promise.isResolved()?!1:n.id===o?n.promise.state!=="initial":!0),await C(this,er).request(async()=>{Yi.debug("Persisting transient modules for batch: ",o);try{await this.modulesStore.upsertBatch(r)}catch(n){Yi.reportError(n)}},{id:o,synchronize:!0})}get size(){return C(this,er).size}};er=new WeakMap,Qi=new WeakMap;var yV=()=>({stylePresets:[],componentPresets:[],collections:[],smartComponents:[],screens:[],prototypes:[],webpages:[],metadata:[],layoutTemplates:[]}),Ee=fe("CodeGenerationStore");var SV=500,Qb=1500,CV=6e4;function vV(e){for(let t in e.to)if(t in Zh||t in Qh||t in Oh)return!0;return!1}function bV(e){return Re(e)?SV:Qb}var Fo,Ze,to,ni,Zi,ii,ai,bt,zl,Zb,Yb=class extends Dn{constructor(r,o,n,i,a,s,l,c,m,d,p,f=new Map){super();this.scheduler=r;this.treeStore=o;this.modulesStore=n;this.vectorsStore=i;this.aiGenerationStore=a;this.assetMap=s;this.timeline=l;this.engineChanges=c;this.scheduleDocumentUpdateIgnoringUndo=m;this.updateTreeCache=d;this.measureNodes=p;H(this,zl);H(this,Fo,new Set);H(this,Ze);H(this,to,new Map);H(this,ni);H(this,Zi,new da({delay:Qb,maxDelay:CV,task:()=>this.scheduler.runWhenIdle(()=>{this.generateAndUpdateQueuedComponents()})}));H(this,ii,new Map);H(this,ai);w(this,"testing",{setComponentGenerationQueue:r=>{se(this,Ze,r)},flushQueuedCallbacks:()=>{C(this,to).forEach(r=>r.forEach(o=>o()))},generateAndUpdateQueuedComponents:r=>this.generateAndUpdateQueuedComponents(r),setSerializationId:r=>{se(this,ai,r)},setModulesStore:r=>{Object.assign(this,{modulesStore:r}),Object.assign(this.persistence,{modulesStore:r})},waitForProcessing:async r=>{await this.serialization.promise(r)}});w(this,"persistence");w(this,"moduleTypeOrder",{localization:0,webPageMetadata:1,siteMetadata:2,collection:3,draftCollection:4,css:5,componentPresets:6,vector:7,vectorSet:8,canvasComponent:9,screen:10,["prototype"]:11,codeFile:12,config:13,layoutTemplate:14,design:15,kit:16});H(this,bt,new Map);w(this,"serialization",{idle:async()=>{let r=[];for(let o of C(this,bt).keys())r.push(this.serialization.promise(o)?.then(()=>this.untilCompiled(o)));await Promise.all(r)},isIdle:()=>C(this,bt).size===0,prepare:r=>{C(this,Ze).delete(r);let o=C(this,bt).get(r)??ca();C(this,bt).set(r,o)},cancel:r=>{C(this,Ze).delete(r),C(this,bt).get(r)?.resolve(),C(this,bt).delete(r)},preparing:r=>C(this,bt).has(r),promise:r=>C(this,bt).get(r),commit:async(r,o,n)=>{let i=()=>{C(this,bt).get(r.id)?.reject(),C(this,bt).delete(r.id)};try{let a=await tt(this,zl,Zb).call(this,r,o,n);return a||i(),a}catch(a){throw Ee.reportError(a),i(),a}}});se(this,Ze,f),se(this,ni,this.timeline.openNodeChangesReader()),this.persistence=new Ol(this.treeStore,this.modulesStore,h=>this.scheduler.runWhenIdle(h),h=>this.scheduleDocumentUpdateIgnoringUndo(h)),fC(()=>{if(ua.isTest||this.treeStore.tree.isViewOnly)return!1;if(this.hasBlockingUpdates()){if(Ee.debug("Showing Unsaved Changes dialog (generation queue #: ",C(this,Ze).size,", component ids to generate: ",[...C(this,Ze).keys()],")"),!ua.isTest){let h=this.getMetrics();h.paused>1?Ee.reportError("Tab closed with paused code generations",h):(h.persisting>5||h.serializing>5||h.queue>5)&&Ee.reportError("Tab closed with multiple code generations in progress",h)}return C(this,Fo).clear(),this.generateAndUpdateQueuedComponents().then(()=>{this.persistence.process()}).catch(h=>Ee.reportError(h)),!0}return!1}),window.addEventListener("blur",async()=>{try{await this.generateAndPersistAllQueuedComponents()}catch(h){Ee.reportError(h)}})}isIdle(){return C(this,Ze).size===0&&this.serialization.isIdle()&&this.persistence.isIdle()}getMetrics(){return{queue:C(this,Ze).size,paused:C(this,Fo).size,serializing:C(this,bt).size,persisting:this.persistence.size}}documentDidLoad(){C(this,Ze).clear(),C(this,to).clear(),C(this,ii).clear()}telemetrySession(r){let o=C(this,ii).get(r);if(o)return o;let n=this.treeStore.tree.get(r);g(n,"TelemetrySession: source node must exist");let i=new zs(n);return C(this,ii).set(r,i),i}getSerializationId(){return C(this,ai)?`framer-${C(this,ai)}`:`framer-${$n(5)}`}async generateAndPersistAllQueuedComponents(){await this.ensureSiteMetadataModule(),await this.generateAndUpdateQueuedComponents(),await this.serialization.idle(),await this.persistence.process()}debugGetComponentSourceNodes(){let r=yV();g(!1,"This method should only be used in tests.");for(let{node:o,skipChildren:n}of this.treeStore.tree.root.walkWithSkipChildren())$(o)?(r.webpages.push(o),r.metadata.push(o),n()):Ue(o)?(r.smartComponents.push(o),n()):it(o)?(r.collections.push(o),n()):Jo(o)?(r.stylePresets.push(o),n()):Tr(o)?r.componentPresets.push(o):Bl(o,this.treeStore.tree)?(r.screens.push(o),n()):Te(o)?r.prototypes.push(o):rr(o)?r.metadata.push(o):pe(o)&&r.layoutTemplates.push(o);return r}postProcess(r,o,n){if(!this.treeStore.tree.isViewOnly){if(n){C(this,ni).clear();return}this.ingestChanges(r),C(this,Zi).debounce(bV(o))}}ingestChanges(r){for(let[o,n]of C(this,ni).read()){if(n.length===0||n.every(a=>a.ignoreInCodeGeneration))continue;let i=r.get(o);if(i){if(Et(i,this.treeStore.tree)){vp(i,n)&&this.addChangeToQueue(i);continue}if(rr(i)){if(!n.some(vV))continue;this.addChangeToQueue(i)}else if(Te(i))this.addChangeToQueue(i);else{let a=this.treeStore.treeIndex.getGroundNodeIdFor(o),s=r.get(a);if(!s||U(s))continue;let l=r.getScopeNodeFor(s);if(!Te(l))continue;this.queueCanvasPageNodesFollowingLinks(r,s)}}}}queueCanvasPageNodesFollowingLinks(r,o){if(this.addChangeToQueue(o),!(!o.cache.links||o.cache.links.size===0))for(let n of o.cache.links){let i=this.treeStore.treeIndex.getGroundNodeIdFor(n),a=r.get(i);!a||U(a)||this.queueCanvasPageNodesFollowingLinks(r,a)}}changeScope(){this.treeStore.tree.isViewOnly||ua.isTest||this.isIdle()||this.serialization.idle().then(()=>this.generateAndUpdateQueuedComponents()).then(()=>{if(!lt.isOn("prioritizedModuleEvaluation")){this.persistence.process();return}this.persistence.isIdle()||this.persistence.changeScope()}).catch(r=>Ee.reportError(r))}async createVectorSet(r,o){let n=r[0];if(!n)return;let i=this.treeStore.tree.getScopeNodeFor(n);g(Re(i),"VectorSet: VectorSetNode must exist.");let a=performance.now(),s=await this.batchSerializeVectors(r,o);if(!s)return;let l={},c=0,m=Object.keys(s).length,d=jb(m),p=[];for(let f in s){let h=s[f];h&&(l[f]=h,c++,!(c%d!==0&&c!==m)&&(p.push(l),l={}))}for(let f=0;f<p.length;f++){let h=p[f];h&&(await this.persistence.persistBatch(h),o?.("persisting",f))}await this.forceComponentUpdate(i.id),Ee.debug("createVectorSet: Spent ",performance.now()-a,"ms creating a new vector set.")}async createModuleFromComponentSource(r,o){if(g(!this.treeStore.tree.isViewOnly,"CodeGenerationStore: viewers cannot create smart components or web pages."),g(Po(r,this.treeStore.tree),"CodeGenerationStore: componentSourceNode must be a valid component source."),Ki(r,this.treeStore.tree,this.modulesStore))return;Ee.debug("createModuleFromComponentSource",r.id),this.serialization.prepare(r.id);let i=await this.generateComponent(r.id,1,void 0,{intrinsicSize:o});if(!i)throw new Error("Code not generated");return await this.compileOutput(r,i),cn(r,this.treeStore.tree).map(a=>this.modulesStore.getPersistedModuleByLocalId(a))}revisionNodes(){let r=[];for(let o of this.treeStore.tree.root.children)Et(o,this.treeStore.tree)&&r.push(o),(Tr(o)||Ou(o))&&o.children.forEach(n=>{Et(n,this.treeStore.tree)&&r.push(n),it(n)&&n.getUnsortedChildren().forEach(i=>{Et(i,this.treeStore.tree)&&r.push(i)})});return r}nodesWithStaleModules(r,o){let n=[],i=o?.ignoreHint??!1;for(let a of this.revisionNodes())so(a)||r&&!r(a)||(!i&&a.moduleSourceRevisionHint!==a.moduleSourceRevisionCommittedHint||!this.allModulesAreAtRevision(a.id))&&n.push(a);return n}async updateComponent(r,o=0){g(!this.treeStore.tree.isViewOnly,"CodeGenerationStore: viewers cannot generate smart component or web page updates.");let n=this.treeStore.tree.get(r);if(!n||!Po(n,this.treeStore.tree))return!1;if(this.serialization.preparing(r))return await this.serialization.promise(r),await this.untilCompiled(r),!0;Ee.debug("Update component: ",r,", Condition: ",o);let i=C(this,Ze).get(r);this.serialization.prepare(r);let a=await this.generateComponent(r,o,i);return a?this.compileOutput(n,a):!1}async forceComponentUpdate(r){return g(!this.treeStore.tree.isViewOnly,"CodeGenerationStore: viewers cannot generate smart component or web page updates."),await this.updateComponent(r,2)?(await this.persistence.process(),!0):!1}queueCallbackAfterComponentCompilation(r,o){let n=C(this,to).get(r);n?n.push(o):C(this,to).set(r,[o])}untilCompiled(r){return new Promise(o=>{this.queueCallbackAfterComponentCompilation(r,o)})}calculateNewModuleRevision(r){let o=this.treeStore.tree.get(r);if(!o||!Et(o,this.treeStore.tree))return 1;if(!(!rd(this.treeStore.tree,r)||!this.treeStore.tree.has(r)))return mC(r,this.scheduleDocumentUpdateIgnoringUndo)}allModulesAreAtRevision(r,o){let n=this.treeStore.tree.get(r);if(!n||!Et(n,this.treeStore.tree))return!1;let i=o??n.moduleSourceRevision;return ln(n,this.treeStore.tree).every(a=>this.modulesStore.forType(a).getByStableName(eo(n)).sourceRevision()===i)}async ensureDependencyModulesExist(){for(let r of this.revisionNodes()){if(!Po(r,this.treeStore.tree))return;if(!Ki(r,this.treeStore.tree,this.modulesStore))try{await this.updateComponent(r.id)}catch(o){Ee.error("Error updating dependency module",r.id,o)}}}async ensureSourceNode(r){let o=this.treeStore.tree.get(r),n=yt(o)&&!o.isLoaded()?await o.load():o;if(n){if($(n)&&await this.ensureSiteMetadataModule(),it(n)&&await this.ensureDependentModulesAreCompatibleWithCollection(n),xt(n)){let i=this.treeStore.tree.getScopeNodeFor(n);if(!Re(i))return;let a=Fe("vectorSet",i.id);if(this.modulesStore.getModuleEntryByLocalId(a))return;await this.createModuleFromComponentSource(i)}await this.ensureAllNodesWithLinksHaveLinkedScopesLoaded(n)}}async ensureSiteMetadataModule(){if(this.treeStore.tree.isViewOnly)return;let r=this.treeStore.tree.root;if(!Ki(r,this.treeStore.tree,this.modulesStore))return this.updateComponent(r.id)}hasBlockingUpdates(){if(C(this,Ze).size>0){for(let[r,o]of C(this,Ze))if(this.treeStore.tree.has(r)&&o)return!0}return!this.persistence.isIdle()||!this.serialization.isIdle()}async updateModules(r,o){let n=this.treeStore.tree.get(r),i=this.timeline.remoteTreeVersion;if(!n||!Po(n,this.treeStore.tree))return!1;let a=[];for(let{revision:l,source:c,type:m,artifacts:d}of o){let p={assets:d?.assets,submodules:d?.submodules,binaryAssets:d?.binaryAssets,preventCircularImports:m==="canvasComponent",telemetrySession:this.telemetrySession(r),treeVersion:i,sourceRevision:l,kitSectionsStructure:d?.kitSectionsStructure,svgIcon:d?.files?.find(y=>y.type==="svgIcon")?.content,stableName:!0},f=this.modulesStore.forType(m).getByStableName(eo(n)),h=re.sections(zb(),c);f.currentSourceEquals(h,p)||a.push({localId:f.localId,source:h,options:p})}if(a.length===0)return!1;let s=await this.modulesStore.updateSources(a);return xt(n)&&this.vectorsStore.delete(r),$(n)&&this.aiGenerationStore.deleteKitSectionsStructure(r),s}allModulesExistForSources(r,o){let n=eo(r);for(let i of o)if(!this.modulesStore.getPersistedModuleByLocalId(Fe(i.type,n)))return!1;return!0}async compileOutput(r,o){if(this.treeStore.tree.isViewOnly)return!1;let n=o.slice().sort((a,s)=>this.moduleTypeOrder[a.type]-this.moduleTypeOrder[s.type]);if(this.allModulesExistForSources(r,n))await this.updateModules(r.id,n);else for(let a of n){let s=await this.updateModules(r.id,[a]),l=eo(r);!this.modulesStore.getPersistedModuleByLocalId(Fe(a.type,l))&&s&&await this.persistence.persist(r.id,[a])}return it(r)&&await this.ensureDependentModulesCanRenderCollectionColors(r),C(this,to).get(r.id)?.forEach(a=>a()),C(this,to).delete(r.id),this.persistence.persist(r.id,o,!0),!0}pauseCodeGeneration(r){return Ee.debug("Pausing code generation for",r),C(this,Fo).add(r),()=>{Ee.debug("Resuming code generation for",r),C(this,Fo).delete(r),C(this,Zi).debounce()}}async generateAndUpdateQueuedComponents(r){if(this.treeStore.tree.isViewOnly)return[];await this.ensureDependencyModulesExist();let o=[],n=new Map;for(let[a]of C(this,Ze)){if(C(this,Fo).has(a)||this.serialization.preparing(a))continue;let s=this.treeStore.tree.get(a);if(!s||!Po(s,this.treeStore.tree)||r&&!ln(s,this.treeStore.tree).includes(r)){C(this,Ze).delete(a);continue}if(this.serialization.prepare(a),xt(s)){let l=this.treeStore.tree.getScopeNodeFor(s);if(!l)continue;let c=n.get(l.id)??[];c.push(s),n.set(l.id,c)}else o.push(s)}let i=new Set;Ee.debug("Batch generating queued vector nodes");for(let a of n.values())try{let s=await this.batchSerializeVectors(a,void 0,i);for(let l in s)this.persistence.persist(l,s[l],!0)}catch{}Ee.debug("Generating queued components",{ids:o.map(Fs)});for(let a of o)try{Ee.debug("Flushing queue of ",a.id);let s=await this.generateComponent(a.id,1);s&&(await this.compileOutput(a,s),i.add(a.id))}catch{}return Array.from(i)}async batchSerializeVectors(r,o,n){let i=r[0];if(!i)return;await this.ensureSourceNode(i.id),await this.ensureSourceCache(i.id),r.forEach(d=>this.serialization.prepare(d.id));let a=await pC(r,this.scheduleDocumentUpdateIgnoringUndo);g(a,"VectorSet: newModuleRevisions must exist");let s={assetMap:this.assetMap,modulesStore:this.modulesStore,treeStore:this.treeStore,vectorsStore:this.vectorsStore,aiGenerationStore:this.aiGenerationStore,engineChanges:this.engineChanges,measureNodes:this.measureNodes},l=await Promise.all(r.map(async d=>{if(!a[d.id])return;let y=(await this.serializerForSourceNode(d)(d,s,{serializationId:this.getSerializationId()}))?.[0];return g(y,"VectorSet: source must exist.",d.id),this.serialization.promise(d.id)?.resolve(),C(this,bt).delete(d.id),[d.id,y]})),c=0,m={};for(let d of l){if(!d)continue;let[p,f]=d;await this.updateModules(p,[f])&&(m[p]=[f],o?.("serializing",c),c++,n?.add(p))}return m}async createVersionedVectorSet(r){await this.generateAndPersistAllQueuedComponents();let o=await this.generateComponent(r.id,2,void 0,{includeVectorSetSaveIds:!0});return!o||!await this.compileOutput(r,o)?!1:(await this.persistence.process(),!0)}async generateComponent(r,o,n,i){Ee.debug("Ensure source node",r),await this.ensureSourceNode(r),Ee.debug("Ensure source cache",r),await this.ensureSourceCache(r);let a=await this.calculateNewModuleRevision(r),s=this.treeStore.tree.get(r);if(!s||!Po(s,this.treeStore.tree)||!this.shouldGenerateUnderCondition(o,s,a,n)){Ee.debug("Cancel serialization",r),this.serialization.cancel(r);return}let l=$t(s)?s.getPrimaryVariant():s;return Ee.debug("Serialize",r),this.serialization.commit(s,l,i)}shouldGenerateUnderCondition(r,o,n,i){let a=i??C(this,Ze).get(o.id);if(C(this,Ze).delete(o.id),!Ki(o,this.treeStore.tree,this.modulesStore))return!0;switch(r){case 2:return!0;case 1:return!N(n)||!this.allModulesAreAtRevision(o.id,n);case 0:return!N(n)&&!!a&&!this.allModulesAreAtRevision(o.id,n);default:W(r)}}addChangeToQueue(r){if(!this.shouldSkipChange(r)){if(xt(r)&&this.vectorsStore.queue(r.id),so(r)){let o=r.parentid;g(o,"Collection node has no parent"),C(this,Ze).set(o,!0);return}C(this,Ze).set(r.id,!0)}}serializerForSourceNode(r){return it(r)?NC:$t(r)?$d:Jo(r)?Lb:Te(r)?VC:rr(r)?ty:Tr(r)?RC:Re(r)?Hb:xt(r)?$b:Me(this.treeStore.tree.get(r.parentid))?$d:kb}shouldSkipChange(r){if(U(r)){let o=Z(r.codeComponentIdentifier);if(Vt(o)&&o.type==="screen")return!0}return!1}async ensureSourceCache(r){let o=this.treeStore.tree.get(r);!o||o.update===o.cache.lastUpdate||await new Promise(n=>{this.scheduler.runBeforeNextFrame(()=>{yt(o)&&o.update!==o.cache.lastUpdate&&this.updateTreeCache(o.id),n()})})}async ensureDependentModulesAreCompatibleWithCollection(r){let o=Fe("collection",r.id),n=this.modulesStore.getDependentsOfModule(o);!n||n.size===0||await Promise.all(Array.from(n).map(async i=>{let a=i,s=this.modulesStore.getPersistedModuleByLocalId(a);if(!(!s||!Ps(s)))return this.forceComponentUpdate(s.name)}))}async ensureDependentModulesCanRenderCollectionColors(r){let o=Fe("collection",r.id),n=this.modulesStore.getDependentsOfModule(o);if(!n||n.size===0)return;let i=this.modulesStore.forType("collection").getByStableName(r.id);i&&i.annotations(null,"default")?.framerColorSyntax&&await Promise.all(Array.from(n).map(async a=>{let[s,l]=Xa(a);s==="draftCollection"||this.modulesStore.forType(s).getByStableName(l)?.annotations(null,"default")?.framerColorSyntax||await this.forceComponentUpdate(l)}))}async ensureAllNodesWithLinksHaveLinkedScopesLoaded(r){let o=new Set;this.treeStore.tree.beginAllowPartialScopeAccess();for(let n of r.walkWithSkipChildren()){if(!st(n.node))continue;let i=n.node.getLink();if(!Ca(i))continue;let a=this.treeStore.tree.get(i.webPageId);!a||a.loaded||this.modulesStore.forType("screen").getByStableName(i.webPageId)?.annotations(null,"default")?.framerScrollSections||(o.add(a),n.skipChildren())}this.treeStore.tree.endAllowPartialScopeAccess(),await this.treeStore.tree.loadScopes(Array.from(o))}};Fo=new WeakMap,Ze=new WeakMap,to=new WeakMap,ni=new WeakMap,Zi=new WeakMap,ii=new WeakMap,ai=new WeakMap,bt=new WeakMap,zl=new WeakSet,Zb=async function(r,o,n){if(!rr(r)&&!this.treeStore.tree.has(o.id))return;let i=this.telemetrySession(r.id),a=i.start("synchronize"),s=performance.now();Ee.debug("Waiting for ModulesStore to be idle",{id:r.id}),await this.modulesStore.whenIdle();let l=performance.now()-s;Ee.debug("Waited",Math.round(l/1e3*100)/100,"seconds for ModulesStore to be idle",{id:r.id}),a.end();let c=r.draftOrCurrent();if(yt(c)&&(!c.isLoaded()||c.loaded.children?.length===0))return;let m=i.start("serialize");it(r)&&IV(r,this.treeStore,this);let d=this.serializerForSourceNode(r);C(this,bt).get(r.id)?.resolve(),C(this,bt).delete(r.id);let p=await d(r,{assetMap:this.assetMap,modulesStore:this.modulesStore,treeStore:this.treeStore,vectorsStore:this.vectorsStore,aiGenerationStore:this.aiGenerationStore,engineChanges:this.engineChanges,measureNodes:this.measureNodes},{serializationId:this.getSerializationId(),initialIntrinsicSize:n?.intrinsicSize,includeVectorSetSaveIds:n?.includeVectorSetSaveIds});return p.forEach(({source:f,artifacts:h})=>{if(Ee.trace("serializeComponent",`
>>>> >>>>
`,Y(f),`
<<<< <<<<`),h?.submodules)for(let[y,b]of h.submodules)Ee.trace("serializeComponent",`
>>>>`,y,`>>>>
`,b,`
<<<<`,y,"<<<<")}),m.end(p),p};function IV(e,t,r){let o=e.instanceIdentifier,n=P.dataForIdentifier(o);if(!n||!Object.values(n.properties).some(s=>s?.type==="image"))return;let a=new Set;for(let s of t.tree.root.children){if(!yt(s))continue;if($(s)&&s.dataIdentifier===o){a.add(s);continue}s.loaded?.some(c=>Le(c)&&c.dataIdentifier===o)&&a.add(s)}a.forEach(s=>{r.forceComponentUpdate(s.id).catch(Ne)})}var TV=fe("exportToHTML");function si(e,t,r,o=new Set([t]),n=new Set){for(let{node:i,skipChildren:a}of t.walkWithSkipChildren()){if(n.has(i)){a();continue}n.add(i);for(let s of ef(i,r)){let l=Zp(s);if(!l)continue;let c=e.getNode(l);if(c){if(!e.isGroundNode(c)){TV.reportError("Navigation target node must be ground node",{sourceId:i.id,targetId:c.id});continue}o.add(c),si(e,c,r,o,n)}}U(i)&&Object.values(Ns(e,i,r)).flat().forEach(s=>si(e,s.node,r,o,n))}return o}async function eI(e,t){await t.updateComponent(e.id,1)}async function tI(e,{codeGenerationStore:t,modulesStore:r,treeStore:o},n,i={}){let{waitForAll:a=!0,persist:s=!0}=i,l=si(o.tree,e,n),c=[],m=[];for(let p of l)m.push(dt("screen",p.id,"default").value),p!==e&&c.push(eI(p,t));let d=eI(e,t);return c.push(d),await Promise.all(a?c:[d]),s&&await t.persistence.process(),Wn(n,m,r)}function rI(e,t){let r=t.getPrimaryVariant();kc(r)&&(e.routes[t.id]=r.pageEffects)}function oQ(e,t,r){let o=t.getPrimaryVariant();if(kc(o)){let n={};for(let i in o.pageEffects)n[i]=r.dedupe("effect",o.pageEffects[i]);e.routes[t.id]=n}}function oI(e,t){if(U(e)&&Vg(t,e)){let r=Dg(t,e);return g($(r),"PreviewRenderer: WebPage Scope node must exist and be a WebPageNode"),g(r.isLoaded(),"PreviewRenderer: WebPage Scope node must fully loaded"),{entryNode:r.getPrimaryVariant(),entryScopeNode:r}}if($(e)&&e.isLoaded())return{entryNode:e.getPrimaryVariant(),entryScopeNode:e};if(or(e)){let r=t.getGroundNodeFor(e),o=t.getScopeNodeFor(r);if(Me(o))return{entryNode:r,entryScopeNode:o}}if(De(e)){let r=t.getScopeNodeFor(e);return g(wr(r),"PreviewRenderer: Scope node must exist and be a node supports breakpoint variants"),g(r.isLoaded(),"PreviewRenderer: Scope node with breakpoint variants must be fully loaded"),{entryNode:r.getPrimaryVariant(),entryScopeNode:r}}if(Ft(e)&&!De(e)){let r=t.getScopeNodeFor(e);return g(Ue(r),"PreviewRenderer: Smart Component Scope node must exist and be a SmartComponentNode"),{entryNode:e,entryScopeNode:r}}if(Cp(e)&&e.isVectorSetItem){let r=t.getScopeNodeFor(e);return g(Re(r),"PreviewRenderer: Scope node must exist and be a VectorSetNode"),{entryNode:e,entryScopeNode:r}}return{entryNode:e}}function nI(e,t){let r=e.getGroundNodeFor(t),o=e.getScopeNodeFor(r);return Te(o)&&!U(r)}var iI="utils";function aI(e,t){if(!$(t)||!t.dataIdentifier)return;let r=Z(t.dataIdentifier);if(!Se(r)||r.kind!=="localModuleExport")return;let o=e.getPersistedModuleByLocalId(r.localId);if(o&&o.exports.includes(iI))return{exportIdentifier:iI,moduleURL:o.moduleURL,collectionId:r.localIdName}}var sI=fe("renderInfoForPreviewItem");function li(e){let t=e.root.getDefaultLocale(),r=e.root.locales,o=[t];return r&&o.push(...r),o}function lI(e,t,r,o,n,i){let a=[],s=[],l={global:i.root.globalPageEffect,routes:{}},c=new Set,m=li(i),p=um(m,{includeDrafts:!0}).find(S=>S.id===n);for(let S of i.root.children){if(!pe(S)&&!$(S))continue;if(pe(S)&&a.push({id:S.id,moduleIdentifier:Fy(),layoutTemplate:{moduleIdentifier:S.instanceIdentifier}}),$(S)){let R=S.isLoaded()?Hc(Om(S)):[],M=qa(i,S),L=aI(e,S);L&&s.push(L),a.push({id:S.id,moduleIdentifier:S.instanceIdentifier,collectionId:L?.collectionId,path:M,elements:R,layoutTemplate:xV(S,p)}),S.isLoaded()&&rI(l,S)}let T=P.componentForIdentifier(S.instanceIdentifier)?.fonts;if(!T){sI.debug("Did not find fonts for component:",S.instanceIdentifier);continue}for(let R of Py(T))c.add(R)}let f=o?t.getPathSlugs(r.id,o,p):void 0,h=[],y=f?.unresolvedSlugs;for(let S in y){let I=y[S];g(I),h.push({variableId:S,collectionId:I.collectionId,collectionItemId:I.collectionItemId})}let b=f?.pathVariables?Hc(f.pathVariables):[];return sI.debug("renderInfoFor",{webPageNode:r,collectionItemNodeId:o,initialUnresolvedPathSlugs:h}),{kind:"webpage",routes:a,collectionUtils:s,locales:m,initialPathVariables:b,pageEffects:l,preloadFonts:Array.from(c),initialRoute:r.id,initialUnresolvedPathSlugs:h,initialLocaleId:n,adaptLayoutToTextDirection:i.root.adaptLayoutToTextDirection}}function xV(e,t){if(!$o(e))return;let r=e.getResolvedControlPropValues(P,Ly(),void 0,t);return{moduleIdentifier:e.layoutTemplateIdentifier,props:we(r)?void 0:r,richTextControlKeys:e.getRichTextControlKeys(P),vectorSetItemControls:e.getComponentVectorSetChildren(P)}}function cI({treeStore:e,chromeStore:t,previewStore:r,modulesStore:o},n){if(!n)return{kind:"empty"};switch(n.type){case"component":return g(Se(n.componentId),"Previewing component should provide module identifier",n.componentId),{kind:"module",layout:"component",moduleIdentifier:n.componentId,locales:li(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection};case"node":{let i=e.tree.get(n.nodeId);g(i,"Previewing node should provide correct node id",n.nodeId);let a=oI(i,e.tree),s=a.entryScopeNode;if(pe(s))return lI(o,r,s,n.collectionItemNodeId,t.canvasLocaleId,e.tree);if(Me(s))return{kind:"module",moduleIdentifier:dt("design",i.id,"default").value,layout:"design-screen",locales:li(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection};if($(a.entryScopeNode))return lI(o,r,a.entryScopeNode,n.collectionItemNodeId,t.canvasLocaleId,e.tree);if(Ue(a.entryScopeNode)){let l={variant:a.entryNode.id};return{kind:"module",moduleIdentifier:a.entryScopeNode.instanceIdentifier,props:l,layout:"component",locales:li(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection}}if(Re(a.entryScopeNode))return{kind:"module",moduleIdentifier:dt("vector",a.entryNode.id,"default").value,layout:"component",locales:li(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection};if(U(a.entryNode)){let l=a.entryNode.getCodeComponentProps(P);return{kind:"module",moduleIdentifier:a.entryNode.codeComponentIdentifier,props:l,layout:"component",locales:li(e.tree),initialLocaleId:t.canvasLocaleId,adaptLayoutToTextDirection:e.tree.root.adaptLayoutToTextDirection}}if(nI(e.tree,a.entryNode)){let l=e.tree.getGroundNodeFor(a.entryNode),c=si(e.tree,a.entryNode,P),m=[];for(let d of c){let p=e.tree.getGroundNodeFor(d),f=dt("screen",p.id,"default").value;m.push({id:p.id,moduleIdentifier:f})}return{kind:"prototype",routeId:l.id,routes:m}}throw new Error(`Unsupported node for preview: ${i.id}`)}default:W(n)}}var wV="getVectorSetItems";function dI(e){return wV in e}function uI(e,t){return e.getNodesWithTrait(t,o=>Et(o,e)).flatMap(o=>{if(o.moduleSourceRevision===void 0)return[];let n=cn(o,e).filter(a=>!a.includes("draftCollection")),i=o.moduleSourceRevision;return n.map(a=>({moduleIdentifier:eu(a,"default").value,moduleRevision:i}))})}function RV(e){return e.mainView===1?e.codeEditorPreviewVisible:e.mainView===3}function ZQ(e,t,r={}){let{previewStore:o,fullsizePreviewStore:n,loadingStore:i,chromeStore:a,treeStore:s,modulesStore:l}=e;if(!i.hasMinimalEditableData)return;let{visible:c,shownOnLaunch:m,source:d="unknown"}=r,p=RV(a),f=typeof c=="boolean"?c:!p;if(a.setPreviewVisible(f),!p&&f){o.addActiveSession();let h=o.computePreviewItem();if(!MV({treeStore:s,previewStore:o,chromeStore:a,modulesStore:l},h))o.item=h;else if(h?.type==="node"){let y=s.tree.get(h.nodeId);g(y,"Did not find previewNode",h.nodeId),n.updatePreviewSize(y)}VV(t,h).then(y=>{o.targetModuleRevisions=uI(s.tree,y)}).catch(Ne).finally(()=>{o.item=h}),hC({shown_on_launch:m,source:d})}else p&&!f&&(o.removeActiveSession(),o.stickyPreviewItem=!1,o.item=void 0)}function MV(e,t){if(!t||t.type!=="node")return!1;let{modulesStore:r}=e,o=cI(e,t);switch(o.kind){case"module":{let n=Z(o.moduleIdentifier);return Vt(n)?!r.getModuleEntryByLocalId(n.localId):!1}case"webpage":{let n=Fe("screen",o.initialRoute);return!r.getModuleEntryByLocalId(n)}case"prototype":{let n=Fe("prototype",o.routeId);return!r.getModuleEntryByLocalId(n)}case"empty":return!1;default:W(o)}}async function VV(e,t){if(Ec(e,"canDesign")||!t)return[];let r=await DV(t,e.stores,e),{codeGenerationStore:o}=e.stores,n=await o.generateAndUpdateQueuedComponents();return await o.serialization.idle(),[r,...n]}async function DV(e,t,r){if(Ec(r,"canDesign"))return Promise.resolve(void 0);let{codeGenerationStore:o,treeStore:n,modulesStore:i}=t;if(e.type==="component"){await o.updateComponent(e.componentId,1);return}else if(e.collectionItemNodeId){let a=n.tree.getParent(e.collectionItemNodeId);return a?(await o.updateComponent(a.id,1),a.id):void 0}else{let a=n.tree,s=a.get(e.nodeId);g(s,"Did not find previewNode",e.nodeId);let l=a.getCanvasScopeNodeFor(s);if(g(l,"Tried triggering code generation for non canvas scope node:",s.id),dI(l))return xt(s)?(await o.updateComponent(s.id,1),s.id):Promise.resolve(void 0);if($t(l))return await o.updateComponent(l.id,1),l.id;if(Te(l))return await tI(s,{codeGenerationStore:o,treeStore:n,modulesStore:i},P),s.id;if(Me(l))return await o.updateComponent(s.id,1),s.id;W(l)}}function nZ(e){let{newContentAsDraft:t}=e.stores.persistedUserDefaults;return!(!t||e.stores.publishStore.publishStatus===1)}var ea=class ea extends Dn{constructor(r){super();this.scheduler=r;w(this,"menu",null)}show(r,o){if(!lt.isOn("improvedMenus")){PV(r,o);return}let n={...o,className:o.options?.className},i=ea.buildItems(r);this.menu={items:i,config:n,startTime:performance.now()}}close(){this.scheduler.processWhenReady(()=>{this.menu&&(this.menu.config.onDone?.(),this.menu.config.onCancel?.(),this.menu=null)})}};w(ea,"buildItems",(r,o=[])=>{let n=[];for(let[i,a]of r.entries()){if(!N(a.submenu)&&!tr(a.submenu))continue;let{submenu:s,...l}=a,c=o?[...o,i]:[i],m={...l,path:c};if(m.type==="separator"){if(i===0||i===r.length-1||n[n.length-1]?.type==="separator")continue;n.push(m);continue}if(a.disabled&&(m.enabled=!1),a.action&&(m.role=a.action),a.role){let{states:p,options:f}=vy(a.role),h=p[a.role],{label:y,checked:b,visible:S}=f[a.role]??{};A(y)&&(m.label=y),N(a.checked)&&fr(b)&&(m.checked=b),N(a.visible)&&fr(S)&&(m.visible=S),N(a.disabled)&&N(a.enabled)&&fr(h)&&(m.enabled=h)}if(a.visible===!1)continue;if(s){let p=ea.buildItems(s,c),f={...m,submenu:p};n.push(f);continue}let d=kV(m);n.push(d)}return n.length>0&&n[n.length-1]?.type==="separator"&&n.pop(),n.length>0&&n[0]?.type==="separator"&&n.shift(),n});var mI=ea;function kV(e){let{role:t}=e;if(!t)return e;let r={...e};return!Bp&&!e.acceleratorWindows&&(r.acceleratorWindows=Ay[t]),e.accelerator||(r.accelerator=Ey[t]),r}function PV(e,t){let r=By.buildFromTemplate(e),o={...t.options,onCancel:t.onCancel};r.popup(t.location,o).catch(Ne).finally(t.onDone)}var ci,Lo,pI=class extends Dn{constructor(r){super();this.modulesStore=r;H(this,ci,new Map);H(this,Lo,new Map);w(this,"_forceUpdate",0)}rerender(){this._forceUpdate++}queue(r){if(C(this,Lo).has(r))return;let o=ca();C(this,Lo).set(r,o),this.rerender()}cache(r,o){let n=C(this,Lo).get(r);n&&n.resolve(o),C(this,Lo).delete(r),C(this,ci).set(r,o),this.rerender()}getByGlobalId(r){let o=this.modulesStore.getPersistedModuleByGlobalId(r);if(!o)return;let n=Xa(o.localId)[1],i=C(this,Lo).get(n);if(i)return i;let a=C(this,ci).get(n);if(a)return a;let s=this.modulesStore.forType("vector").getByStableName(n)?.transientSVGIcon;if(s)return{svg:s}}delete(r){C(this,ci).delete(r),this.rerender()}};ci=new WeakMap,Lo=new WeakMap;function MZ(e,t){if(!mg(e)){t.onlyNodesWithFormInputFontStyles=!1;return}Nr("formInputFontFamily",t,e),FV(t,e),Nr("formInputFontColor",t,e),Nr("formInputFontWeight",t,e),Nr("formInputFontStyle",t,e),Nr("formInputFontLineHeight",t,e),Nr("formInputFontLineHeightUnit",t,e),Nr("formInputFontTextAlignment",t,e),Nr("formInputFontLetterSpacing",t,e),Nr("formInputFontLetterSpacingUnit",t,e),ut(t.formInputFontSelector)&&(t.formInputFontSelector=new Set),fa(e.formInputFontSelector)&&t.formInputFontSelector.add(e.formInputFontSelector),t.formInputOpenTypeFontFeatures=jd(t.formInputOpenTypeFontFeatures,e.formInputOpenTypeFontFeatures)}function FV(e,t){let r=e.formInputFontSize,o=e.formInputFontSizeUnit;if(ft(r)&&ft(o)||N(t.formInputFontSize))return;let[n,i]=G(t.formInputFontSize)?[t.formInputFontSize,"px"]:po(t.formInputFontSize);if(ut(o))e.formInputFontSizeUnit=i;else if(uo(i,o)){e.formInputFontSizeUnit=ae,e.formInputFontSize=ae;return}ut(r)?e.formInputFontSize=n:uo(n,r)&&(e.formInputFontSize=ae)}function jd(e,t){let r=new Set(fn(e)?Object.keys(e):void 0),o=t??[],n=fn(e)?e:{};for(let i of o){if(!Ci(i))continue;let a=n[i];N(a)&&(n[i]=fn(e)?ae:!0),r.delete(i)}for(let i of r)Ci(i)&&(n[i]=ae);return n}var LV={borderBottom:ae,borderLeft:ae,borderRight:ae,borderTop:ae,borderWidth:ae,borderColor:ae,borderStyle:ae,borderPerSide:ae};function Pe(e,t){return ft(t)?ae:ut(t)?e:uo(e,t)?ae:e}function EV(e,t){return ft(t)?ae:ut(t)||pr(e,t)?e:ae}function AV(e,t,r){return g(fn(e)),ft(e)?ae:e.length!==t.length?ae:(e.forEach((o,n)=>{let i=t[n];g(i);let a=o.type;switch(a){case"boolean":case"color":case"date":case"enum":case"file":case"link":case"number":case"object":case"richtext":case"string":case"transition":case"image":case"responsiveimage":case"scrollsectionref":case"customcursor":case"border":case"cursor":ta(o,i,r);break;default:W(a)}}),e)}function ta(e,t,r){switch(e.type){case"array":{if(g(t.type==="array"),g(r.type==="array"),ft(e.value))break;if(ut(e.value)){if(kt(t.value)){e.value=t.value;break}e.value=t.value.map(o=>$V(r.control,o.id))}if(kt(t.value)){e.value=Pe(t.value,e.value);break}if(kt(e.value)){e.value=ae;break}e.value=AV(e.value,t.value,r.control);break}case"slot":{if(g(t.type===e.type),ft(e.value))break;g(r.type==="slot"),g(!k(t.value),"Slots don't support dynamic values"),ut(e.value)?e.value=t.value:e.value=ae;break}case"object":if(g(t.type===e.type),ft(e.value))break;if(g(r.type==="object"),ut(e.value))if(t.value===null)e.value=null;else{e.value={};for(let o in r.controls){let n=r.controls[o];g(n);let i=WV(n);i&&(e.value[o]=i)}}if(e.value===null||t.value===null){e.value!==t.value&&(e.value=ae);break}for(let o in e.value){let n=r.controls[o];g(n);let i=e.value[o];g(i);let a=t.value[o];g(a,"getControlProps(), should have added these if they were missing from the document data"),ta(i,a,n)}break;case"transition":if(g(t.type===e.type),ft(e.value))break;if(ut(e.value)){e.value=t.value;break}if(k(e.value)||k(t.value)||!e.value||!t.value){e.value=Pe(t.value,e.value);break}pr(e.value,t.value)||(e.value=ae);break;case"responsiveimage":if(g(t.type==="image"),e.value=Pe(t.value,e.value),e.type==="responsiveimage"){let o=A(t.alt)?t.alt:"";e.alt=Pe(o,e.alt);let{positionX:n,positionY:i}=t;e.positionX=Pe(n,e.positionX),e.positionY=Pe(i,e.positionY)}break;case"fusednumber":g(t.type===e.type),e.single=Pe(t.value.single,e.single),e.isFused=Pe(t.isFused,e.isFused),e.fused[0]=Pe(t.value.fused[0],e.fused[0]),e.fused[1]=Pe(t.value.fused[1],e.fused[1]),e.fused[2]=Pe(t.value.fused[2],e.fused[2]),e.fused[3]=Pe(t.value.fused[3],e.fused[3]);break;case"link":{if(g(t.type===e.type),ft(e.value))break;if(ut(e.value)){e.value=t.value;break}if(k(e.value)||k(t.value)||!e.value||!t.value){e.value=Pe(t.value,e.value);break}if(!ec(e.value,t.value)){e.value=ae;break}break}case"linkrelvalues":{if(g(t.type===e.type),ft(e.value))break;if(ut(e.value)){e.value=t.value;break}if(k(e.value)||k(t.value)||!e.value||!t.value){e.value=Pe(t.value,e.value);break}pr(e.value,t.value)||(e.value=ae);break}case"pagescope":if(g(t.type===e.type),ft(e.value))break;if(ut(e.value)){e.value=t.value;break}if(!e.value||!t.value){e.value=Pe(t.value,e.value);break}if(!ec(e.value,t.value)){e.value=ae;break}break;case"font":{if(g(r.type==="font"),g(t.type===e.type),ft(e.value))break;if(ut(e.value)){if(N(t.value)){e.value=t.value;break}let h=new Set([t.value.fontSelector]),y=Ge,b=new Set,S=new Set,I=Ge,T=Ge,R=Ge,M=new Set,L={};if(r.displayFontSize){let[F,j]=Si(t.value.fontSize)?po(t.value.fontSize):[];y=F,j&&b.add(j)}if(r.displayTextAlignment&&(T=t.value.textAlignment),r.controls==="extended"){let[F,j]=t.value.lineHeight??[];I=F,j&&S.add(j);let[z,ee]=t.value.letterSpacing??[];R=z,ee&&M.add(ee)}t.value.openTypeFontFeatures&&(L=(t.value.openTypeFontFeatures??[]).reduce((F,j)=>(Ci(j)&&(F[j]=!0),F),{})),e.value={fontSelector:h,lineHeightValue:I,lineHeightUnits:S,fontSizeValue:y,fontSizeUnits:b,textAlignment:T,letterSpacingValue:R,letterSpacingUnits:M,openTypeFontFeatures:L};break}if(N(e.value)){N(t.value)||(e.value=ae);break}if(N(t.value)){e.value=ae;break}let{fontSelector:o,lineHeight:[n,i]=[],fontSize:a,textAlignment:s,letterSpacing:[l,c]=[],openTypeFontFeatures:m}=t.value;e.value.fontSelector.add(o);let[d,p]=Si(a)?po(a):[],f=e.value.fontSizeValue!==d||!N(p)&&!e.value.fontSizeUnits.has(p);r.displayFontSize&&f&&(e.value.fontSizeValue=ae,p&&e.value.fontSizeUnits.add(p)),r.displayTextAlignment&&e.value.textAlignment!==s&&(e.value.textAlignment=ae),r.controls==="extended"&&(e.value.lineHeightValue!==n&&(e.value.lineHeightValue=ae),i&&e.value.lineHeightUnits.add(i),e.value.letterSpacingValue!==l&&(e.value.letterSpacingValue=ae),c&&e.value.letterSpacingUnits.add(c)),e.value.openTypeFontFeatures=jd(e.value.openTypeFontFeatures,m);break}case"customcursor":case"scrollsectionref":{g(t.type===e.type);let o=pr(t.value,e.value)?e.value:t.value;e.value=Pe(o,e.value);break}case"border":{if(g(t.type===e.type),ut(e.value)){k(t.value)?e.value=t.value:nt(t.value)?e.value=null:e.value={...t.value};break}if(k(t.value)||k(e.value)||nt(t.value)||nt(e.value)){uo(t.value,e.value)&&(e.value=LV);break}let o=e.value;o.borderTop=Pe(t.value.borderTop,o.borderTop),o.borderRight=Pe(t.value.borderRight,o.borderRight),o.borderBottom=Pe(t.value.borderBottom,o.borderBottom),o.borderLeft=Pe(t.value.borderLeft,o.borderLeft),o.borderWidth=Pe(t.value.borderWidth,o.borderWidth),o.borderColor=Pe(t.value.borderColor,o.borderColor),o.borderStyle=Pe(t.value.borderStyle,o.borderStyle);break}case"boxshadow":g(t.type===e.type),e.value=Nm(t.value,e.value);break;case"multicollectionreference":g(t.type===e.type),e.value=EV(t.value,e.value);break;case"gap":{if(g(t.type===e.type),e.value=Pe(t.value,e.value),!ft(e.columnGap)){let o=k(t.value)?ae:St(t.value);ut(e.columnGap)?e.columnGap=o:uo(o,e.columnGap)&&(e.columnGap=ae)}if(!ft(e.rowGap)){let o=k(t.value)?ae:Bn(t.value);ut(e.rowGap)?e.rowGap=o:uo(o,e.rowGap)&&(e.rowGap=ae)}break}case"boolean":case"color":case"date":case"enum":case"file":case"number":case"richtext":case"string":case"image":case"cursor":case"padding":case"borderradius":case"collectionreference":case"trackingid":case"vectorsetitem":g(t.type===e.type),e.value=Pe(t.value,e.value);break;default:}}function ra(e){switch(e.type){case"boolean":case"color":case"date":case"enum":case"file":case"link":case"linkrelvalues":case"number":case"richtext":case"string":case"transition":case"boxshadow":case"image":case"object":return{type:e.type,value:Ge};case"array":case"slot":case"font":case"pagescope":case"scrollsectionref":case"customcursor":case"border":case"cursor":case"padding":case"borderradius":case"collectionreference":case"multicollectionreference":case"vectorsetitem":return{type:e.type,value:Ge};case"gap":return{type:e.type,value:Ge,columnGap:Ge,rowGap:Ge};case"trackingid":return{type:e.type,value:Ge,trackingIdAIPrompt:Ge};case"fusednumber":return{type:"fusednumber",isFused:Ge,single:Ge,fused:[Ge,Ge,Ge,Ge]};case"responsiveimage":return{type:"responsiveimage",value:Ge,alt:Ge,positionX:Ge,positionY:Ge};case"eventhandler":return null;default:return null}}var BV={number:!0,enum:!0,boolean:!0,string:!0,richtext:!0,color:!0,image:!0,responsiveimage:!0,file:!0,transition:!0,link:!0,date:!0,object:!0,array:!0,fusednumber:!0,font:!0,pagescope:!0,scrollsectionref:!0,customcursor:!0,border:!0,cursor:!0,boxshadow:!0,gap:!0,padding:!0,borderradius:!0,collectionreference:!0,multicollectionreference:!0,trackingid:!0};function OV(e){return Object.hasOwn(BV,e)}function zV(e){return OV(e.type)}function WV(e){let t=ra(e);return t?(g(zV(t)),t):null}function $V(e,t){let r=ra(e);g(r);let o=r;return o.id=t,o}function jZ(e,t){let r={};for(let o in e){let n=e[o];if(!n)continue;let i=ra(n);i&&(r[o]=i)}for(let o of t)for(let n in o){let i=e[n];if(g(i),i.type==="eventhandler")continue;let a=r[n];g(a,"Each control prop should have a corresponding reduced control prop");let s=o[n];g(s),ta(a,s,i)}return r}function ree(e,t,r,o,n){let i=r.id;if(!i)return;let a=e.getNodeWithTrait(r.providerId,mt);if(!a)return;let s=a.dataIdentifier;if(!Vt(s))return;let l=fi(e,s);if(!l)return;n??=Mi(a,t);let c=e.getNodeWithTrait(n,so);if(!c)return;let m=Da(e,t,i,c,l);m&&(c=m.collectionItemNode,l=m.collectionNode,i=m.variableId);let p=l.getPropertyControls(e)[i];if(!p)return;let f=l.getVariable(i);if(!f)return;let h=c.getControlProp(i),{controlProp:y,reducedControlProp:b}=HV(p,h);if(ly(y)&&(g(b,"Reduced control prop should not be null when a collection control prop is present"),l.id===c.parentid&&!(l.managedByPlugin&&!f.userEditable)&&f.type===o&&y.type===o))return{collectionNode:l,collectionItemNode:c,variableDefinition:f,controlDescription:p,rawControlProp:h,controlProp:y,reducedControlProp:b,variableId:i}}var fI=new WeakMap;function HV(e,t){let r=fI.get(e);if(r&&r.rawControlProp===t){let{controlProp:i,reducedControlProp:a}=r;return{controlProp:i,reducedControlProp:a}}let o=Mm(e,t),n=ra(e);return n&&o&&ta(n,o,e),fI.set(e,{rawControlProp:t,controlProp:o,reducedControlProp:n}),{controlProp:o,reducedControlProp:n}}function hI(e){return e!=null&&typeof e=="object"&&e.nodeType===1}function gI(e,t){return t&&e==="hidden"?!1:e!=="visible"&&e!=="clip"}function _d(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let r=getComputedStyle(e,null);return gI(r.overflowY,t)||gI(r.overflowX,t)}return!1}function Wl(e,t,r,o,n,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=r||a>=t&&s>=r?i-e-o:a>t&&s<r||i<e&&s>r?a-t+n:0}function Jd(e,t){let{scrollMode:r,block:o,inline:n,boundary:i,skipOverflowHiddenElements:a}=t,s=typeof i=="function"?i:z=>z!==i;if(!hI(e))throw new TypeError("Invalid target");let l=document.scrollingElement||document.documentElement,c=[],m=e;for(;hI(m)&&s(m);){if(m=m.parentNode,m===l){c.push(m);break}m===document.body&&_d(m)&&!_d(document.documentElement)||_d(m,a)&&c.push(m)}let d=window.visualViewport,p=d?.width??innerWidth,f=d?.height??innerHeight,h=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,{height:b,width:S,top:I,right:T,bottom:R,left:M}=e.getBoundingClientRect(),L=o==="start"||o==="nearest"?I:o==="end"?R:I+b/2,F=n==="center"?M+S/2:n==="end"?T:M,j=[];for(let z of c){let{height:ee,width:oe,top:ve,right:D,bottom:ne,left:Q}=z.getBoundingClientRect();if(r==="if-needed"&&I>=0&&M>=0&&R<=f&&T<=p&&I>=ve&&R<=ne&&M>=Q&&T<=D)return j;let de=getComputedStyle(z),me=parseInt(de.borderLeftWidth,10),Ie=parseInt(de.borderTopWidth,10),Je=parseInt(de.borderRightWidth,10),K=parseInt(de.borderBottomWidth,10),E=0,ie=0,xe="offsetWidth"in z?z.offsetWidth-z.clientWidth-me-Je:0,Xe="offsetHeight"in z?z.offsetHeight-z.clientHeight-Ie-K:0;if(l===z)o==="start"?E=L:o==="end"?E=L-f:o==="nearest"?E=Wl(y,y+f,f,Ie,K,y+L,y+L+b,b):E=L-f/2,n==="start"?ie=F:n==="center"?ie=F-p/2:n==="end"?ie=F-p:ie=Wl(h,h+p,p,me,Je,h+F,h+F+S,S),E=Math.max(0,E+y),ie=Math.max(0,ie+h);else{o==="start"?E=L-ve-Ie:o==="end"?E=L-ne+K+Xe:o==="nearest"?E=Wl(ve,ne,ee,Ie,K+Xe,L,L+b,b):E=L-(ve+ee/2)+Xe/2,n==="start"?ie=F-Q-me:n==="center"?ie=F-(Q+oe/2)+xe/2:n==="end"?ie=F-D+Je+xe:ie=Wl(Q,D,oe,me,Je+xe,F,F+S,S);let{scrollLeft:zt,scrollTop:et}=z;E=Math.max(0,Math.min(et+E,z.scrollHeight-ee+Xe)),ie=Math.max(0,Math.min(zt+ie,z.scrollWidth-oe+xe)),L+=et-E,F+=zt-ie}j.push({el:z,top:E,left:ie})}return j}function yI(e){return e===Object(e)&&Object.keys(e).length!==0}function GV(e,t="auto"){let r="scrollBehavior"in document.body.style;e.forEach(({el:o,top:n,left:i})=>{o!==document.body&&(o.scroll&&r?o.scroll({top:n,left:i,behavior:t}):(o.scrollTop=n,o.scrollLeft=i))})}function UV(e){return e===!1?{block:"end",inline:"nearest"}:yI(e)?e:{block:"start",inline:"nearest"}}function SI(e,t){let r=!e.ownerDocument.documentElement.contains(e);if(yI(t)&&typeof t.behavior=="function")return t.behavior(r?[]:Jd(e,t));if(r)return;let o=UV(t);return GV(Jd(e,o),o.behavior)}var jV="codemark",oa=100,CI=new Fm(jV);function Br(e,t){var r,o;return"schema"in e?(r=t?.markType)!==null&&r!==void 0?r:e.schema.marks.code:(o=t?.markType)!==null&&o!==void 0?o:e.state.schema.marks.code}function ro(e,t){return e.resolve(Math.min(Math.max(1,t),e.nodeSize-2))}function II(e,t,r,o){var n;let i=e.isInSet((n=t.state.storedMarks)!==null&&n!==void 0?n:t.state.doc.resolve(r).marks()),a=t.state.doc.rangeHasMark(r,o,e);return!!(i||a)}var vI={match:/`((?:[^`\w]|[\w])+)`$/,handler:(e,t,r,o,n,i,a,s)=>{if(II(e,t,n,i))return!1;let l=o[1],c=e.create(s),m=n+l.length,d=t.state.tr.delete(n,i).insertText(l).addMark(n,m,c),p=d.setSelection(qt.create(d.doc,m)).removeStoredMark(e),f=p.setMeta(a.input,{transform:p,from:n,to:i,text:`\`${l}${r}`});return t.dispatch(f),!0}},bI={match:/^`((?:[^`\w]|[\w])+)`/,handler:(e,t,r,o,n,i,a,s)=>{if(II(e,t,n,i))return!1;let l=e.create(s),c=o[1],m=n,d=t.state.tr.delete(n,i).insertText(c).addMark(n,n+c.length,l),p=d.setSelection(qt.create(d.doc,m)).addStoredMark(l),f=p.setMeta(a.input,{transform:p,from:n,to:i,text:`\`${c}${r}`});return t.dispatch(f),!0}};function _V(e,t,r,o,n,i,a){if(t.composing)return!1;let{state:s}=t,l=s.doc.resolve(r);if(l.parent.type.spec.code)return!1;let c="\uFFFC",m=l.parent.textBetween(Math.max(0,l.parentOffset-oa),l.parentOffset,void 0,c)+n,d=n+l.parent.textBetween(l.parentOffset,Math.min(l.parent.nodeSize-2,l.parentOffset+oa),void 0,c),p=vI.match.exec(m),f=bI.match.exec(d);if(p){let h=vI.handler(e,t,n,p,r-p[0].length+n.length,o,i,a);if(h)return h}return f?bI.handler(e,t,n,f,r,o+f[0].length-n.length,i,a):!1}function TI(e,t){t||(t={});let r=new gr({isInputRules:!0,state:{init:()=>null,apply(o,n){let i=o.getMeta(r);return i||(o.selectionSet||o.docChanged?null:n)}},props:{handleTextInput(o,n,i,a){let s=Br(o,t);return _V(s,o,n,i,a,{input:r,cursor:e},t.attrs)}}});return r}function Or(e,t,r="next"){let o={action:r};return e.dispatch(e.state.tr.setMeta(t,o)),!1}function NI(e,t,r,o,n){if(e.state.selection.empty||r.metaKey||r.shiftKey||r.altKey||r.ctrlKey)return!1;let{from:i,to:a}=e.state.selection;if(a-i>=oa||e.state.doc.rangeHasMark(i,a,o))return!1;let s=e.state.tr.addMark(i,a,o.create(n)),l=s.setSelection(qt.create(s.doc,a)).removeStoredMark(o);return e.dispatch(l),!0}function JV(e,t,r,o,n){var i;if(r.metaKey)return Or(e,t);if(r.shiftKey||r.altKey||r.ctrlKey)return!1;let{selection:a,doc:s}=e.state;if(!a.empty)return!1;let l=t.getState(e.state),c=a.$from,m=!!o.isInSet(c.marks()),d=!!o.isInSet((i=c.marksAcross(ro(s,a.from+1)))!==null&&i!==void 0?i:[]);return c.pos===e.state.doc.nodeSize-3&&c.parentOffset===c.parent.nodeSize-2&&l?.active?(e.dispatch(e.state.tr.removeStoredMark(o)),!0):m===d&&c.parentOffset!==0?!1:m&&(!l?.active||l.side===-1)&&c.parentOffset!==0?(e.dispatch(e.state.tr.removeStoredMark(o)),!0):d&&l?.side===-1?(e.dispatch(e.state.tr.addStoredMark(o.create(n))),!0):!1}function xI(e,t,r,o,n){if(JV(e,t,r,o,n))return!0;let{selection:a}=e.state,s=a.$from;return a.empty&&s.parentOffset===s.parent.nodeSize-2?Or(e,t):!1}function XV(e,t,r,o,n){var i;if(r.metaKey)return Or(e,t);if(r.shiftKey||r.altKey||r.ctrlKey)return!1;let{selection:a,doc:s}=e.state,l=t.getState(e.state),c=!!o.isInSet(a.$from.marks()),m=!!o.isInSet((i=ro(s,a.empty?a.from-1:a.from+1).marks())!==null&&i!==void 0?i:[]);if(c&&l?.side===-1&&a.$from.parentOffset===0)return!1;if(l?.side===0&&a.$from.parentOffset===0)return e.dispatch(e.state.tr.removeStoredMark(o)),!0;if(c&&m&&l?.side===0)return e.dispatch(e.state.tr.addStoredMark(o.create(n))),!0;if(c&&!m&&l?.active&&a.$from.parentOffset===0||!c&&l?.active&&l?.side===0)return e.dispatch(e.state.tr.removeStoredMark(o)),!0;if(c===m)return!1;if(m||!a.empty&&c){let d=a.empty?a.from-1:a.from,p=e.state.tr.setSelection(qt.create(s,d));return!a.empty&&m?e.dispatch(p.addStoredMark(o.create(n))):e.dispatch(p.removeStoredMark(o)),!0}if((m||!a.empty&&c)&&!l?.active){let d=a.empty?a.from-1:a.from;return e.dispatch(e.state.tr.setSelection(qt.create(s,d)).removeStoredMark(o)),!0}if(c&&!l?.active&&a.$from.parentOffset>0)return e.dispatch(e.state.tr.setSelection(qt.create(s,a.from-1)).addStoredMark(o.create(n))),!0;if(c&&!m&&l?.active&&l.side!==-1)return e.dispatch(e.state.tr.addStoredMark(o.create(n))),!0;if(c&&!m&&l?.active){let d=a.from-1;return e.dispatch(e.state.tr.setSelection(qt.create(s,d)).addStoredMark(o.create(n))),!0}return!1}function wI(e,t,r,o,n){if(XV(e,t,r,o,n))return!0;let{selection:a}=e.state,s=a.$from,l=t.getState(e.state);return s.pos===1&&s.parentOffset===0&&l?.side===-1?!0:a.empty&&s.parentOffset===0?Or(e,t):!1}function RI(e,t,r,o){if(r.metaKey||r.shiftKey||r.altKey||r.ctrlKey)return!1;let{selection:n,doc:i}=e.state,a=ro(i,n.from-1),s=!!o.isInSet(a.marks()),l=a.parentOffset===0,c=!!o.isInSet(ro(i,n.to+1).marks());if((!s||l)&&!c)return Or(e,t);let m=t.getState(e.state);if(n.empty&&m?.side===-1){let d=e.state.tr.delete(n.from-1,n.from);return e.dispatch(d),!0}return!1}function MI(e,t,r,o){if(r.metaKey||r.shiftKey||r.altKey||r.ctrlKey)return!1;let{selection:n,doc:i}=e.state,a=!!o.isInSet(n.$from.marks()),s=n.$from.parentOffset===0,l=!!o.isInSet(ro(i,n.to+2).marks());return(!a||s)&&!l?Or(e,t):!1}function VI(e,t){var r,o;if(!e)return null;let{selection:n,doc:i}=e;if(!n.empty)return null;let a=!!t.isInSet((r=e.storedMarks)!==null&&r!==void 0?r:[]),s=!!t.isInSet(n.$from.marks()),l=!!t.isInSet((o=ro(i,n.from+1).marks())!==null&&o!==void 0?o:[]),c=n.$from.parentOffset===0;return s!==l||!s&&a!==s||s&&c?e.tr.removeStoredMark(t):null}function qV(){let e=document.createElement("span");return e.classList.add("fake-cursor"),e}function KV(e){e||(e={});let t=new gr({key:CI,appendTransaction:(r,o,n)=>{var i;let a=t.getState(o),s=(i=r[0])===null||i===void 0?void 0:i.getMeta(t);return a?.next||s?.action==="click"?VI(n,Br(n,e)):null},state:{init:()=>null,apply(r,o,n,i){var a;let s=r.getMeta(t);if(s?.action==="next")return{next:!0};let l=Br(i,e),c=l.isInSet((a=i.storedMarks)!==null&&a!==void 0?a:i.doc.resolve(r.selection.from).marks()),m=l.isInSet(i.doc.resolve(r.selection.from).marks()),d=l.isInSet(ro(i.doc,r.selection.from+1).marks()),p=r.selection.$from.parentOffset===0;return r.selection.empty?!c&&d&&(!m||p)?{active:!0,side:-1}:c&&(!m||p)?{active:!0,side:0}:!c&&m&&!d?{active:!0,side:0}:c&&m&&!d?{active:!0,side:-1}:null:null}},props:{attributes:r=>{var o;let{active:n=!1}=(o=t.getState(r))!==null&&o!==void 0?o:{};return Object.assign({},n?{class:"no-cursor"}:{})},decorations:r=>{var o;let{active:n,side:i}=(o=t.getState(r))!==null&&o!==void 0?o:{};if(!n)return fc.empty;let a=Wm.widget(r.selection.from,qV,{side:i});return fc.create(r.doc,[a])},handleKeyDown(r,o){switch(o.key){case"`":return NI(r,t,o,Br(r,e),e.attrs);case"ArrowRight":return xI(r,t,o,Br(r,e),e.attrs);case"ArrowLeft":return wI(r,t,o,Br(r,e),e.attrs);case"Backspace":return RI(r,t,o,Br(r,e));case"Delete":return MI(r,t,o,Br(r,e));case"ArrowUp":case"ArrowDown":case"Home":case"End":return Or(r,t);case"e":case"a":return o.ctrlKey?Or(r,t):!1;default:return!1}},handleClick(r){return Or(r,t,"click")}}});return t}function DI(e){let t=KV(e),r=TI(t,e);return[t,r]}var Iee=DI;var Dee=e=>(t,r)=>{if(!r)return!1;let o=t.selection,n=o.$from.node(1);if(!pt(n)||!Ur(n)||o.$to.parentOffset===o.$to.parent.content.size)return!1;let a=n.attrs.tag;return a==="p"||a==="div"?!1:kI(e)(t,r)},kee=e=>(t,r)=>{if(!r)return!1;let n=t.selection.$from.node(1);if(!pt(n)||Ur(n))return!1;let i=n.attrs.tag;return i==="p"||i==="div"?!1:kI(e)(t,r)},kI=e=>(t,r)=>{if(!r)return!1;let o=e.nodes.lineBreak.create(),n=t.tr.replaceSelectionWith(o).scrollIntoView();return r(n),!0},Pee=e=>(t,r)=>{let o=t.selection;if(o.from!==o.to)return!1;let n=o.$from.node(-1);return!Am(n)||Bm(o.$from.node(-3))||o.$from.parentOffset!==0||o.$from.index(-1)!==0||o.$from.index(-2)!==0?!1:cy(e.nodes.listItem)(t,r&&(i=>{if(o.$from.depth>3){let a=o.$from.before(-1);i.join(a)}r(i)}))};function Eee(e){return Ac(/^([ai]|\d+)\.\s$/iu,e.nodes.numberedList,t=>{let r=t[1];switch(r){case"a":return{listStyleType:"lower-alpha"};case"A":return{listStyleType:"upper-alpha"};case"i":return{listStyleType:"lower-roman"};case"I":return{listStyleType:"upper-roman"};default:return{start:Number(r)}}},(t,r)=>r.childCount+r.attrs.start===Number(t[1]))}function Aee(e){return Ac(/^\s*([-+*])\s$/u,e.nodes.bulletedList)}function Uee(){return new gr({appendTransaction(e,t,r){let o,n=r.selection.$from.parent;if(t.selection instanceof Rr&&e.find(a=>a.steps.find(s=>s instanceof km))){let a=t.doc.firstChild,s=pt(n)&&!Ur(n);if(a&&pt(a)&&s){let l=YV(a);if(o??=r.tr,l){let c=l.marks.find(ho);o.setNodeMarkup(0,a.type,{...a.attrs,inlineStyles:c?.attrs.inlineStyles??{}});for(let m of l.marks)o.addMark(0,r.doc.content.size,m),o.addStoredMark(m)}else{let c=a.attrs.inlineStyles;o.setNodeMarkup(0,a.type,{...a.attrs,inlineStyles:c})}}}return o}})}function YV(e){for(let t=0;t<e.childCount;t++){let r=e.child(t);if(Ea(r))return r}}function qee(e,t){let r=t.getFontsForLoading().filter(i=>!Bo.isSelectorLoaded(i)),o=t.getTextStylePresets(!1).filter(Pu),n=e.getNodesWithTrait(o,lo).filter(i=>!Bo.isSelectorLoaded(i.font)).map(i=>i.font);return r.push(...n),r}var PI=[Mr.youtube,Mr.vimeo,Mr.codeblock,Mr.twitter];async function FI(e,t){let r=Z(t);Ir(r)&&await e.stores.modulesStore.addExternalModulesToProject([r],{onTreeUpdate(){}})}var LI=new WeakMap;async function tte(e){let{modules:t}=await e.stores.modulesStore.lookUpModules(PI.map(zm)),r=[];for(let o=0;o<t.length;o++){let n=t[o];g(n,"Module must exist");let i=PI[o];g(i,"Module component must exist"),LI.set(i,n),g(n.files.module,"Module must have a module file"),r.push(Jl(n.id,n.saveId,n.files.module,i.exportSpecifier??"default"))}await e.stores.modulesStore.preloadExternalModules(r)}function na(e,t){let r=LI.get(t);g(r,"Preloaded module must exist");let o=e.getNodeWithTrait(r.id,rc);return o?o.codeComponentIdentifier:(g(r.files.module,"Module must have a module file"),Jl(r.id,r.saveId,r.files.module,t.exportSpecifier??"default").value)}async function EI(e,t){let{moduleIdentifier:r}=await hy(e,t);if(r.kind==="externalModuleExport"){let o=e.tree.getNodeWithTrait(r.moduleId,rc);if(o)return o.codeComponentIdentifier}return r.value}async function oo(e,t,r,o,n={}){await FI(e,o);let i=r.state,a=i.tr;a.replaceRangeWith(i.selection.from,i.selection.to,t.nodes.module.create({identifier:o,props:n}));let s=i.selection.from===0?0:i.selection.from-1;a.setSelection(Pm.create(a.doc,s)),r.dispatch(a)}async function $l(e,t,r,o,n){let i=await EI(e,o);await oo(e,t,r,i,n)}async function Hl(e,t,r,o,n){Ht("collection_record_youtube_add",{source:"cms"});let i=n?{url:{type:"string",value:n}}:void 0;try{let a=na(e.tree,Mr.youtube);await oo(e,t,r,a,i),o?.()}catch(a){Ne(a)}}async function ute(e,t,r,o,n){let i=n?{url:{type:"string",value:n}}:void 0;try{let a=na(e.tree,Mr.twitter);await oo(e,t,r,a,i),o?.()}catch(a){Ne(a)}}async function Gl(e,t,r,o,n){Ht("collection_record_vimeo_add",{source:"cms"});let i=n?{video:{type:"string",value:n}}:void 0;try{let a=na(e.tree,Mr.vimeo);await oo(e,t,r,a,i),o?.()}catch(a){Ne(a)}}async function mte(e,t,r,o="",n){let i={code:{type:"string",value:o}};Ht("collection_record_codeblock_add",{source:"cms"});try{let a=na(e.tree,Mr.codeblock);await oo(e,t,r,a,i),n?.()}catch(a){Ne(a)}}function ia(e,t,r,o,n){return o.content.size===0?!1:(e.scheduler.processWhenReady(()=>{let i=t.state,a=i.tr,s=n(o),l=QV(s),c=i.selection.$from.node(1),m=i.selection.$from.before(1),d=!s.content.child(0).isInline,p=i.selection instanceof Rr||c?.content.size===0;if(l)a.replaceSelectionWith(l,!0);else if(d&&p){let f=c?m+c.nodeSize:i.selection.to;a.replaceRange(m,f,s)}else a.replaceSelection(s);a.scrollIntoView(),a.setMeta("paste",!0),a.setMeta("uiEvent","paste"),t.dispatch(a)}),!0)}function QV(e){return e.openStart===0&&e.openEnd===0&&e.content.childCount===1?e.content.firstChild:null}var ZV=fe("prosemirror:addMedia"),BI=[{extension:"mp4",mimeType:"video/mp4"}];function AI(e){return e=e.toLowerCase(),BI.some(({extension:t})=>e.endsWith(`.${t}`))}function eD(e){return e.startsWith("video/")}var OI=[...cs],zI=new Set(ds);for(let{extension:e,mimeType:t}of BI)OI.push(e),zI.add(t);var tD="failed-asset-upload-placeholder",WI="updateAssetReferences";function Tte(e){return e.getMeta(WI)}function rD(e){return e.setMeta(WI,!0)}async function dn(e,t,r,o,{type:n,insertPosition:i,mediaExtractedFromHTML:a}){let s=r.state,l=s.tr,c=new Gn(e,{silent:a}),m=[],d=[],p=[];for(let I of o)if(I instanceof File){let T=eD(I.type);if(g(!a,"we should not receive files if the media is already in a document"),!zI.has(I.type))continue;let R=URL.createObjectURL(I);m.push({uploadResultTask:c.createTask(I,M=>M),temporaryURL:R,type:T?"video":"image"}),d.push({src:R,isVideo:T}),p.push(R)}else{let T=pu(I.src);if(T){d.push({src:I.src,isVideo:AI(T.originalFilename??T.identifier)});continue}d.push({src:I.src,isVideo:AI(I.src)}),m.push({uploadResultTask:c.createTask(I.src,R=>R),temporaryURL:I.src,type:I.type})}if(!m.length)return Promise.resolve();if(!a)for(let{src:I,isVideo:T}of d){let R=t.nodes.image.create({src:I,type:T?"video":"image"});i?l.insert(i,R):s.selection.replaceWith(l,R)}l.scrollIntoView(),(n==="drop"||n==="paste")&&(l.setMeta(n,!0),l.setMeta("uiEvent",n)),r.dispatch(l);let f=m.map(I=>I.uploadResultTask());a&&Yc(c,f).catch(()=>{});let y=(await Promise.allSettled(f)).map((I,T)=>oD(I,T,m)),b=[];y.forEach(I=>{if(I.type==="asset")return b.push(I.asset)});let S=new Map;m.forEach((I,T)=>{let R=y[T];g(R,"Asset upload result must be defined"),S.set(I.temporaryURL,R)}),nD(r,S),p.forEach(I=>URL.revokeObjectURL(I))}function oD(e,t,r){switch(e.status){case"fulfilled":{let{value:o}=e,{asset:n}=o;return o.type==="image"?{type:"asset",asset:n,imageSize:o.imageSize}:{type:"asset",asset:n}}case"rejected":{let o=r[t];return g(o,"Upload must be defined"),ZV.reportError(new Error(e.reason)),{type:"failed upload"}}}}async function Nte(e,t,r,o){let n=await sC.pickFile({allowedFileTypes:OI});if(!n)return;let i=n[0];return dn(e,t,r,[i],o)}function nD(e,t){let r=e.state,o=r.tr;r.doc.descendants((n,i)=>{if(!Nn(n))return;let a=t.get(n.attrs.src);if(a===void 0)return;let s={...n.attrs};if(a.type==="failed upload")s.src=tD;else if(a.imageSize){s.src=mu({identifier:Kl(a.asset),intrinsicSize:{width:a.imageSize.naturalWidth,height:a.imageSize.naturalHeight}});let l=Wg(a.imageSize);s.pixelWidth=l.nonZeroNaturalWidth,s.pixelHeight=l.nonZeroNaturalHeight}else s.src=uu(Kl(a.asset));o.setNodeMarkup(i,n.type,s),rD(o)}),e.dispatch(o)}function Ul(e){let t=e.querySelector("b[id^='docs-internal-guid']")??e.querySelector("*[id^='docs-internal-guid']")?.parentElement;if(t)for(let r=t.children.length-1;r>=0;r--){let o=t.children[r];if(o){for(o instanceof HTMLParagraphElement&&!lt.isOn("pasteMarkdown")&&iD(o),o instanceof HTMLDivElement&&aD(o);$I(o.firstChild);)o.removeChild(o.firstChild);for(;$I(o.lastChild);)o.removeChild(o.lastChild);(o.tagName==="BR"||o.childNodes.length===0)&&o.remove()}}}function $I(e){return e instanceof Element&&e.textContent===""&&e.querySelectorAll("img").length===0}function iD(e){if(e.textContent!=="")return;let t=e.querySelectorAll("img");t.length!==0&&e.replaceWith(...t)}function aD(e){let t=e.querySelector("table");t===null||t.querySelectorAll("tr").length===0||t.querySelectorAll("th, td").length===0||e.replaceWith(t)}var jl=class extends In{constructor(r,o,n){let i=In.nodesFromSchema(o),a=In.marksFromSchema(o),s={},l={};for(let c in i){let m=i[c];s[c]=(...d)=>m(...d,r)}for(let c in a){let m=a[c];l[c]=(...d)=>m(...d,r)}super(s,l);this.onAfterSerializeFragment=n}serializeFragment(r,o,n=document.createDocumentFragment()){return super.serializeFragment(r,o,n),this.onAfterSerializeFragment?.(n),n}};var sD=/^https?:\/\/(?:www\.)?vimeo\.com\/\d+/u,lD=/^https?:\/\/(?:www\.)?youtu(?:\.be|be\.com)/u;function HI({engine:e,schema:t,stylePresetGetters:r,supportedTags:o,saveChanges:n}){return new gr({props:{clipboardSerializer:new jl(e,t,r?uD:void 0),transformPastedHTML(i){let a=bo(i);return Ul(a),a.innerHTML},handlePaste(i,a,s){let l=a.clipboardData?.getData("text/plain"),c=a.clipboardData?.getData("text/html");if(hc(t)){let{clipboardData:m}=a;if(m&&m.files.length>0)return dn(e,t,i,m.files,{type:"paste"}).finally(n),!0}if(A(l)){let d=["http:","https:","mailto:","www."].some(f=>l.startsWith(f)),p=i.state.selection;if(d&&p.from!==p.to&&$m(t)){let f=pc(l,e)??va({url:l}),h=i.state.tr;return h.addMark(p.from,p.to,t.marks.link.create({link:f,openInNewTab:fs(f),smoothScroll:!1,clickTrackingId:void 0,linkStylePreset:void 0,relValues:void 0,preserveParams:!1})),i.dispatch(h),!0}if(gc(t)&&lt.isOn("cmsPasteModules")){let f=Z(l);if(Se(f))return oo(e,t,i,f.value).catch(Ne),!0;if(Ja(l))return $l(e,t,i,l).catch(Ne),!0}if(gc(t)){if(lD.test(l))return Hl(e,t,i,n,l).catch(Ne),!0;if(sD.test(l))return Gl(e,t,i,n,l).catch(Ne),!0}}return ia(e,i,a,s,m=>{if(r&&c&&dD(c))return m;let d=gy(l);l&&d&&(m=yy(l,t));let p=t.nodes.document.create(void 0),f=new Tn(p);f.insert(0,m.content);let h=new Map,y=[];if(f.doc.descendants((S,I)=>{if(pt(S)){let T=S.attrs.tag,R=o?.has(T)??!0,M=Vn(T)&&R?T:"p";f.setNodeMarkup(I,t.nodes.textBlock,{...S.attrs,blockStyles:{},inlineStyles:{},textStylePreset:void 0,tag:M})}Nn(S)&&y.push({src:S.attrs.src,type:S.attrs.type});for(let T of S.marks){if(!Ii(T)||!hr(T.attrs.link))continue;let R=T.attrs.link.url,M;h.has(R)?M=h.get(R):(M=pc(R,e),h.set(R,M)),M&&f.addMark(I,I+S.nodeSize,T.type.create({...T.attrs,link:M}))}}),y.length&&hc(t)&&dn(e,t,i,y,{type:"paste",mediaExtractedFromHTML:!0}).finally(n),Hm(t)&&r){let I=i.state.selection,R=I.$from.parent,M=R.textContent,L=pt(R)&&M.length>0,F=I instanceof Rr,z=!c&&l&&l.length>0&&!d;!L&&!z&&!F?mD(e,t,r.getStylePresetForTag,r.getStylePresetForLink,f):pD(i,t,f)}let b=m.content.child(0).isInline?f.doc.content.child(0).content:f.doc.content;return new bn(b,m.openStart,m.openEnd)})}}})}var GI="framer-match-formatting",cD=document.createComment(GI);function dD(e){return e.endsWith(`<!--${GI}-->`)}function uD(e){e.appendChild(cD)}function mD(e,t,r,o,n){n.doc.descendants((i,a)=>{if(pt(i)){let s=i.attrs,l=A(s.textStylePreset)?e.tree.getNodeWithTrait(s.textStylePreset,zo):void 0,c=Vn(s.tag)?s.tag:"p",m=l??r(c)??vs(e.tree,c)??_a.createDefault(c);bs(e,m),n.setNodeMarkup(a,t.nodes.textBlock,{...i.attrs,blockStyles:l?i.attrs.blockStyles:{},inlineStyles:l?i.attrs.inlineStyles:{},textStylePreset:m.id}),l||n.removeMark(a,i.nodeSize,t.marks.inlineStyles)}if(i.type===t.nodes.text){let s=i.marks.find(Ii);if(s){let l=o()??Ss(e.tree)??ys.createDefault();Cs(e,l),n.addMark(a,a+i.nodeSize,s.type.create({...s.attrs,linkStylePreset:l.id}))}}})}function pD(e,t,r){let o=e.state,n=o.selection;if(n instanceof Rr){let c=o.doc.resolve(1);n=new qt(c)}let i=n.$from.parent,a=pt(i),l=n.$from.marks().find(ho);if(l)r.addMark(0,r.doc.content.size,l);else if(a){let c=t.marks.inlineStyles.create({inlineStyles:i.attrs.inlineStyles});r.addMark(0,r.doc.content.size,c)}else r.removeMark(0,r.doc.content.size,t.marks.inlineStyles);r.doc.descendants((c,m)=>{if(!pt(c))return;let d=a?i.attrs:c.attrs;r.setNodeMarkup(m,t.nodes.textBlock,d)})}var UI="framer-rich-text",fD=/^https?:\/\/(?:www\.)?vimeo\.com\/\d+/u,hD=/^https?:\/\/(?:www\.)?youtu(?:\.be|be\.com)/u;function jI(e,t){return new gr({props:{handlePaste(r,o,n){let i=o.clipboardData?.getData("text/plain"),a=o.clipboardData?.getData("text/html");return i===""&&a===""?!0:ia(e,r,o,n,s=>{let l=!a&&i&&i.length>0;if(a?.endsWith(`<!--${UI}-->`))return s;let d=r.state.selection,f=d.$from.parent,h=f.textContent,y=pt(f)&&h.length>0,b=d instanceof Rr;return!y&&!l&&!b?yD(e,t,s):CD(r,s)})},clipboardSerializer:new Xd(je)}})}function Dre(e,t,r,o,n,i){return new gr({props:{transformPastedHTML(a){let s=bo(a);return Ul(s),s.innerHTML},handlePaste(a,s,l){if(t){let{clipboardData:m}=s;if(m&&m.files.length>0)return dn(e,je,a,m.files,{type:"paste"}).finally(i),!0}let c=s.clipboardData?.getData("text/plain");if(A(c)){let d=["http:","https:","mailto:","www."].some(f=>c.startsWith(f)),p=a.state.selection;if(d&&p.from!==p.to&&o){let f=va({url:c}),h=a.state.tr;return h.addMark(p.from,p.to,je.marks.link.create({link:f,openInNewTab:fs(f),smoothScroll:!1,clickTrackingId:void 0,linkStylePreset:void 0,relValues:void 0,preserveParams:!1})),a.dispatch(h),!0}if(r&&lt.isOn("cmsPasteModules")){let f=Z(c);if(Se(f))return oo(e,je,a,f.value).catch(Ne),!0;if(Ja(c))return $l(e,je,a,c).catch(Ne),!0}if(r){if(hD.test(c))return Hl(e,je,a,i,c).catch(Ne),!0;if(fD.test(c))return Gl(e,je,a,i,c).catch(Ne),!0}}return ia(e,a,s,l,m=>{let d=je.nodes.document.create(void 0),p=new Tn(d);p.insert(0,m.content);let f=[];p.doc.descendants((y,b)=>{if(pt(y)){let S=y.attrs.tag,I=n?.has(S)??!0,T=Vn(S)&&I?S:"p";p.setNodeMarkup(b,je.nodes.textBlock,{...y.attrs,blockStyles:{},inlineStyles:{},textStylePreset:void 0,tag:T})}Nn(y)&&f.push({src:y.attrs.src,type:y.attrs.type})}),f.length&&dn(e,je,a,f,{type:"paste",mediaExtractedFromHTML:!0}).finally(i),p.removeMark(0,p.doc.content.size,je.marks.inlineStyles),o||p.removeMark(0,p.doc.content.size,je.marks.link);let h=m.content.child(0).isInline?p.doc.content.child(0).content:p.doc.content;return new bn(h,m.openStart,m.openEnd)})}}})}var gD=document.createComment(UI),Xd=class{constructor(t){w(this,"domSerializer");w(this,"nodes");w(this,"marks");this.domSerializer=In.fromSchema(t),this.nodes=this.domSerializer.nodes,this.marks=this.domSerializer.marks}serializeNode(t,r){return this.domSerializer.serializeNode(t,r)}serializeFragment(t,r){let o=this.domSerializer.serializeFragment(t,r);return o.appendChild(gD),o}};function yD(e,t,r){let o=je.nodes.document.create(void 0),n=new Tn(o);n.insert(0,r.content);let i=e.tree.getNodeWithTrait(t,qe);g(i,"RichTextNode for pasting not found");let a=SD(e.tree,i);n.doc.descendants((l,c)=>{if(pt(l)){let m=l.attrs,d=A(m.textStylePreset)?e.tree.getNodeWithTrait(m.textStylePreset,zo):void 0,p=Vn(m.tag)?m.tag:"p",f=d??a[p]??i.getNodeTextStylePreset(e.tree,p)??vs(e.tree,p)??_a.createDefault(p);bs(e,f),n.setNodeMarkup(c,je.nodes.textBlock,{...l.attrs,blockStyles:d?l.attrs.blockStyles:{},inlineStyles:d?l.attrs.inlineStyles:{},textStylePreset:f.id}),d||n.removeMark(c,l.nodeSize,je.marks.inlineStyles)}if(l.type===je.nodes.text){let m=l.marks.find(Ii);if(m){let d=i.getNodeLinkStylePreset(e.tree)??Ss(e.tree)??ys.createDefault();Cs(e,d),n.addMark(c,c+l.nodeSize,je.marks.link.create({...m.attrs,linkStylePreset:d.id}))}}});let s=r.content.child(0).isInline?n.doc.content.child(0).content:n.doc.content;return new bn(s,r.openStart,r.openEnd)}function SD(e,t){let r={};for(let o of t.getTextStylePresets(!1)){let n=e.getNodeWithTrait(o,zo);n&&(r[n.tag]??=n)}return r}function CD(e,t){let r=e.state,o=r.selection;if(o instanceof Rr){let d=r.doc.resolve(1);o=new qt(d)}let n=je.nodes.document.create(void 0),i=new Tn(n);i.insert(0,t.content);let a=o.$from.parent,s=pt(a),c=o.$from.marks().find(ho);if(c)i.addMark(0,i.doc.content.size,c);else if(s){let d=je.marks.inlineStyles.create({inlineStyles:a.attrs.inlineStyles});i.addMark(0,i.doc.content.size,d)}else i.removeMark(0,i.doc.content.size,je.marks.inlineStyles);i.doc.descendants((d,p)=>{if(!pt(d))return;let f=s?a.attrs:d.attrs;i.setNodeMarkup(p,je.nodes.textBlock,f)});let m=t.content.child(0).isInline?i.doc.content.child(0).content:i.doc.content;return new bn(m,t.openStart,t.openEnd)}function Bre({engine:e,schema:t,nodeId:r,getRichTextNode:o}){return lt.isOn("pasteMarkdown")?HI({engine:e,schema:t,stylePresetGetters:{getStylePresetForTag:n=>{let i=o();if(i)return vD(e.tree,i,n)??i.getNodeTextStylePreset(e.tree,n)??void 0},getStylePresetForLink:()=>o()?.getNodeLinkStylePreset(e.tree)??void 0}}):jI(e,r)}function vD(e,t,r){for(let o of t.getTextStylePresets(!1)){let n=e.getNodeWithTrait(o,zo);if(n&&n.tag===r)return n}}var bD=["RGB","HSL","HEX","P3"];function zre(e){return bD.some(t=>t===e)}function Hre(e,t){let r=new Set,o=new Set;for(let n of t){if(o.has(n))continue;let i=e.get(n);if(i){if(yt(i)){r.add(n);continue}for(let a of i.ancestors())if(!o.has(a.id)&&(o.add(a.id),a.cache.reset(),!!yt(a))){r.add(a.id);break}}}return r}function ID(e){let t=Ql.isP3String(e)?hu.fromString(e):Ql(e);if(t)return t.r*.299+t.g*.587+t.b*.114+(1-t.a)*255}function _re(e){let t=ID(e);if(G(t))return t>128?"light":"dark"}var UD={};dT(UD,{amethyst:()=>ND,aquaBlue:()=>xD,atomDark:()=>wD,atomLight:()=>RD,ayuDark:()=>MD,ayuLight:()=>VD,cmsTheme:()=>TD,cobalt2:()=>DD,cyberpunk:()=>kD,dracula:()=>PD,framerDark:()=>aa,framerLight:()=>FD,freeCodeCamp:()=>LD,githubDark:()=>ED,githubLight:()=>AD,levelUp:()=>BD,magic:()=>zD,monokaiPro:()=>OD,neoCyan:()=>WD,nightOwl:()=>$D,sandpackDark:()=>HD,sandpackLight:()=>GD});var TD={colors:{surface1:At.cmsCodeBlockSurface1,surface3:At.cmsCodeBlockSurface3,disabled:At.cmsCodeBlockDisabled,accent:At.cmsCodeBlockAccent,errorSurface:At.cmsCodeBlockErrorSurface},syntax:{plain:At.cmsCodeBlockPlain,comment:At.cmsCodeBlockComment,keyword:At.cmsCodeBlockKeyword,tag:At.cmsCodeBlockTag,punctuation:At.cmsCodeBlockPunctuation,definition:At.cmsCodeBlockDefinition,property:At.cmsCodeBlockProperty,static:At.cmsCodeBlockStatic,string:At.cmsCodeBlockString},font:{mono:Ng.family.monospace,lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},ND={colors:{surface1:"#000000",surface3:"#3b3b4f",disabled:"#858591",accent:"#a26cd6",errorSurface:"#3b3b4f"},syntax:{plain:"#ffffff",comment:"#858591",keyword:"#a26cdd",tag:"#f07178",punctuation:"#99c9ff",definition:"#ffffff",property:"#99c9ff",static:"#f78c6c",string:"#57d1b7"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"18px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},xD={colors:{surface1:"#f8f9fb",surface3:"#e4e7eb",disabled:"#C5C5C5",accent:"#2e7692"},syntax:{plain:"#1F2933",comment:"#A7B6C2",keyword:"#1A56DB",tag:"#1A56DB",punctuation:"#394b59",definition:"#A23DAD",property:"#2e7692",static:"#1A56DB",string:"#1992D4"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},wD={colors:{surface1:"#282c34",surface3:"#2c313c",disabled:"#4d4d4d",accent:"#c678dd",errorSurface:"#ffeceb"},syntax:{plain:"#a8b1c2",comment:"#757575",keyword:"#c678dd",tag:"#e06c75",punctuation:"#a8b1c2",definition:"#62aeef",property:"#d19a66",static:"#a8b1c2",string:"#98c379"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},RD={colors:{surface1:"#fafafa"},syntax:{plain:"#383a42",comment:"#a0a1a7",keyword:"#a626a4",tag:"#e45649",punctuation:"#383a42",definition:"#c18401",property:"#4078f2",static:"#986801",string:"#50a14f"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},MD={colors:{surface1:"#0c1017"},syntax:{comment:"#646a72",definition:"#5ac2ff",keyword:"#ff9040",plain:"#bfbdb6",property:"#ffb454",punctuation:"#bfbdb6",static:"#d2a6ff",string:"#80d962",tag:"#3bbae7"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},VD={colors:{surface1:"#fafafa"},syntax:{comment:"#aaaeb1",definition:"#3b9ee6",keyword:"#fa8e3e",plain:"#5c6166",property:"#f2ae49",punctuation:"#5c6167",static:"#a37acc",string:"#87b300",tag:"#56b4d5"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},DD={colors:{surface1:"#193549",surface3:"#1f4662",disabled:"#C5C5C5",accent:"#ffc600",errorSurface:"#0d3a58"},syntax:{plain:"#ffffff",comment:"#0088ff",keyword:"#ff9d00",tag:"#9effff",punctuation:"#e1efff",definition:"#ffc600",property:"#ffc600",static:"#ffee80",string:"#a5ff90"},font:{mono:'"Operator Mono", "Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},kD={colors:{surface1:"#051c30",surface3:"#042f40",disabled:"#C5C5C5",accent:"#fdf500",errorSurface:"#051c30"},syntax:{plain:"#ffffff",comment:"#1ac5b0",keyword:"#fdf500",tag:"#ffc600",punctuation:"#afd7fa",definition:"#ffc600",property:"#fdf500",static:"#e455ae",string:"#37ebf3"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},PD={colors:{surface1:"#282a36",surface3:"#44475a",disabled:"#6272a4",accent:"#bd93f9",errorSurface:"#44475a"},syntax:{plain:"#f8f8f2",comment:"#6272a4",keyword:"#ff79c6",tag:"#ff79c6",punctuation:"#ff79c6",definition:"#f8f8f2",property:"#50fa7b",static:"#bd93f9",string:"#f1fa8c"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},aa={colors:{surface1:"#161820",surface3:"#2f2f2f",disabled:"#4d4d4d",accent:"#0099ff",errorSurface:"#ffe0e8"},syntax:{plain:"#eeeeee",comment:"#666666",keyword:"#00BBFF",tag:"#00BBFF",punctuation:"#999999",definition:"#ffcc66",property:"#77dddd",static:"#ff8866",string:"#bb88ff"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},FD={colors:{surface1:"#fafafa",surface3:"#f3f3f3",disabled:"#c5c5c5",accent:"#0099ff",errorSurface:"#ffe0e8"},syntax:{plain:"#666666",comment:"#bbbbbb",keyword:"#0099ff",tag:"#0099ff",punctuation:"#bbbbbb",definition:"#FFAA00",property:"#33cccc",static:"#ff8866",string:"#8855ff"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},LD={colors:{surface1:"#2a2a40",surface3:"#3b3b4f",disabled:"#858591",accent:"#dbb8ff",errorSurface:"#3b3b4f"},syntax:{plain:"#ffffff",comment:"#858591",keyword:"#dbb8ff",tag:"#f07178",punctuation:"#99c9ff",definition:"#ffffff",property:"#99c9ff",static:"#f78c6c",string:"#acd157"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},ED={colors:{surface1:"#0d1117",surface3:aa.colors?.surface3,disabled:aa.colors?.disabled,accent:aa.colors?.accent,errorSurface:aa.colors?.errorSurface},syntax:{comment:"#8b949e",definition:"#d2a8ff",keyword:"#ff7b72",plain:"#e6edf3",property:"#79c0ff",punctuation:"#e6edf3",static:"#7ee787",string:"#a5d6ff",tag:"#7ee787"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},AD={colors:{surface1:"#ffffff",surface3:"#f5f5f5",disabled:"#d1d4d8",accent:"#24292e"},syntax:{keyword:"#d73a49",property:"#005cc5",plain:"#24292e",static:"#032f62",string:"#032f62",definition:"#6f42c1",punctuation:"#24292e",tag:"#22863a",comment:"#6a737d"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"normal",property:"normal",keyword:"normal"}},BD={colors:{surface1:"#191324",surface3:"#524763",disabled:"#aaaaaa",accent:"#82d8d8",errorSurface:"#191324"},syntax:{plain:"#ffffff",comment:"#82d8d8",keyword:"#e54b4b",tag:"#ff26be",punctuation:"#9588aa",definition:"#82d8d8",property:"#82d8d8",static:"#82d8d8",string:"#a8fe39"},font:{mono:'"MonoLisa", "Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},OD={colors:{surface1:"#2D2A2E",surface3:"#484747",disabled:"#444344",accent:"#FFD866",errorSurface:"#c24038"},syntax:{plain:"rgb(252, 252, 250)",comment:"#757575",keyword:"rgb(255, 97, 136)",tag:"rgb(120, 220, 232)",punctuation:"rgb(147, 146, 147)",definition:"rgb(169, 220, 118)",property:"rgb(120, 220, 232)",static:"rgb(171, 157, 242)",string:"rgb(255, 216, 102)"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"italic",keyword:"normal"}},zD={colors:{surface1:"#f6f6f8",surface3:"#f6f6f8",disabled:"#C5C5C5",accent:"#ffa600",errorSurface:"#ffeceb"},syntax:{plain:"#151515",comment:"#cacacd",keyword:"#ffa600",tag:"#ff9a4d",punctuation:"#ffb3b3",definition:"#ff6f00",property:"#9900ff",static:"#FF453A",string:"#f53524"},font:{mono:'"Roboto Mono", monospace',lineHeight:"24px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},WD={colors:{surface1:"#2b3935",surface3:"#524763",disabled:"#aaaaaa",accent:"#82d8d8",errorSurface:"#191324"},syntax:{plain:"#ffffff",comment:"#82d8d8",keyword:"#e54b4b",tag:"#ff26be",punctuation:"#9588aa",definition:"#82d8d8",property:"#82d8d8",static:"#82d8d8",string:"#a8fe39"},font:{mono:'"MonoLisa", "Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"18px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},$D={colors:{surface1:"#011627",surface3:"#112331",disabled:"#4D4D4D",accent:"#c5e4fd",errorSurface:"#811e18"},syntax:{plain:"#d6deeb",comment:"#999999",keyword:"#c792ea",tag:"#7fdbca",punctuation:"#7fdbca",definition:"#82aaff",property:"#addb67",static:"#f78c6c",string:"#ecc48d"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"italic",keyword:"italic"}},HD={colors:{surface1:"#151515",surface3:"#2F2F2F",disabled:"#4D4D4D",accent:"#90e86f",errorSurface:"#b08df8"},syntax:{plain:"#f0fdaf",comment:"#757575",keyword:"#e5fd78",tag:"#f0fdaf",punctuation:"#ffffff",definition:"#eeeeee",property:"#90e86f",static:"#ffffff",string:"#dafecf"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}},GD={colors:{surface1:"#ffffff",surface3:"#F3F3F3",disabled:"#C5C5C5",accent:"#3973E0",errorSurface:"#FCF1F0"},syntax:{plain:"#151515",comment:"#999",keyword:"#7C5AE3",tag:"#0971F1",punctuation:"#3B3B3B",definition:"#85A600",property:"#3B3B3B",static:"#3B3B3B",string:"#2E6BD0"},font:{mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',lineHeight:"20px"},fontStyle:{comment:"italic",property:"normal",keyword:"normal"}};async function Yre(e){let t=Uc.on(ou).expect();return new Promise(r=>{bi(e)&&e.stores.canvasStore.setColorSamplerActive(!0),e.scheduler.runBeforeNextFrame(async()=>{let{color:o}=await t.sampleColor();e.scheduler.process(()=>{bi(e)&&e.stores.canvasStore.setColorSamplerActive(!1),r(o)})})})}function _I(){return Fg.isOn("disableSecureCanvas")}var jD,_D,JD=new Promise((e,t)=>{jD=e,_D=t});function ioe(e){if(bi(e)){if(e.canvasSandbox?.sandbox.controlsVisibility)return Promise.resolve(e.canvasSandbox.sandbox.controlsVisibility);if(_I())return Promise.resolve(new sy(e))}return kg(e)?e.stores.sandboxStore.getControlsVisibility():JD}function Soe(e,t,r){return gp(r)?YD(e,t,r):yp(r)?KD(e,t,r):hp(r)?QD(e,t,r):null}function XD(e,t){return He(t*Math.sin(Yl(e)),t*Math.cos(Yl(e))*-1)}function qD(e,t){if(e.type==="conic"){let{angle:r,radius:o}=e;return t.map(n=>{let i=r+n.position*360;return XD(i,o)})}return t.map(r=>ht.pointAtPercentDistance(e.axis,r.position))}function KD(e,t,r){let o=e.getRect(t),n=r.centerAnchorX*o.width,i=r.centerAnchorY*o.height,a=r.widthFactor*o.width,s=r.heightFactor*o.height,l=a*2,c=s*2,m=a+n,d=i-s,p={width:l,height:c},f=e.convertPointToCanvas(t,{x:n,y:i}),h=e.convertPointToCanvas(t,{x:m,y:i}),y=e.convertPointToCanvas(t,{x:n,y:d}),{rotation:b}=e.convertRectToCanvasWithRotation(t),S=ht(f,h);return{type:"radial",start:f,end:h,center:ht.pointAtPercentDistance(S,0),axis:S,rotation:b,size:p,topCenter:y}}function YD(e,t,r){let o=e.getRect(t),n={x:o.width/2,y:o.height/2},i=e.convertPointToCanvas(t,n),a=r.angle*Math.PI/180,s={x:-Math.sin(a)*100,y:Math.cos(a)*100},l=e.convertPointToCanvas(t,He.add(n,s)),c=ht(i,l),m=_l(r.angle),d=rt.pointsAtOrigin(o),p=Math.floor(m/90)+3,f=d[p%4],h=e.convertPointToCanvas(t,f),y=d[(p+2)%4],b=e.convertPointToCanvas(t,y),S=ht.perpendicular(c,h),I=ht.intersection(S,c);if(!I)return null;let T=He.subtract(i,I),R=He.add(I,T,T),M=d[(p+1)%4],L=e.convertPointToCanvas(t,M),F=ht.perpendicular(S,L),j=ht.perpendicular(c,i),z=ht.intersection(F,j);if(!z)return null;let ee={width:He.distance(z,i)*2,height:He.distance(I,R)};return{type:"linear",start:I,end:R,center:i,axis:ht(I,R),startCorner:h,endCorner:b,size:ee}}function QD(e,t,r){let o=e.getRect(t),n=e.convertPointToCanvas(t,{x:o.width/2*r.centerAnchorX/.5,y:o.height/2*r.centerAnchorY/.5}),[i,a]=rt.midPoints(o),s=rt.center(o),l=He.distance(s,i),c=He.distance(s,a),m=Math.min(l,c),d=e.totalAncestorRotation(t),p=_l(d+r.angle);return{type:"conic",start:He(s.x,s.y-m),center:n,rotation:0,radius:m,angle:p}}var Coe=(e,t,r,o)=>{let n=qD(e,t),i=n[0],a=n[n.length-1];if(i.x===a.x&&i.y===a.y&&He.distance(r,i)<o)return!0;let s=ht(i,a),l=ht.perpendicular(s,r),c=ht.intersection(s,l);if(e.type==="radial"&&He.distance(r,e.topCenter)<o)return!0;if(e.type==="conic")return He.distance(r,e.center)<=e.radius+40;if(!c)return!1;let m=He.distance(r,c),d=He.distance(r,i),p=He.distance(r,a),f=He.distance(i,a);return d>f&&p<d?Math.max(p,m)<o:p>f&&d<p?Math.max(d,m)<o:m<o};function ZD(e,t){let r=e.reduce((a,s)=>Math.abs(a.position-t)<Math.abs(s.position-t)?a:s),o=e.findIndex(a=>a===r),n=r.position-t>0?o-1:o+1,i=e[n]??r;return[r,i]}function voe(e,t,r,o){let[n,i]=ZD(t,r),a=pa([n.position,i.position],[0,1])(r),s=qd(e,n,o),l=qd(e,i,o);return pa([0,1],[s,l])(a)}function qd(e,t,r){let o=t.value;if(!Ma(o))return o;let n=nm(o),i=n?Mg(n,e):null;return i&&Wu(i)?i.colorForMode(r):im(o)||"transparent"}function boe(e,t,r){return t.map(o=>o.merge({value:qd(e,o,r)}))}function Ioe(e,t){let r=ht(t,e.center),o=e.center.x,n=e.center.y-e.radius,i=ht(He(o,n),e.center),a=ht.intersectionAngle(i,r),l=_l(a)-e.angle,c=_l(l);return Math.abs(c/360)}function _l(e){if(e===360)return e;let t=e%360;return t<0?360+t:t}function Toe(e){return e.sort((t,r)=>t.position-r.position)}function Noe(e){let t=!1,r=pa([e.stops[0]?.position??0,e.stops[e.stops.length-1]?.position??1],[0,1]),o=e.stops.map(n=>((n.position<0||n.position>1)&&(t=!0),n.merge({position:r(n.position)})));return t?o:void 0}var JI="--top-flash-inset",XI="--right-flash-inset",qI="--bottom-flash-inset",KI="--left-flash-inset",YI="--flash-radius",Kd="flash_fh6lfgu",Yd="defaultStyle_d8eehx6",QI="warningStyle_wdvaq7i",ZI="glowStyle_ghqxg7a";var la=2;function eT(e="default"){switch(e){case"glow":return[ZI];case"default":return[Yd];case"warning":return[Yd,QI]}}function sa(e,t,r){e.style.setProperty(t,`${r??0}px`)}function tT(e,t){sa(e,JI,t?.inset?.top),sa(e,XI,t?.inset?.right),sa(e,qI,t?.inset?.bottom),sa(e,KI,t?.inset?.left),t?.radius&&sa(e,YI,t.radius),e.addEventListener("animationend",function r(){e.classList.remove(Kd),e.classList.remove(...eT(t?.style)),e.removeEventListener("animationend",r)}),e.classList.add(Kd),e.classList.add(...eT(t?.style))}function rT(e){tT(e,{style:"default",inset:{top:la,right:-(Lc.panelPadding-la),left:-(Lc.panelPadding-la),bottom:la}})}function oT({id:e,flash:t}){let r=document.getElementById(e);r instanceof HTMLDivElement&&(SI(r,{scrollMode:"if-needed",block:"start"}),t&&rT(r))}function nT(e){let t=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:document.defaultView,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(t)}var iT="breadcrumb-collection";function tk(e,t,r){let o=e.tree.getNode(r);if(!o)return null;if(!Xo(o))return{variableProvider:o,variableId:t};let n=e.tree.getNodeWithTrait(o.dataRepeaterArray.providerId,fm);return n?{variableProvider:n,variableId:o.dataRepeaterArray.id}:null}function sne(e,t,r){let{chromeStore:o,modalStore:n,variablesStore:i,contentManagementStore:a,scopeStore:s,codeEditorStore:l,selectionStore:c}=e.stores;if(r===cp){o.setLocalizationsVisible(!0);return}let m=tk(e,t,r);if(!m)return;let{variableProvider:d,variableId:p}=m;if(dm(d))i.selectedVariableId=p,n.set({type:"Variables",source:"variableReference"});else if($(d)||Gr(d)){let{dataIdentifier:f}=d;if(!f)return;if(Ir(f)){if(o.isViewOnly)return;n.set({type:"Confirmation",title:"External Collection",description:`This is an external ${"Collection".toLowerCase()} preview. To edit, choose a collection to swap in or create a local copy of this collection.`,confirmLabel:"View Options",source:"edit_action",onConfirm:()=>{o.chromeIsVisible=!0,mt(d)?(c.set(d.id),e.scheduler.runAtEndOfFrame(()=>oT({id:"data-repeater-panel",flash:!0}))):$(d)?e.scheduler.runAtEndOfFrame(()=>{let b=document.getElementById(iT);b&&nT(b)}):void 0}});return}let h=fi(e.tree,f);if(h){$(d)&&g(d.isLoaded(),"Web page node should be loaded");let b=rk({collectionNode:h,engine:e,variableId:p,variableProvider:d});b?(a.pushExistingItemToOverlayStack(b.collectionItemNode.id),a.setCollectionItemControlToHighlight(b.variableId)):(s.select(up,{keepHistory:!1}),c.set(h),a.setCollectionItemControlToHighlight(p));return}let y=py(P,f);y&&l.editFile(y.file)}}function rk({collectionNode:e,engine:t,variableId:r,variableProvider:o}){let n=aT({engine:t,variableProvider:o});if(n)return n;let i=r.split(".");g(i.length>=0,"VariableID must not be empty");let a=Mi(o,t.stores.treeStore.sandboxCollectionData),s=t.tree.getNodeWithTrait(a,so);if(s)return Da(t.tree,t.stores.treeStore.sandboxCollectionData,r,s,e)}function aT({engine:e,variableProvider:t}){if(!Pf(t))return;let[r,...o]=t.collectionFilters?.filters.flatMap(l=>l?.itemKey!=="id"?[]:l.transforms).flatMap(l=>ok(l)??[])??[];if(!r?.providerId||o.length>0)return;let n=e.tree.getNode(r.providerId);if(!n||!(Le(n)||$(n))||!n.dataIdentifier)return;let i=fi(e.tree,n.dataIdentifier);if(!i)return;let a=Mi(n,e.stores.treeStore.sandboxCollectionData),s=e.tree.get(a);if(so(s))return s?{collectionItemNode:s,collectionNode:i,variableId:r.id}:aT({engine:e,variableProvider:n})}function ok(e){if(!(e.name!=="equals"&&e.name!=="isIncludedIn"||!ue(e.value)||!e.value.providerId))return e.value}var cne="My website";var dne="My description",une="yoursite.url";export{Uc as a,ir as b,yL as c,SL as d,CL as e,vL as f,bL as g,IL as h,TL as i,NL as j,xL as k,wL as l,RL as m,ML as n,VL as o,LN as p,DL as q,EL as r,AL as s,Yre as t,_I as u,jD as v,_D as w,ioe as x,MZ as y,ta as z,ra as A,jZ as B,ree as C,SI as D,Iee as E,Dee as F,kee as G,kI as H,Pee as I,Eee as J,Aee as K,ak as L,sk as M,lk as N,Uee as O,qee as P,FI as Q,tte as R,na as S,Hl as T,ute as U,mte as V,JS as W,jS as X,nC as Y,sC as Z,nE as _,tD as $,Tte as aa,rD as ba,dn as ca,Nte as da,HI as ea,Dre as fa,Bre as ga,Soe as ha,XD as ia,qD as ja,Coe as ka,voe as la,qd as ma,boe as na,Ioe as oa,Toe as pa,Noe as qa,lC as ra,la as sa,tT as ta,oT as ua,iT as va,sne as wa,bD as xa,zre as ya,Hre as za,yT as Aa,oP as Ba,nP as Ca,aO as Da,DC as Ea,sO as Fa,gE as Ga,cC as Ha,QC as Ia,cJ as Ja,Sl as Ka,Tl as La,xl as Ma,B4 as Na,yb as Oa,U8 as Pa,j8 as Qa,oM as Ra,nM as Sa,iM as Ta,aM as Ua,_8 as Va,Cb as Wa,Fl as Xa,ln as Ya,jb as Za,Gb as _a,YN as $a,kE as ab,ZN as bb,tK as cb,iK as db,cn as eb,Po as fb,fC as gb,Yb as hb,si as ib,tI as jb,oQ as kb,oI as lb,nI as mb,aI as nb,li as ob,cI as pb,dI as qb,uI as rb,RV as sb,ZQ as tb,_re as ub,cne as vb,dne as wb,une as xb,nZ as yb,mI as zb,pI as Ab,TD as Bb,ED as Cb,AD as Db,UD as Eb};
//# sourceMappingURL=https://app.framerstatic.com/chunk-OE3UH73D.mjs.map
