import{i as l,p as m}from"https://app.framerstatic.com/chunk-65XKJBP2.mjs";import{s as c}from"https://app.framerstatic.com/chunk-PNIOO2GU.mjs";import{a as p}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";function f(){return l(window)?.override!=="tunnel"?null:document.cookie.match(/\btunnel=([^;]*)/)?.[1]||null}var d={app:"127.0.0.1",canvas:"127.0.0.1",https:!1},u={app:"localhost",canvas:"localhost",https:!1},g={app:"web.framerlocal.com",canvas:"web.framerlocal.com",https:!1},D=[{app:"development.framer.com",canvas:"framercanvas.dev",https:!0},{app:".development.framer.com",canvas:".framercanvas.dev",https:!0},{app:".framer.com",canvas:".framercanvas.com",https:!0},{app:"framer.com",canvas:"framercanvas.com",https:!0},g,d,u],h=!1;function v(t,e){for(let n of D){let o=n[t];if(e===o)return n;if(o.startsWith(".")&&e.endsWith(o))return n}}function L(t){let e=window.location,n=new URL(t,e.href);if(n.origin!==e.origin)throw Error(`Domain lookup requires relative paths. Received ${t}`);let o=v("app",e.hostname);if(!o||o.https&&n.protocol!=="https:")throw Error(`Running on unknown app domain: ${n}`);let a;try{a=new URL(c().canvas).hostname}catch{}let r=a?n.hostname:o.app,i=a??o[h?"app":"canvas"];n.hostname.endsWith(r)&&(n.hostname=n.hostname.slice(0,-r.length)+i);let s=f();s?n.searchParams.set("tunnel",s):new URLSearchParams(e.search).get("tunnel")===""&&n.searchParams.set("tunnel","");let w=m.get("prototypeTreeDriver");n.searchParams.set("experiment",`prototypeTreeDriver=${w}`);let x=m.get("newRpc");return n.searchParams.append("experiment",`newRpc=${x}`),{url:n.href,origin:n.origin,isCrossOriginProtected:r!==i}}function S(t){if(navigator.userAgent.indexOf("FramerCommand")!==-1)return;let e=window.location,{origin:n,isCrossOriginProtected:o}=L(t),a=e.hostname===d.app,r=e.hostname===u.app,i=e.hostname===g.app;p(o||(a||r||i||h),`Attempt to create unsafe sandboxed app for origin: ${n} on page with origin: ${e.origin}`)}function U(t){if(!t)return{origin:"*"};let e=window.location,n=new URL(t),o=v("app",n.hostname);return p(n&&n.protocol===e.protocol&&o,`Attempt to create secure link from sandboxed app (${e.href}) to unknown editor domain (${t})`),{origin:n.origin}}export{f as a,h as b,L as c,S as d,U as e};
//# sourceMappingURL=https://app.framerstatic.com/chunk-XGYAAWSK.mjs.map
