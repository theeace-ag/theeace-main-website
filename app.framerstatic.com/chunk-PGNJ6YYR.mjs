import{c as m}from"https://app.framerstatic.com/chunk-ACLYC7XQ.mjs";var T=1e3*1024,l=150*T;function f(n){return n*T}async function $({endpoint:n,fieldName:v,file:t,icon:x,onToast:e,customMaxSize:i,onExceedsCustomMaxSize:c}){let o=`upload${Math.random()}`,u=i?f(i):l;if(t.size>u)return u<l&&c?c(t.size):e({type:"add",key:o,variant:"error",text:`File too large: ${t.name}`,duration:1e4,icon:"error",moveToTop:!0}),null;let a=0,d=95,y=100/d;try{let r=await m(n,{[v]:t},s=>{let p=Math.round(s*d);if(p===a)return;a=p;let g=Math.round(a*y*.95);e({type:"add",key:o,variant:"progress",icon:x,text:`Uploading ${t.name}\u2026 ${g}%`,duration:1/0,showCloseButton:"never"})});return e({type:"add",key:o,variant:"success",text:`${t.name} has been uploaded`,duration:1e4,icon:"success",moveToTop:!0}),r}catch(r){let s=r instanceof Error?r.message:String(r);return e({type:"add",key:o,variant:"error",text:`Error uploading ${t.name}: ${s}`,duration:3e4,icon:"error",moveToTop:!0}),null}}export{T as a,$ as b};
//# sourceMappingURL=https://app.framerstatic.com/chunk-PGNJ6YYR.mjs.map
